!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(465)},,,function(e,t,n){"use strict";var i=n(4),r=n(5),o=n(6),s=n(7),a=n(8),l=n(9),c=n(10),u=n(12),h=n(15),f=n(16),d=n(17),p=n(18),g=n(19),m=n(20),v=n(21),_=n(22),b=n(23),y=n(24);e.exports={ajax:i,liveInterface:r,taskInterface:o,roomInterface:a,hostInterface:s,verifyCodeInterface:l,rucInterface:c,selfInfoInterface:u,statInfoInterface:h,searchInterface:f,giftInterface:d,videoInterface:g,privateMsgInterface:p,bagInterface:m,foolDaysInterface:v,dnsApiInterface:_,qqgroupInterface:b,addressInterface:y}},function(e,t){"use strict";function n(e,t){return t=t||{},$.ajax("https://u.panda.tv/"+e,{data:t,dataType:"jsonp",timeout:15e3,jsonp:"_jp"})}function i(e,t,n){return t=t||{},n=n||{},PDR.ajax(e,$.extend({},n,{data:t,dataType:"json"}))}function r(e,t,n){return t=t||{},n=n||{},PDR.ajax(e,$.extend({},n,{method:"POST",data:t,dataType:"json"}))}function o(e,t,n){return t=t||{},n=n||{},$.ajax(l+e,$.extend({},n,{data:t,cache:!1,dataType:"json"}))}function s(e,t,n){return t=t||{},n=n||{},$.ajax("//bag.gate.panda.tv"+e,$.extend({},n,{data:t,cache:!1,dataType:"json"}))}function a(e,t,n){return t=t||{},n=n||{},$.ajax(c+e,$.extend({},n,{data:t,cache:!1,dataType:"json"}))}var l="//mall.gate.panda.tv",c="//biz.gate.panda.tv";e.exports={getData:i,postData:r,requestHttpsRuc:n,requestMall:o,requestBag:s,requestAddress:a}},function(e,t,n){"use strict";var i=n(4),r={getNewHostList:function(e){var t=$.Deferred();return i.getData("/live_lists",{pageno:1,pagenum:e,status:2}).then(function(e){e&&0==e.errno&&e.data?t.resolve(e.data):t.resolve(null)}).fail(function(){t.resolve(null)}),t.promise()},getUnfollowedList:function(e){var t=$.Deferred();return i.getData("/live_online_unfollowed",{num:e,status:2}).then(function(e){e&&0==e.errno&&e.data?t.resolve(e.data):t.resolve(null)}).fail(function(){t.resolve(null)}),t.promise()}};e.exports=r},function(e,t,n){"use strict";var i=n(4),r={getTimerConfig:function(){return i.getData("/ajax_time_task_list")},finishTaskById:function(e){return i.getData("/ajax_time_task_done",{task_id:e})},getTimerAward:function(e,t,n,r){return n=n||{},r=r||PDR.getRoomId(),i.getData("/ajax_task_rewards_get",$.extend({my_task_id:e,roomid:r,appkey:t||"pandaren_time_task",__plat:PDR.__plat,app:"pandatv"},n))},getNewFishTaskList:function(){var e=$.Deferred();return i.getData("/ajax_newer_task_list").then(function(t){t&&0==t.errno&&t.data?e.resolve(t.data):e.resolve(null)}).fail(function(){e.resolve(null)}),e.promise()},getTimeLimitTaskState:function(){var e=$.Deferred();return i.getData("/ajax_ltask_get").then(function(t){t&&0==t.errno&&t.data?e.resolve(t.data):e.reject()}).fail(function(){e.reject()}),e.promise()},getTimeLimitTaskAward:function(e){return e=e||{},i.getData("/ajax_task_rewards_get",$.extend({roomid:PDR.getRoomId(),__plat:PDR.__plat,appkey:"panda_tlimit_task",app:"pandatv"},e))}};e.exports=r},function(e,t,n){"use strict";var i=n(4),r={getUserMail:function(){return i.getData("/ajax_host_email")},getHostApplication:function(){return i.getData("/ajax_get_hostinfo")},submitHostApplication:function(e){return e=e||{},i.postData("/ajax_set_hostinfo",e)}};e.exports=r},function(e,t,n){"use strict";var i=PDR.getRoomId(),r=n(4),o=null,s=!1,a=!1,l={getRoomInfoV3:function(e){var t=window._config_roominfo,n=$.Deferred();if(!o||e&&e!=i)if(!s&&t&&t.roominfo&&t.hostinfo&&t.videoinfo&&t.chatconfig&&t.roominfo.id==e){s=!0;var a=$.extend(!0,{},t);r.getData("/api_room_v3",$.extend({hostid:t.hostinfo.rid,roomid:e,roomkey:a.videoinfo.room_key,_:$.now()},a.callbackParam)).then(function(t){t&&0==t.errno&&t.data?(i=e,a=$.extend(!0,a,t.data),o=a,n.resolve(a)):n.resolve(null)}).fail(function(){n.resolve(null)})}else this.getRoomInfo(e).then(function(e){n.resolve(e)}).fail(function(){n.resolve(null)});else n.resolve(o);return n.promise()},getRoomInfoV21:function(e){var t=$.Deferred();return!o||e&&e!=i?a?this.getRoomInfo(e).then(function(e){t.resolve(e)}).fail(function(){t.resolve(null)}):(a=!0,r.getData("/api_room_v21",{roomid:e,_:$.now()}).then(function(n){if(n&&0==n.errno&&n.data){var s=n.data;r.getData("/api_room_v3",$.extend({hostid:s.hostinfo.rid,roomid:e,roomkey:s.videoinfo.room_key,_:$.now()},s.callbackParam)).then(function(r){r&&0==r.errno&&r.data?(i=e,s=$.extend(!0,{},n.data,r.data),o=s,t.resolve(s)):t.resolve(null)}).fail(function(){t.resolve(null)})}else t.resolve(null)}).fail(function(){t.resolve(null)})):t.resolve(o),t.promise()},getRoomInfo:function(e){var t=$.Deferred();return!o||e&&e!=i?r.getData("/api_room_v2",{roomid:e,_:$.now()}).then(function(n){n&&0==n.errno&&n.data?(i=e,o=n.data,t.resolve(n.data)):t.resolve(null)}).fail(function(){t.resolve(null)}):t.resolve(o),t.promise()},getRoomInfoFresh:function(e){var t=$.Deferred();return r.getData("/api_room_v2",{roomid:e,_:$.now()}).then(function(n){n&&0==n.errno&&n.data?(i=e,o=n.data,t.resolve(n.data)):t.resolve(null)}).fail(function(){t.resolve(null)}),t.promise()},getRoomPlflag:function(e,t){var n=$.Deferred();return o&&e&&e==i?r.getData("/ajax_privateroom_pullinfo",$.extend({_:$.now()},t)).then(function(t){t&&0==t.errno&&t.data&&e==i?(o.videoinfo&&$.extend(o.videoinfo,t.data.videoinfo),n.resolve(t)):n.resolve(null)}).fail(function(){n.resolve(null)}):n.resolve(null),n.promise()},updateSpeakInterval:function(e,t){o&&o.chatconfig&&e==i&&(o.chatconfig.speak_interval=t)},updateChatConfig:function(e,t){o&&o.chatconfig&&e==i&&(o.chatconfig.speak_interval=t.speak_interval,o.chatconfig.min_level=t.min_level,o.chatconfig.all_forbid=t.all_forbid)},getHostInfo:function(){var e=$.Deferred();return o?e.resolve(o.hostinfo):l.getRoomInfo().then(function(t){e.resolve(t.hostinfo)}).fail(function(){e.resolve(null)}),e.promise()},getRoomFollowInfo:function(e){var t=$.Deferred();return e?r.getData("/room_followinfo",{roomid:e,_:$.now()}).then(function(e){e&&0===e.errno&&e.data?t.resolve(e.data):t.reject(null)}).fail(function(){t.reject(null)}):t.reject(null),t.promise()},postFollowRoom:function(e){return r.postData("/ajax_follow",{roomid:e})},postUnFollowRoom:function(e){return r.postData("/ajax_unfollow",{roomid:e})},getStationData:function(e,t){var n="//ivern.gate.panda.tv/weekly_rank/",i=$.Deferred();return e&&t?$.when(r.getData("/station/roominfo",{roomid:e,hostid:t}),$.ajax(n+"anchor_station_rank",{data:{anchorid:t},cache:!1,dataType:"json"})).then(function(e,t){e=e[0],t=t[0];var n={};if(e&&0===e.errno&&e.data&&t&&0===t.errno&&t.data){var r={isbuy:t.data.day_buy,day_score:t.data.day_score,score:t.data.week_score,rank:t.data.week_rank};n={gift:e.data.gift,prizelist:e.data.prizelist,rankinfo:r},i.resolve(n)}else i.reject(null)}).fail(function(){i.reject(null)}):i.reject(null),i.promise()},sendPresent:function(e){var t=$.Deferred();return this.getRoomInfo().then(function(n){var i=n.roominfo,o=n.hostinfo,s=o.rid,a=i.id;r.getData("/ajax_bamboos_send",{bamboos_num:e,to:s,roomid:a,__plat:PDR.__plat}).then(function(e){t.resolve(e)})}),t.promise()},sendGroupMsg:function(e,t,n,i){var o=$.Deferred();return l.getRoomInfo(t).then(function(t){var s=t.userinfo,a=t.roominfo;if(!s||!s.rid||parseInt(s.rid)<=0)o.reject("用户没有登录");else if(a&&a.id){var l={roomid:a.id,type:1,content:e,hostid:t.hostinfo.rid,__plat:PDR.__plat,topMsg:i?1:0};$.extend(l,n||{}),r.getData("/ajax_send_group_msg",l).then(function(e){o.resolve(e)}).fail(function(){o.reject("请求发送失败")})}else o.reject("没有房间消息")}),o.promise()},appointManager:function(e){var t=$.Deferred();return this.getRoomInfo().then(function(n){r.postData("/ajax_user_role_allocate",$.extend({roomid:n.roominfo.id},e)).then(function(e){0==e.errno?t.resolve():t.reject(e.errmsg)}).fail(function(){t.reject("添加管理员失败")})}),t.promise()},removeManager:function(e){var t=$.Deferred();return this.getRoomInfo().then(function(n){r.postData("/ajax_user_role_del",$.extend({roomid:n.roominfo.id},e)).then(function(e){0==e.errno?t.resolve():t.reject(e.errmsg)}).fail(function(){t.reject("解除管理员失败")})}),t.promise()},silence:function(e){var t=$.Deferred();return this.getRoomInfo().then(function(n){r.postData("/ajax_forbid_speak",{roomid:n.roominfo.id,person_id:e}).then(function(e){0==e.errno?t.resolve():t.reject(e.errmsg)}).fail(function(){t.reject("禁言失败")})}),t.promise()},silenceIP:function(e){var t=$.Deferred();return this.getRoomInfo().then(function(n){r.postData("/ajax_forbid_ip",{roomid:n.roominfo.id,person_id:e}).then(function(e){0==e.errno?t.resolve():t.reject(e.errmsg)}).fail(function(){t.reject("封禁IP失败")})}),t.promise()},report:function(e){var t=$.Deferred();return $.ajax({type:"post",dataType:"json",url:"//api.report.panda.tv/report/ajax_report_msg",data:e}).then(function(e){0==e.errno?t.resolve():t.reject(e.errno)}).fail(function(){t.reject("举报失败")}),t},clear:function(){o=null}};e.exports=l},function(e,t,n){"use strict";var i=n(4),r={getHostPhone:function(e){return i.requestHttpsRuc("ajax_send_apply_anchor_sms",{})},checkHostPhone:function(e,t){return i.requestHttpsRuc("ajax_check_apply_anchor",{vcode:t})},sendRetrievePasswordSMS:function(){var e=$.Deferred();return i.requestHttpsRuc("ajax_send_reset_pwd_sms").then(function(t){return e.resolve(t)}),e.promise()},checkRetrievePasswordSMS:function(e){var t=$.Deferred();return i.requestHttpsRuc("ajax_check_reset_pwd_mobile",e).then(function(e){t.resolve(e)}),t.promise()}};e.exports=r},function(e,t,n){"use strict";function i(e){var t=$.Deferred();return $.when(k.requestHttpsRuc("ajax_aeskey")).then(function(n){var i=n.data||"";i=I.enc.Utf8.parse(i);var r=I.enc.Utf8.parse("995d1b5ebbac3761"),o=I.AES.encrypt(e.password,i,{iv:r,mode:I.mode.CBC,padding:I.pad.ZeroPadding}).toString();t.resolve(o)}).fail(function(e){e.errmsg="熊猫君遇到了一些阻碍，请稍后再试",t.reject(e)}),t.promise()}function r(e,t){var n=$.Deferred(),i=I.enc.Utf8.parse(e),r=I.enc.Utf8.parse("995d1b5ebbac3761"),o=I.AES.encrypt(t,i,{iv:r,mode:I.mode.CBC,padding:I.pad.ZeroPadding}).toString();return n.resolve(o),n}function o(e){return k.requestHttpsRuc("ajax_login",e)}function s(e){return k.requestHttpsRuc("ajax_mobile_register",e)}function a(){return k.requestHttpsRuc("logout")}function l(){var e=$.Deferred();return k.requestHttpsRuc("auth").then(function(t){0==t.errno&&t.data?e.resolve(t.data):e.resolve(null)}).fail(function(t){t.errmsg="熊猫君遇到了一些阻碍，请稍后再试",e.reject(t)}),e.promise()}function c(e){var t=$.Deferred();return k.requestHttpsRuc("ajax_check_nickname",e).then(function(e){0==e.errno&&e.data?t.resolve(e.data):t.resolve(null)}).fail(function(e){e.errmsg="熊猫君遇到了一些阻碍，请稍后再试",t.reject(e)}),t.promise()}function u(){var e=$.Deferred();return k.requestHttpsRuc("check_modify_nick").then(function(t){0==t.errno?e.resolve(!0):e.resolve(!1)}).fail(function(t){t.errmsg="熊猫君遇到了一些阻碍，请稍后再试",e.reject(t)}),e.promise()}function h(e){var t=$.Deferred();return k.requestHttpsRuc("ajax_send_register_sms",e).then(function(e){0==e.errno?t.resolve():t.reject(e)}).fail(function(e){e.errmsg="熊猫君遇到了一些阻碍，请稍后再试",t.reject(e)}),t.promise()}function f(e){var t=$.Deferred();return k.requestHttpsRuc("ajax_forgetmain",e).then(function(e){t.resolve(e)}).fail(function(e){e.errmsg="熊猫君遇到了一些阻碍，请稍后再试",t.reject(e)}),t.promise()}function d(e){var t=$.Deferred();return k.requestHttpsRuc("ajax_resetpwd",e).then(function(e){t.resolve(e)}).fail(function(e){e.errmsg="熊猫君遇到了一些阻碍，请稍后再试",t.reject(e)}),t.promise()}function p(e){var t=$.Deferred();return k.requestHttpsRuc("ajax_reset_forget_pwd",e).then(function(e){t.resolve(e)}).fail(function(e){e.errmsg="熊猫君遇到了一些阻碍，请稍后再试",t.reject(e)}),t.promise()}function g(){var e=$.Deferred();return k.requestHttpsRuc("ajax_sendmailfindpwd").then(function(t){e.resolve(t)}).fail(function(t){t.errmsg="熊猫君遇到了一些阻碍，请稍后再试",e.reject(t)}),e.promise()}function m(e){var t=$.Deferred();return k.requestHttpsRuc("save_sinfo",e).then(function(e){t.resolve(e)}).fail(function(e){e.errmsg="熊猫君遇到了一些阻碍，请稍后再试",t.reject(e)}),t.promise()}function v(){var e=$.Deferred();return k.requestHttpsRuc("get_sinfo").then(function(t){0==t.errno&&t.data?e.resolve(t.data):e.resolve(null)}).fail(function(t){t.errmsg="熊猫君遇到了一些阻碍，请稍后再试",e.reject(t)}),e.promise()}function _(){var e=$.Deferred();return k.requestHttpsRuc("get_idinfo").then(function(t){0==t.errno&&t.data?e.resolve(t.data):e.resolve(null)}).fail(function(t){t.errmsg="熊猫君遇到了一些阻碍，请稍后再试",e.reject(t)}),e.promise()}function b(){var e=$.Deferred();return k.getData("/ajax_get_cconfig",{key:"intermobile"}).then(function(t){0==t.errno&&t.data?e.resolve(t.data):e.resolve(null)}).fail(function(){e.reject(null)}),e.promise()}function y(e){var t=$.Deferred();return k.requestHttpsRuc("ajax_send_sms",e).then(function(e){0==e.errno?t.resolve():t.reject(e)}).fail(function(e){e.errmsg="熊猫君遇到了一些阻碍，请稍后再试",t.reject(e)}),t.promise()}function w(e){var t=$.Deferred();return k.requestHttpsRuc("ajax_change_mobile",e).then(function(e){0==e.errno?t.resolve(e.data):t.reject(e)}).fail(function(e){e.errmsg="熊猫君遇到了一些阻碍，请稍后再试",t.reject(e)}),t.promise()}function x(){var e=$.Deferred();return k.requestHttpsRuc("ajax_can_change_mobile").then(function(t){0==t.errno?e.resolve():e.reject(t)}).fail(function(t){t.errmsg="熊猫君遇到了一些阻碍，请稍后再试",e.reject(t)}),e.promise()}var I=n(11),k=n(4),E={getAesWord:r,aesPassword:i,login:o,regist:s,logout:a,getUserInfo:l,checkNickNameRepeat:c,checkModifyNickname:u,requestRegistVCode:h,retrievePasswordEntry:f,resetPwd:d,resetPwdByMobile:p,setEmail:g,setPersonProfile:m,getSinfo:v,getPersonIdProfile:_,getCountry:b,getVoiceCode:y,changeMobile:w,isChangeMobile:x};e.exports=E},function(e,t){var n=e.exports=n||function(e,t){var n={},i=n.lib={},r=function(){},o=i.Base={extend:function(e){r.prototype=this;var t=new r;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var r=0;r<e;r++)t[i+r>>>2]|=(n[r>>>2]>>>24-8*(r%4)&255)<<24-8*((i+r)%4);else if(65535<n.length)for(r=0;r<e;r+=4)t[i+r>>>2]=n[r>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-8*(n%4),t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;i<t;i+=4)n.push(4294967296*e.random()|0);return new s.init(n,t)}}),a=n.enc={},l=a.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++){var r=t[i>>>2]>>>24-8*(i%4)&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-4*(i%8);return new s.init(n,t/2)}},c=a.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++)n.push(String.fromCharCode(t[i>>>2]>>>24-8*(i%4)&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-8*(i%4);return new s.init(n,t)}},u=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},h=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,r=n.sigBytes,o=this.blockSize,a=r/(4*o),a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0);if(t=a*o,r=e.min(4*t,r),t){for(var l=0;l<t;l+=o)this._doProcessBlock(i,l);l=i.splice(0,t),n.sigBytes-=r}return new s.init(l,r)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=h.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}});var f=n.algo={};return n}(Math);!function(){var e=n,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp(),e=[];for(var r=0;r<n;r+=3)for(var o=(t[r>>>2]>>>24-8*(r%4)&255)<<16|(t[r+1>>>2]>>>24-8*((r+1)%4)&255)<<8|t[r+2>>>2]>>>24-8*((r+2)%4)&255,s=0;4>s&&r+.75*s<n;s++)e.push(i.charAt(o>>>6*(3-s)&63));if(t=i.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,i=this._map,r=i.charAt(64);r&&(r=e.indexOf(r),-1!=r&&(n=r));for(var r=[],o=0,s=0;s<n;s++)if(s%4){var a=i.indexOf(e.charAt(s-1))<<2*(s%4),l=i.indexOf(e.charAt(s))>>>6-2*(s%4);r[o>>>2]|=(a|l)<<24-8*(o%4),o++}return t.create(r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,n,i,r,o,s){return e=e+(t&n|~t&i)+r+s,(e<<o|e>>>32-o)+t}function i(e,t,n,i,r,o,s){return e=e+(t&i|n&~i)+r+s,(e<<o|e>>>32-o)+t}function r(e,t,n,i,r,o,s){return e=e+(t^n^i)+r+s,(e<<o|e>>>32-o)+t}function o(e,t,n,i,r,o,s){return e=e+(n^(t|~i))+r+s,(e<<o|e>>>32-o)+t}for(var s=n,a=s.lib,l=a.WordArray,c=a.Hasher,a=s.algo,u=[],h=0;64>h;h++)u[h]=4294967296*e.abs(e.sin(h+1))|0;a=a.MD5=c.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,n){for(var s=0;16>s;s++){var a=n+s,l=e[a];e[a]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var s=this._hash.words,a=e[n+0],l=e[n+1],c=e[n+2],h=e[n+3],f=e[n+4],d=e[n+5],p=e[n+6],g=e[n+7],m=e[n+8],v=e[n+9],_=e[n+10],b=e[n+11],y=e[n+12],w=e[n+13],x=e[n+14],I=e[n+15],k=s[0],E=s[1],S=s[2],T=s[3],k=t(k,E,S,T,a,7,u[0]),T=t(T,k,E,S,l,12,u[1]),S=t(S,T,k,E,c,17,u[2]),E=t(E,S,T,k,h,22,u[3]),k=t(k,E,S,T,f,7,u[4]),T=t(T,k,E,S,d,12,u[5]),S=t(S,T,k,E,p,17,u[6]),E=t(E,S,T,k,g,22,u[7]),k=t(k,E,S,T,m,7,u[8]),T=t(T,k,E,S,v,12,u[9]),S=t(S,T,k,E,_,17,u[10]),E=t(E,S,T,k,b,22,u[11]),k=t(k,E,S,T,y,7,u[12]),T=t(T,k,E,S,w,12,u[13]),S=t(S,T,k,E,x,17,u[14]),E=t(E,S,T,k,I,22,u[15]),k=i(k,E,S,T,l,5,u[16]),T=i(T,k,E,S,p,9,u[17]),S=i(S,T,k,E,b,14,u[18]),E=i(E,S,T,k,a,20,u[19]),k=i(k,E,S,T,d,5,u[20]),T=i(T,k,E,S,_,9,u[21]),S=i(S,T,k,E,I,14,u[22]),E=i(E,S,T,k,f,20,u[23]),k=i(k,E,S,T,v,5,u[24]),T=i(T,k,E,S,x,9,u[25]),S=i(S,T,k,E,h,14,u[26]),E=i(E,S,T,k,m,20,u[27]),k=i(k,E,S,T,w,5,u[28]),T=i(T,k,E,S,c,9,u[29]),S=i(S,T,k,E,g,14,u[30]),E=i(E,S,T,k,y,20,u[31]),k=r(k,E,S,T,d,4,u[32]),T=r(T,k,E,S,m,11,u[33]),S=r(S,T,k,E,b,16,u[34]),E=r(E,S,T,k,x,23,u[35]),k=r(k,E,S,T,l,4,u[36]),T=r(T,k,E,S,f,11,u[37]),S=r(S,T,k,E,g,16,u[38]),E=r(E,S,T,k,_,23,u[39]),k=r(k,E,S,T,w,4,u[40]),T=r(T,k,E,S,a,11,u[41]),S=r(S,T,k,E,h,16,u[42]),E=r(E,S,T,k,p,23,u[43]),k=r(k,E,S,T,v,4,u[44]),T=r(T,k,E,S,y,11,u[45]),S=r(S,T,k,E,I,16,u[46]),E=r(E,S,T,k,c,23,u[47]),k=o(k,E,S,T,a,6,u[48]),T=o(T,k,E,S,g,10,u[49]),S=o(S,T,k,E,x,15,u[50]),E=o(E,S,T,k,d,21,u[51]),k=o(k,E,S,T,y,6,u[52]),T=o(T,k,E,S,h,10,u[53]),S=o(S,T,k,E,_,15,u[54]),E=o(E,S,T,k,l,21,u[55]),k=o(k,E,S,T,m,6,u[56]),T=o(T,k,E,S,I,10,u[57]),S=o(S,T,k,E,p,15,u[58]),E=o(E,S,T,k,w,21,u[59]),k=o(k,E,S,T,f,6,u[60]),T=o(T,k,E,S,b,10,u[61]),S=o(S,T,k,E,c,15,u[62]),E=o(E,S,T,k,v,21,u[63]);s[0]=s[0]+k|0,s[1]=s[1]+E|0,s[2]=s[2]+S|0,s[3]=s[3]+T|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;n[r>>>5]|=128<<24-r%32;var o=e.floor(i/4294967296);for(n[(r+64>>>9<<4)+15]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[(r+64>>>9<<4)+14]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(n.length+1),this._process(),t=this._hash,n=t.words,i=0;4>i;i++)r=n[i],n[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return t},clone:function(){var e=c.clone.call(this);return e._hash=this._hash.clone(),e}}),s.MD5=c._createHelper(a),s.HmacMD5=c._createHmacHelper(a)}(Math),function(){var e=n,t=e.lib,i=t.Base,r=t.WordArray,t=e.algo,o=t.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,i=n.hasher.create(),o=r.create(),s=o.words,a=n.keySize,n=n.iterations;s.length<a;){l&&i.update(l);var l=i.update(e).finalize(t);i.reset();for(var c=1;c<n;c++)l=i.finalize(l),i.reset();o.concat(l)}return o.sigBytes=4*a,o}});e.EvpKDF=function(e,t,n){return o.create(n).compute(e,t)}}(),n.lib.Cipher||function(e){var t=n,i=t.lib,r=i.Base,o=i.WordArray,s=i.BufferedBlockAlgorithm,a=t.enc.Base64,l=t.algo.EvpKDF,c=i.Cipher=s.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,i){return("string"==typeof n?g:p).encrypt(e,t,n,i)},decrypt:function(t,n,i){return("string"==typeof n?g:p).decrypt(e,t,n,i)}}}});i.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var u=t.mode={},h=function(t,n,i){var r=this._iv;r?this._iv=e:r=this._prevBlock;for(var o=0;o<i;o++)t[n+o]^=r[o]},f=(i.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();f.Encryptor=f.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;h.call(this,e,t,i),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),f.Decryptor=f.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,r=e.slice(t,t+i);n.decryptBlock(e,t),h.call(this,e,t,i),this._prevBlock=r}}),u=u.CBC=f,f=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,n=n-e.sigBytes%n,i=n<<24|n<<16|n<<8|n,r=[],s=0;s<n;s+=4)r.push(i);n=o.create(r,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},i.BlockCipher=c.extend({cfg:c.cfg.extend({mode:u,padding:f}),reset:function(){c.reset.call(this);var e=this.cfg,t=e.iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=e.createEncryptor;else n=e.createDecryptor,this._minBufferSize=1;this._mode=n.call(e,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var d=i.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),u=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return e=e.salt,(e?o.create([1398893684,1701076831]).concat(e).concat(t):t).toString(a)},parse:function(e){e=a.parse(e);var t=e.words;if(1398893684==t[0]&&1701076831==t[1]){var n=o.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return d.create({ciphertext:e,salt:n})}},p=i.SerializableCipher=r.extend({cfg:r.extend({format:u}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var r=e.createEncryptor(n,i);return t=r.finalize(t),r=r.cfg,d.create({ciphertext:t,key:n,iv:r.iv,algorithm:e,mode:r.mode,padding:r.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),t=(t.kdf={}).OpenSSL={execute:function(e,t,n,i){return i||(i=o.random(8)),e=l.create({keySize:t+n}).compute(e,i),n=o.create(e.words.slice(t),4*n),e.sigBytes=4*t,d.create({key:e,iv:n,salt:i})}},g=i.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:t}),encrypt:function(e,t,n,i){return i=this.cfg.extend(i),n=i.kdf.execute(n,e.keySize,e.ivSize),i.iv=n.iv,e=p.encrypt.call(this,e,t,n.key,i),e.mixIn(n),e},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),n=i.kdf.execute(n,e.keySize,e.ivSize,t.salt),i.iv=n.iv,p.decrypt.call(this,e,t,n.key,i)}})}(),function(){for(var e=n,t=e.lib.BlockCipher,i=e.algo,r=[],o=[],s=[],a=[],l=[],c=[],u=[],h=[],f=[],d=[],p=[],g=0;256>g;g++)p[g]=128>g?g<<1:g<<1^283;for(var m=0,v=0,g=0;256>g;g++){var _=v^v<<1^v<<2^v<<3^v<<4,_=_>>>8^255&_^99;r[m]=_,o[_]=m;var b=p[m],y=p[b],w=p[y],x=257*p[_]^16843008*_;s[m]=x<<24|x>>>8,a[m]=x<<16|x>>>16,l[m]=x<<8|x>>>24,c[m]=x,x=16843009*w^65537*y^257*b^16843008*m,u[_]=x<<24|x>>>8,h[_]=x<<16|x>>>16,f[_]=x<<8|x>>>24,d[_]=x,m?(m=b^p[p[p[w^b]]],v^=p[p[v]]):m=v=1}var I=[0,1,2,4,8,16,32,64,128,27,54],i=i.AES=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes/4,e=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],o=0;o<e;o++)if(o<n)i[o]=t[o];else{var s=i[o-1];o%n?6<n&&4==o%n&&(s=r[s>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s]):(s=s<<8|s>>>24,s=r[s>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s],s^=I[o/n|0]<<24),i[o]=i[o-n]^s}for(t=this._invKeySchedule=[],n=0;n<e;n++)o=e-n,s=n%4?i[o]:i[o-4],t[n]=4>n||4>=o?s:u[r[s>>>24]]^h[r[s>>>16&255]]^f[r[s>>>8&255]]^d[r[255&s]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,l,c,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,h,f,d,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,r,o,s,a){for(var l=this._nRounds,c=e[t]^n[0],u=e[t+1]^n[1],h=e[t+2]^n[2],f=e[t+3]^n[3],d=4,p=1;p<l;p++)var g=i[c>>>24]^r[u>>>16&255]^o[h>>>8&255]^s[255&f]^n[d++],m=i[u>>>24]^r[h>>>16&255]^o[f>>>8&255]^s[255&c]^n[d++],v=i[h>>>24]^r[f>>>16&255]^o[c>>>8&255]^s[255&u]^n[d++],f=i[f>>>24]^r[c>>>16&255]^o[u>>>8&255]^s[255&h]^n[d++],c=g,u=m,h=v;g=(a[c>>>24]<<24|a[u>>>16&255]<<16|a[h>>>8&255]<<8|a[255&f])^n[d++],m=(a[u>>>24]<<24|a[h>>>16&255]<<16|a[f>>>8&255]<<8|a[255&c])^n[d++],v=(a[h>>>24]<<24|a[f>>>16&255]<<16|a[c>>>8&255]<<8|a[255&u])^n[d++],f=(a[f>>>24]<<24|a[c>>>16&255]<<16|a[u>>>8&255]<<8|a[255&h])^n[d++],e[t]=g,e[t+1]=m,e[t+2]=v,e[t+3]=f},keySize:8});e.AES=t._createHelper(i)}(),n.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){for(var t=e.words,n=e.sigBytes-1;!(t[n>>>2]>>>24-n%4*8&255);)n--;e.sigBytes=n+1}}},function(e,t,n){"use strict";var i=n(4),r=n(13),o=Ruc.request,s=null,a=null,l={getSelfInfo:o.getSelfInfo,updateSelfInfo:o.updateSelfInfo,setUserInfo:o.setUserInfo,getExp:o.getExp,setExp:o.setExp,getBamboos:function(e){var t=$.Deferred(),n=this;return e||null===a?i.getData("/ajax_my_bamboos_get").done(function(e){e&&"0"==e.errno?(n.setBamboos(e.data),t.resolve(e.data)):t.resolve(0)}).fail(function(){t.resolve(0)}):t.resolve(a),t.promise()},setBamboos:function(e,t){var n=a;return t&&null===a?this.getBamboos(!0):(t?a+=+e:a=+e,n!==a&&r.triggerEvent("user-bamboo-changed",{oldValue:n,newValue:a})),this},getMaobi:function(e){var t=$.Deferred(),n=this;return e||null===s?i.requestMall("/ajax_gift_money_get",{_:$.now()}).done(function(e){e&&"0"==e.errno?(n.setMaobi(e.data),t.resolve(e.data)):t.resolve(0)}).fail(function(){t.resolve(0)}):t.resolve(s),t.promise()},setMaobi:function(e,t){var n=s;return t&&null===s?this.getMaobi(!0):(t?s+=+e:s=+e,n!==s&&r.triggerEvent("user-maobi-changed",{oldValue:n,newValue:s})),this},getMessageNum:function(){var e=$.Deferred();return i.getData("/ajax_get_message_num",{},{cache:!1}).done(function(t){t&&0==t.errno?e.resolve(t.data):e.resolve(null)}).fail(function(){e.resolve(null)}),e.promise()},checkToken:function(){var e=$.Deferred();return i.getData("/ajax_checktoken").done(function(t){e.resolve(t)}).fail(function(){e.resolve(0)}),e.promise()},getRechargeLimit:function(){var e=$.Deferred();return i.getData("/ajax_recharge_limit").done(function(t){e.resolve(t)}).fail(function(){e.resolve({})}),e.promise()},setHostLevel:o.setHostLevel};e.exports=l},function(e,t,n){"use strict";var i=n(14),r=Array.prototype.slice,o=window.__ob||new i({});o.triggerEvent=function(e){o.trigger(e,r.call(arguments,1)||[])},window.__ob||(window.__ob=o),window.PDR=window.PDR||{},window.PDR.ob=o,e.exports=o,e.exports.EventEmitter=i},function(e,t,n){var i;!function(t){"use strict";function r(){}function o(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function s(e){return function(){return this[e].apply(this,arguments)}}function a(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&a(e.listener)}var l=r.prototype,c=t.EventEmitter;l.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},l.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},l.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},l.addListener=function(e,t){if(!a(t))throw new TypeError("listener must be a function");var n,i=this.getListenersAsObject(e),r="object"==typeof t;for(n in i)i.hasOwnProperty(n)&&o(i[n],t)===-1&&i[n].push(r?t:{listener:t,once:!1});return this},l.on=s("addListener"),l.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},l.once=s("addOnceListener"),l.defineEvent=function(e){return this.getListeners(e),this},l.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},l.removeListener=function(e,t){var n,i,r=this.getListenersAsObject(e);for(i in r)r.hasOwnProperty(i)&&(n=o(r[i],t),n!==-1&&r[i].splice(n,1));return this},l.off=s("removeListener"),l.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},l.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},l.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},l.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},l.removeAllListeners=s("removeEvent"),l.emitEvent=function(e,t){var n,i,r,o,s,a=this.getListenersAsObject(e);for(o in a)if(a.hasOwnProperty(o))for(n=a[o].slice(0),r=0;r<n.length;r++)i=n[r],i.once===!0&&this.removeListener(e,i.listener),s=i.listener.apply(this,t||[]),s===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},l.trigger=s("emitEvent"),l.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},l.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},l._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},l._getEvents=function(){return this._events||(this._events={})},r.noConflict=function(){return t.EventEmitter=c,r},i=function(){return r}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}(this||{})},function(e,t,n){"use strict";var i=n(4),r={getLiveTime:function(e,t,n,r){return i.getData("/ajax_play_list_by_range",{starttime:e,endtime:t,pageno:n,pagenum:r})},getBamboosStat:function(e,t,n,r,o){return i.getData("/ajax_bamboo_range_stat",{start:e,end:t,pageno:r,
pagenum:n,need_bamboo_cnt:o})}};e.exports=r},function(e,t,n){"use strict";var i=n(4),r="https://search.xingyan.panda.tv/ajaxsearch/profiles";e.exports={search:function(e){return i.getData("/ajax_search",e||{})},searchXingYan:function(e){return i.getData(r,e||{})}}},function(e,t,n){"use strict";function i(e){var t=$.Deferred();return e=e||{},e.__plat=PDR.__plat,a.requestMall("/ajax_gift_send",e).then(function(e){0==e.errno&&e.data?t.resolve(e):t.reject(e)}).fail(function(){t.reject({errno:500,errmsg:"土豪，请慢慢点啦"})}),t.promise()}function r(e,t){var n=$.Deferred();return s?n.resolve(s):a.requestMall("/ajax_gift_gifts_get",$.extend({roomid:e,__plat:PDR.__plat},t)).then(function(e){0==e.errno&&e.data?(s=e.data,n.resolve(e.data)):n.reject(e)}).fail(function(){n.reject()}),n.promise()}function o(e){var t=$.Deferred();return a.requestMall("/ajax_get_room_gifting",{roomid:e}).then(function(e){e&&0===e.errno&&e.data&&"array"==$.type(e.data)&&e.data.length>0?t.resolve(e.data):t.reject()}).fail(function(){t.reject()}),t.promise()}var s,a=n(4);e.exports={sendGift:i,getGiftListByRoomID:r,getRoomGifting:o}},function(e,t){"use strict";var n=PDR.getProtocol()+"//privatemsg.panda.tv",i={getMsgList:function(e,t){var i=$.Deferred(),r=30;return $.ajax({url:n+"/index.php",data:{method:"private.msglist",tid:e,page:t,pagenum:r,_:$.now()},dataType:"json"}).then(function(e){e&&0==e.errno&&e.data?i.resolve(e.data):i.resolve(null)}).fail(function(){i.resolve(null)}),i.promise()},getChatList:function(){var e=$.Deferred();return $.ajax({url:n+"/index.php",data:{method:"private.chatlist",_:$.now()},dataType:"json"}).then(function(t){t&&0==t.errno&&t.data?e.resolve(t.data):e.reject()}).fail(function(){e.reject()}),e.promise()},postForbidCheck:function(e,t){var i=$.Deferred();return $.ajax({type:"post",url:n+"/index.php?method=private.forbidcheck",data:{rid:e,tid:t},dataType:"json"}).then(function(e){e&&0==e.errno?i.resolve(e.data):i.reject()}).fail(function(){i.reject()}),i.promise()},getUserInfo:function(e){var t=$.Deferred();return PDR.ajax("/ajax_getuserinfo",{data:{rid:e,_:$.now()},dataType:"json"}).then(function(e){e&&0==e.errno&&e.data?t.resolve(e.data):t.resolve(null)}).fail(function(){t.resolve(null)}),t.promise()},getSetting:function(){var e=$.Deferred();return $.ajax({url:n+"/index.php",data:{method:"private.setting",_:$.now()},dataType:"json"}).then(function(t){t&&0==t.errno&&t.data?e.resolve(t.data):e.reject()}).fail(function(){e.reject()}),e.promise()},postAllowAll:function(e,t){var i=$.Deferred();return $.ajax({type:"post",url:n+"/index.php?method=private.allowall",data:{rid:e,level:t},dataType:"json"}).then(function(e){e&&0==e.errno?i.resolve(e.data):i.resolve(null)}).fail(function(){i.resolve(null)}),i.promise()},postForbidAll:function(e){var t=$.Deferred();return $.ajax({type:"post",url:n+"/index.php?method=private.forbidall",data:{rid:e},dataType:"json"}).then(function(e){e&&0==e.errno&&e.data?t.resolve(e.data):t.resolve(null)}).fail(function(){t.resolve(null)}),t.promise()},postForbid:function(e,t){var i=$.Deferred();return $.ajax({type:"post",url:n+"/index.php?method=private.forbid",data:{rid:e,tid:t},dataType:"json"}).then(function(e){e&&0==e.errno&&e.data?i.resolve(e.data):i.resolve(null)}).fail(function(){i.resolve(null)}),i.promise()},postAllow:function(e,t){var i=$.Deferred();return $.ajax({type:"post",url:n+"/index.php?method=private.resetforbid",data:{rid:e,tid:t},dataType:"json"}).then(function(e){e&&0==e.errno&&e.data?i.resolve(e.data):i.resolve(null)}).fail(function(){i.resolve(null)}),i.promise()},getForbidList:function(e,t){var i=$.Deferred();return $.ajax({url:n+"/index.php",data:{method:"private.forbidlist",_:$.now()},dataType:"json"}).then(function(e){e&&0==e.errno&&e.data?i.resolve(e.data):i.reject()}).fail(function(){i.reject()}),i.promise()},postRemoveChat:function(e,t){var i=$.Deferred();return $.ajax({type:"post",url:n+"/index.php?method=private.removechat",data:{rid:e,tid:t},dataType:"json"}).then(function(e){e&&0==e.errno&&e.data?i.resolve(e.data):i.resolve(null)}).fail(function(){i.resolve(null)}),i.promise()}};e.exports=i},function(e,t,n){"use strict";var i="//vod.gate.panda.tv",r={},o=(n(4),function(e){return i+"/"+e}),s={getVideoInfo:function(e,t){var n={cache:!0};$.extend(n,t);var i=$.Deferred();return n.cache&&r[e]&&i.resolve(r[e]),$.ajax(o("api/get/"+e)).then(function(t){0===t.errno&&t.data&&"string"!=typeof t.data?(r[e]=t.data,i.resolve(t.data)):i.reject(null)}).fail(function(){i.reject(null)}),i.promise()},getVideoList:function(e,t){var n={data:{pagenum:100,order:"upload_time",pageno:0},cache:!0};$.extend(n,t);var i=$.Deferred();return n.cache&&r[n.data.pagenum]&&r[n.data.pagenum][n.data.pageno]&&i.resolve(r[n.data.pagenum][n.data.pageno]),$.ajax({url:o("api/list/"+e),data:n.data}).then(function(e){0===e.errno&&e.data.list&&"string"!=typeof e.data.list?(r[n.data.pagenum]||(r[n.data.pagenum]={}),r[n.data.pagenum][n.data.pageno]=e.data,i.resolve(e.data)):i.reject(null)}).fail(function(){i.reject(null)}),i.promise()},addPlayTimes:function(e){return $.ajax(o("api/incrnum/"+e))}};e.exports=s},function(e,t,n){"use strict";var i=n(4),r={getBagGoods:function(e){var t=$.Deferred(),n=PDR.__plat;return e=$.extend({},e,{pc_version:2,__plat:n}),i.requestBag("/bag/get",e).then(function(e){e&&0===e.errno&&e.data?t.resolve(e.data):t.reject(e)}).fail(function(e){t.reject({})}),t.promise()},sendBagGoods:function(e){var t=$.Deferred(),n=PDR.__plat;return i.requestBag("/bag/take?__plat="+n,e,{type:"POST"}).then(function(e){e&&0===e.errno?t.resolve(e.data):t.reject(e)}).fail(function(e){t.reject({})}),t.promise()},getBagsTotal:function(e){var t=$.Deferred(),n=PDR.__plat;return e=$.extend({},e,{__plat:n}),i.requestBag("/bag/num",e).then(function(e){e&&0===e.errno&&e.data?t.resolve(e.data):t.resolve(e)}).fail(function(e){t.resolve({})}),t.promise()}};e.exports=r},function(e,t,n){"use strict";var i,r=n(4),o={getFoolDaysUserInfo:function(e){var t=$.Deferred();return i?t.resolve(i):r.getData("/fool/infoget/simple",{rid:e,_:$.now()}).then(function(e){e&&0==e.errno&&e.data?(i=e.data,t.resolve(i)):t.resolve(null)}).fail(function(){t.resolve(null)}),t.promise()},getFoollDaysHostInfo:function(){var e=$.Deferred();return r.getData("/fool/infoget/detail",{}).then(function(t){t&&0==t.errno&&t.data?e.resolve(t.data):e.resolve(t)}).fail(function(){e.reject()}),e.promise()}};e.exports=o},function(e,t){"use strict";var n={getDnsOut:function(){var e={key:"wstong",form:"json"};return $.ajax("//who.wangsu.com",{data:e,dataType:"jsonp",jsonp:"jsoncallback"})},getDnsAndIpInfo:function(e,t){t=t||"u.panda.tv";var n={dnsOutIp:e,domain:t};return $.ajax("//ceba.quansucloud.com/wstCeba/dns/dns-test!getDnsOutAndDomainIpInfo.action",{data:n,dataType:"json"})}};e.exports=n},function(e,t,n){"use strict";function i(e,t){var n=[];for(var i in e)n.push(e[i]);return n.sort(function(e,n){return e[t]-n[t]}),n}var r=n(4),o={getQQGroup:function(e){var t=$.Deferred();return r.getData("/ajax_hgetAll_uconfig",{hostid:e}).then(function(e){e&&0===e.errno?(e.data=i(e.data,"opttime"),t.resolve(e)):t.reject(e)}).fail(function(){t.reject(null)}),t.promise()},setQQGroup:function(e){var t=$.Deferred();return r.postData("/ajax_set_qqgroup",{qqname:e.qqname,qqnum:e.qqnum,qqurl:e.qqurl,action:e.action}).then(function(e){e&&0===e.errno?t.resolve(e):t.reject(e)}).fail(function(){t.reject(null)}),t.promise()},delQQGroup:function(e){var t=$.Deferred();return r.postData("/ajax_del_qqgroup",{qqnum:e}).then(function(e){e&&0===e.errno?t.resolve(e):t.reject(e)}).fail(function(){t.reject(null)}),t.promise()}};e.exports=o},function(e,t,n){"use strict";var i=n(4),r={getAddressCode:function(e){var t=$.Deferred();return e=$.extend({},e,{}),i.getData("/cmsconfig/addr_code_config.json",e).then(function(e){e&&0==e.errno&&e.data?t.resolve(e.data):t.reject(e)}).fail(function(e){t.reject({})}),t.promise()},setAddress:function(e){var t=$.Deferred();return e=$.extend({},e,{}),i.requestAddress("/addr_update",e).then(function(e){e&&0==e.errno&&e.data?t.resolve(e.data):t.reject(e)}).fail(function(e){t.reject({})}),t.promise()},getAddress:function(e){var t=$.Deferred();return e=$.extend({},e,{}),i.requestAddress("/addr_list",e).then(function(e){e&&0==e.errno&&e.data?t.resolve(e.data):t.reject(e)}).fail(function(e){t.reject({})}),t.promise()}};e.exports=r},,,,function(e,t,n){e.exports=n(29)["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(){var e=new a.HandlebarsEnvironment;return d.extend(e,a),e.SafeString=c["default"],e.Exception=h["default"],e.Utils=d,e.escapeExpression=d.escapeExpression,e.VM=g,e.template=function(t){return g.template(t,e)},e}t.__esModule=!0;var s=n(30),a=r(s),l=n(44),c=i(l),u=n(32),h=i(u),f=n(31),d=r(f),p=n(45),g=r(p),m=n(46),v=i(m),_=o();_.create=o,v["default"](_),_["default"]=_,t["default"]=_,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},l.registerDefaultHelpers(this),c.registerDefaultDecorators(this)}t.__esModule=!0,t.HandlebarsEnvironment=r;var o=n(31),s=n(32),a=i(s),l=n(33),c=n(41),u=n(43),h=i(u),f="4.0.5";t.VERSION=f;var d=7;t.COMPILER_REVISION=d;var p={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=p;var g="[object Object]";r.prototype={constructor:r,logger:h["default"],log:h["default"].log,registerHelper:function(e,t){if(o.toString.call(e)===g){if(t)throw new a["default"]("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(o.toString.call(e)===g)o.extend(this.partials,e);else{if("undefined"==typeof t)throw new a["default"]('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(o.toString.call(e)===g){if(t)throw new a["default"]("Arg not supported with multiple decorators");o.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var m=h["default"].log;t.log=m,t.createFrame=o.createFrame,t.logger=h["default"]},function(e,t){"use strict";function n(e){return u[e]}function i(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function r(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}function o(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return f.test(e)?e.replace(h,n):e}function s(e){return!e&&0!==e||!(!g(e)||0!==e.length)}function a(e){var t=i({},e);return t._parent=e,t}function l(e,t){return e.path=t,e}function c(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=i,t.indexOf=r,t.escapeExpression=o,t.isEmpty=s,t.createFrame=a,t.blockParams=l,t.appendContextPath=c;var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},h=/[&<>"'`=]/g,f=/[&<>"'`=]/,d=Object.prototype.toString;t.toString=d;var p=function(e){return"function"==typeof e};p(/x/)&&(t.isFunction=p=function(e){return"function"==typeof e&&"[object Function]"===d.call(e)}),t.isFunction=p;var g=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===d.call(e)};t.isArray=g},function(e,t){"use strict";function n(e,t){var r=t&&t.loc,o=void 0,s=void 0;r&&(o=r.start.line,s=r.start.column,e+=" - "+o+":"+s);for(var a=Error.prototype.constructor.call(this,e),l=0;l<i.length;l++)this[i[l]]=a[i[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n),r&&(this.lineNumber=o,this.column=s)}t.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){s["default"](e),l["default"](e),u["default"](e),f["default"](e),p["default"](e),m["default"](e),_["default"](e)}t.__esModule=!0,t.registerDefaultHelpers=r;var o=n(34),s=i(o),a=n(35),l=i(a),c=n(36),u=i(c),h=n(37),f=i(h),d=n(38),p=i(d),g=n(39),m=i(g),v=n(40),_=i(v)},function(e,t,n){"use strict";t.__esModule=!0;var i=n(31);t["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse,o=n.fn;if(t===!0)return o(this);if(t===!1||null==t)return r(this);if(i.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):r(this);if(n.data&&n.ids){var s=i.createFrame(n.data);s.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:s}}return o(t,n)})},e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=n(31),o=n(32),s=i(o);t["default"]=function(e){e.registerHelper("each",function(e,t){function n(t,n,o){c&&(c.key=t,c.index=n,c.first=0===n,c.last=!!o,u&&(c.contextPath=u+t)),l+=i(e[t],{data:c,blockParams:r.blockParams([e[t],t],[u+t,null])})}if(!t)throw new s["default"]("Must pass iterator to #each");var i=t.fn,o=t.inverse,a=0,l="",c=void 0,u=void 0;if(t.data&&t.ids&&(u=r.appendContextPath(t.data.contextPath,t.ids[0])+"."),r.isFunction(e)&&(e=e.call(this)),t.data&&(c=r.createFrame(t.data)),e&&"object"==typeof e)if(r.isArray(e))for(var h=e.length;a<h;a++)a in e&&n(a,a,a===e.length-1);else{var f=void 0;for(var d in e)e.hasOwnProperty(d)&&(void 0!==f&&n(f,a-1),f=d,a++);void 0!==f&&n(f,a-1,!0)}return 0===a&&(l=o(this)),l})},e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=n(32),o=i(r);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var i=n(31);t["default"]=function(e){e.registerHelper("if",function(e,t){return i.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),t[0]=r,e.log.apply(e,t)})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var i=n(31);t["default"]=function(e){e.registerHelper("with",function(e,t){i.isFunction(e)&&(e=e.call(this));var n=t.fn;if(i.isEmpty(e))return t.inverse(this);var r=t.data;return t.data&&t.ids&&(r=i.createFrame(t.data),r.contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:r,blockParams:i.blockParams([e],[r&&r.contextPath])})})},e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){s["default"](e)}t.__esModule=!0,t.registerDefaultDecorators=r;var o=n(42),s=i(o)},function(e,t,n){"use strict";t.__esModule=!0;var i=n(31);t["default"]=function(e){e.registerDecorator("inline",function(e,t,n,r){var o=e;return t.partials||(t.partials={},o=function(r,o){var s=n.partials;n.partials=i.extend({},s,t.partials);var a=e(r,o);return n.partials=s,a}),t.partials[r.args[0]]=r.fn,o})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var i=n(31),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=i.indexOf(r.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=r.lookupLevel(e),"undefined"!=typeof console&&r.lookupLevel(r.level)<=e){var t=r.methodMap[e];console[t]||(t="log");for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];console[t].apply(console,i)}}};t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){var t=e&&e[0]||1,n=v.COMPILER_REVISION;if(t!==n){if(t<n){var i=v.REVISION_CHANGES[n],r=v.REVISION_CHANGES[t];throw new m["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new m["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function s(e,t){function n(n,i,r){r.hash&&(i=p.extend({},i,r.hash),r.ids&&(r.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,i,r);var o=t.VM.invokePartial.call(this,n,i,r);if(null==o&&t.compile&&(r.partials[r.name]=t.compile(n,e.compilerOptions,t),o=r.partials[r.name](i,r)),null!=o){if(r.indent){for(var s=o.split("\n"),a=0,l=s.length;a<l&&(s[a]||a+1!==l);a++)s[a]=r.indent+s[a];o=s.join("\n")}return o}throw new m["default"]("The partial "+r.name+" could not be compiled when running in runtime-only mode")}function i(t){function n(t){return""+e.main(r,t,r.helpers,r.partials,s,l,a)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=o.data;i._setup(o),!o.partial&&e.useData&&(s=h(t,s));var a=void 0,l=e.useBlockParams?[]:void 0;return e.useDepths&&(a=o.depths?t!==o.depths[0]?[t].concat(o.depths):o.depths:[t]),(n=f(e.main,n,r,o.depths||[],s,l))(t,o)}if(!t)throw new m["default"]("No environment passed to template");if(!e||!e.main)throw new m["default"]("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var r={strict:function(e,t){if(!(t in e))throw new m["default"]('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:p.escapeExpression,invokePartial:n,fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,i,r){var o=this.programs[e],s=this.fn(e);return t||r||i||n?o=a(this,e,s,t,n,i,r):o||(o=this.programs[e]=a(this,e,s)),o},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=p.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler};return i.isTop=!0,i._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials,r.decorators=n.decorators):(r.helpers=r.merge(n.helpers,t.helpers),e.usePartial&&(r.partials=r.merge(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(r.decorators=r.merge(n.decorators,t.decorators)))},i._child=function(t,n,i,o){if(e.useBlockParams&&!i)throw new m["default"]("must pass block params");if(e.useDepths&&!o)throw new m["default"]("must pass parent depths");return a(r,t,e[t],n,0,i,o)},i}function a(e,t,n,i,r,o,s){function a(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return s&&t!==s[0]&&(a=[t].concat(s)),n(e,t,e.helpers,e.partials,r.data||i,o&&[r.blockParams].concat(o),a)}return a=f(n,a,e,s,i,o),a.program=t,a.depth=s?s.length:0,a.blockParams=r||0,a}function l(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e}function c(e,t,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;if(n.fn&&n.fn!==u&&(n.data=v.createFrame(n.data),i=n.data["partial-block"]=n.fn,i.partials&&(n.partials=p.extend({},n.partials,i.partials))),void 0===e&&i&&(e=i),void 0===e)throw new m["default"]("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)}function u(){return""}function h(e,t){return t&&"root"in t||(t=t?v.createFrame(t):{},t.root=e),t}function f(e,t,n,i,r,o){if(e.decorator){var s={};t=e.decorator(t,s,n,i&&i[0],r,o,i),p.extend(t,s)}return t}t.__esModule=!0,t.checkRevision=o,t.template=s,t.wrapProgram=a,t.resolvePartial=l,t.invokePartial=c,t.noop=u;var d=n(31),p=r(d),g=n(32),m=i(g),v=n(30)},function(e,t){(function(n){"use strict";t.__esModule=!0,t["default"]=function(e){var t="undefined"!=typeof n?n:window,i=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=i),e}},e.exports=t["default"]}).call(t,function(){return this}())},,function(e,t,n){"use strict";function i(){$(document).on("shown.bs.modal",".x-modal",function(e){var t=$(e.target),n=$(".x-modal-content",t);$(".x-modal-hide",t);"auto"!==n.css("top")&&"0px"!==n.css("top")||n.css({top:"38.2%",marginTop:0-.382*n.height()}),"auto"!==n.css("left")&&"0px"!==n.css("left")||n.css({left:"50%",marginTop:0-.5*n.width()})}),$(document).on("click",".x-modal-hide",function(e){var t=$(e.target),n=t.parents(".x-modal");n.modal("hide")})}function r(e){e.title=e.title||!1,e.content=e.content||!1;var t=$(o(e));return t.on("hidden.bs.modal",function(){t.off(),t.remove(),t=null}),t.appendTo("body"),t.modal("show"),t}n(49);var o=n(50),s=n(51),a=n(52);i(),e.exports={show:r,confirm:function(e){var t=$.Deferred();e=e||{},e.title=e.title||"请确认",e.content=s({content:e.content||""});var n=r(e);return n.on("click","button, a",function(e){var i=$(e.target);i.is(".j-sure")?t.resolve():t.reject(),n.modal("hide")}),t.promise()},alert:function(e){e=e||{},e.title=e.title||"请确认",e.content=a({content:e.content||""});var t=r(e);t.on("click","button",function(e){$(e.target);t.modal("hide")})}}},function(e,t){+function(e){"use strict";function t(t,i){return this.each(function(){var r=e(this),o=r.data("bs.modal"),s=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t);o||r.data("bs.modal",o=new n(this,s)),"string"==typeof t?o[t](i):s.show&&o.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var i=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&r;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),r=i.attr("href"),o=e(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(o,s,this)})}(jQuery)},function(e,t,n){var i=n(28);e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var o;return e.escapeExpression((o=null!=(o=n.modalClassName||(null!=t?t.modalClassName:t))?o:n.helperMissing,"function"==typeof o?o.call(null!=t?t:{},{name:"modalClassName",hash:{},data:r}):o))},3:function(e,t,n,i,r){var o,s;return'    <div class="x-modal-hd">\n      <h3 class="x-modal-title">'+(null!=(s=null!=(s=n.title||(null!=t?t.title:t))?s:n.helperMissing,o="function"==typeof s?s.call(null!=t?t:{},{name:"title",hash:{},data:r}):s)?o:"")+"</h3>\n    </div>\n"},5:function(e,t,n,i,r){var o,s;return'    <div class="x-modal-bd">\n      '+(null!=(s=null!=(s=n.content||(null!=t?t.content:t))?s:n.helperMissing,o="function"==typeof s?s.call(null!=t?t:{},{name:"content",hash:{},data:r}):s)?o:"")+"\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:{};return'<div class="x-modal fade '+(null!=(o=n["if"].call(s,null!=t?t.modalClassName:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?o:"")+'">\n  <div class="x-modal-content">\n'+(null!=(o=n["if"].call(s,null!=t?t.title:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))?o:"")+'    <span class="x-modal-hide"></span>\n'+(null!=(o=n["if"].call(s,null!=t?t.content:t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))?o:"")+"  </div>\n</div>\n"},useData:!0})},function(e,t,n){var i=n(28);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o,s;return'<div class="x-modal-confirm">\n  '+(null!=(s=null!=(s=n.content||(null!=t?t.content:t))?s:n.helperMissing,o="function"==typeof s?s.call(null!=t?t:{},{name:"content",hash:{},data:r}):s)?o:"")+'\n</div>\n<div class="x-modal-btns">\n  <button class="x-modal-btn j-sure">确定</button><button class="x-modal-btn x-modal-btn-cancel">取消</button>\n</div>'},useData:!0})},function(e,t,n){var i=n(28);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o,s;return'<div class="x-modal-confirm">\n  '+(null!=(s=null!=(s=n.content||(null!=t?t.content:t))?s:n.helperMissing,o="function"==typeof s?s.call(null!=t?t:{},{name:"content",hash:{},data:r}):s)?o:"")+'\n</div>\n<div class="x-modal-btns">\n  <button class="x-modal-btn j-sure">确定</button>\n</div>'},useData:!0})},function(e,t,n){"use strict";e.exports=n(54)},function(e,t,n){"use strict";function i(e){_||(d=o(e),d.append(g),_=!0)}function r(e,t){_||i(null),t=t||{};var n=s(e,t);return h(n),g.append(n.$container),n.closeSignal.addOnce(f),n.open(),c(t),n.$container.css(l(n.$container)),n}function o(e){return e?"[object String]"===Object.prototype.toString.call(e)||1===e.nodeType?$(e):e instanceof jQuery?e:void 0:$("body")}function s(e,t){var n=a(t);if(e instanceof jQuery)return m.createByJQuery(n,e,t);if("[object String]"===Object.prototype.toString.call(e))return m.createByHTML(n,e,t);if(e instanceof v){if(!e.closeSignal)throw new TypeError("content is Destroyed","King.js parseContentParameter");return e}}function a(e){var t="dialog-container-"+Math.ceil(1e5*Math.random()),n=$('<div class="dialog-container" id="'+t+'"></div>');return e&&e.hasOwnProperty("customContainerClassName")?n.addClass(e.customContainerClassName):n.addClass("default-box"),e&&e.hasOwnProperty("zIndex")&&!isNaN(e.zIndex.dialog)&&n.css("zIndex",parseInt(e.zIndex.dialog)),n}function l(e){var t=e.width(),n=e.height();return{width:t,height:n,"margin-top":-(n/2),"margin-left":-(t/2)}}function c(e){var t={};e&&e.hasOwnProperty("zIndex")&&!isNaN(e.zIndex.overlay)&&(t.zIndex=parseInt(e.zIndex.overlay)),g.css(t),g.fadeIn(200)}function u(){p||(g.fadeOut(200),d.removeClass("dialog-wrap"))}function h(e){var t=p;p=e,t&&t.close()}function f(e){e==p&&(p=null,u())}var d=null,p=null,g=$('<div class="dialog-overlay"></div>'),m=n(55),v=n(57),_=!1;
e.exports.popup=r,e.exports.initialize=i},function(e,t,n){(function(t){"use strict";function i(e,n,i){var r=new l;return r.$container=e,r.content=n,t(e,r,i),r}function r(e,t,n){var r=i(e,t,n);return e.append(t),r}function o(e,t,n){var r=i(e,t,n);return e.html(t),r}function s(e){}function t(e,t,n){n=n||{},n.hasOwnProperty("closeButton")&&c.create(c.SKILL_TYPE.CLOSE_BUTTON,e,t,n),n.hasOwnProperty("confirm")&&c.create(c.SKILL_TYPE.CONFIRM,e,t,n.confirm),n.hasOwnProperty("delayClose")&&c.create(c.SKILL_TYPE.AUTO_CLOSE,e,t,n),n.hasOwnProperty("autoDestroy")&&(t.isAutoDestroy=Boolean(n.autoDestroy)),n.hasOwnProperty("customData")&&(t.customData=n.customData),a(e,t,n.animation)}function a(e,t,n){n=$.extend({"in":{duration:200,targetValue:1},out:{duration:200,targetValue:0}},n),t.openAnimation=c.create(c.SKILL_TYPE.FADE_IN,e,t,n["in"]),t.closeAnimation=c.create(c.SKILL_TYPE.FADE_OUT,e,t,n.out)}var l=n(57),c=n(60);e.exports.createByJQuery=r,e.exports.createByHTML=o,e.exports.createByCustomDialog=s}).call(t,n(56))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function o(e){if(h===clearTimeout)return clearTimeout(e);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function s(){g&&d&&(g=!1,d.length?p=d.concat(p):m=-1,p.length&&a())}function a(){if(!g){var e=r(s);g=!0;for(var t=p.length;t;){for(d=p,p=[];++m<t;)d&&d[m].run();m=-1,t=p.length}d=null,g=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,h,f=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(e){h=i}}();var d,p=[],g=!1,m=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new l(e,t)),1!==p.length||g||r(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){"use strict";function i(){this.closeSignal=new r,this.openSignal=new r,this.$container=null,this.openAnimation=null,this.closeAnimation=null,this.skillList=[],this.isAutoDestroy=!0,this.customData=null}var r=n(58);i.prototype.initialize=function(){},i.prototype.open=function(){this.openAnimation?(this.openAnimation.completedSignal.addOnce(this,this._openAnimationCompletedHandler),this.openAnimation.start()):this.openSignal.dispatch(this)},i.prototype.close=function(){this.closeAnimation?(this.closeAnimation.completedSignal.addOnce(this,this._closeAnimationCompletedHandler),this.closeAnimation.start()):this.$container&&this.$container.remove(),this.closeSignal&&this.closeSignal.dispatch(this)},i.prototype.destroy=function(){if(this.$container=null,this.closeSignal.removeAll(),this.closeSignal=null,this.openSignal.removeAll(),this.openSignal=null,this.openAnimation&&(this.openAnimation.destroy(),this.openAnimation=null),this.closeAnimation&&(this.closeAnimation.destroy(),this.closeAnimation=null),this.skillList&&this.skillList.length>0){for(var e=0;e<this.skillList.length;++e)this.skillList[e].destroy();this.skillList=[]}this.customData=null},i.prototype._closeAnimationCompletedHandler=function(){this.isAutoDestroy?(this.$container.remove(),this.destroy()):this.$container.detach()},i.prototype._openAnimationCompletedHandler=function(){this.openSignal.dispatch(this)},e.exports=i},function(e,t,n){function i(){this.handlerList=[]}var r=n(59);i.prototype.add=function(e,t){return this.addHandlerToList(e,t,!1)},i.prototype.addOnce=function(e,t){return this.addHandlerToList(e,t,!0)},i.prototype.remove=function(e){var t=this.findHandlerByFunc(e);t&&(t.handler.destroy(),this.handlerList.splice(t.index,1))},i.prototype.removeAll=function(){var e=this.handlerList.length;if(e>0){for(var t=0;t<e;t++)this.handlerList[t].destroy();this.handlerList=[]}},i.prototype.dispatch=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);for(var n,i=this.handlerList.length,r=0,r=0;r<i;r++)n=this.handlerList[r],n.func.apply(n.listener,e);for(r=this.handlerList.length;r>0;)r--,n=this.handlerList[r],n.isDispatchOnce&&(n.destroy(),this.handlerList.splice(r,1))},i.prototype.hasHandler=function(e){var t=this.handlerList.length;if(t>0)for(var n,i=0;i<t;i++)if(n=this.handlerList[i],n.func==e)return!0;return!1},i.prototype.addHandlerToList=function(e,t,n){return"function"==typeof e&&(t=e,e=null),"undefined"!=typeof e&&"function"==typeof t&&(!this.hasHandler(t)&&(this.handlerList.push(new r(e,t,n)),!0))},i.prototype.findHandlerByFunc=function(e){for(var t,n=this.handlerList.length,i=0;i<n;i++)if(t=this.handlerList[i],t.func==e)return{index:i,handler:t};return null},i.prototype.findHandler=function(e){for(var t,n=this.handlerList.length,i=0;i<n;i++)if(t=this.handlerList[i],t==e)return{index:i,handler:t};return null},e.exports=i},function(e,t){function n(e,t,n){this.listener=e,this.func=t,this.isDispatchOnce=!!n}n.prototype.destroy=function(){this.listener=null,this.func=null},e.exports=n},function(e,t,n){"use strict";function i(e,t,n,i){var u;switch(e){case r.CLOSE_BUTTON:u=new s;break;case r.AUTO_CLOSE:u=new o;break;case r.CONFIRM:u=new a;break;case r.FADE_IN:u=new l;break;case r.FADE_OUT:u=new c;break;default:throw new TypeError("Type not found, type is "+e,"dialog-skill-factory.js")}return u.initialize(t,n,i),u}var r={CLOSE_BUTTON:"closeButton",AUTO_CLOSE:"autoClose",CONFIRM:"confirm",FADE_IN:"fadeIn",FADE_OUT:"fadeOut"},o=n(61),s=n(62),a=n(63),l=n(64),c=n(65);e.exports.create=i,e.exports.SKILL_TYPE=r},function(e,t){"use strict";function n(){}n.prototype.initialize=function(e,t,n){if(!t.hasOwnProperty("openSignal"))throw new TypeError("dialog not implements IDialog","DialogAutoCloseSkill.js");t.openSignal.addOnce(function(){setTimeout(function(){t&&t.close()},n.delayClose)})},n.prototype.destroy=function(){},e.exports=n},function(e,t){"use strict";function n(){}n.prototype.initialize=function(e,t,n){if(this.$container=e,this.dialog=t,this.opts=n,!this.$container||!this.dialog)throw new ReferenceError("$container or dialog or selector error","DialogCloseButtonSkill.js");if(!this.dialog.hasOwnProperty("closeSignal"))throw new TypeError("dialog not implement IDialog interface, closeSignal","DialogCloseButtonSkill.js");var i=this;this.$container.on("click.close",this.opts.closeButton,function(){i.dialog.close()})},n.prototype.destroy=function(){this.$container.off("click.close"),this.$container=null,this.dialog=null,this.selector=null},e.exports=n},function(e,t,n){"use strict";function i(){}var r=n(58);i.prototype.initialize=function(e,t,n){function i(){s.dialog.confirmSignal.dispatch(s.dialog),s.opts.autoClose&&s.dialog.close()}function o(){s.dialog.cancelSignal.dispatch(s.dialog),s.dialog.close()}if(this.$container=e,this.dialog=t,this.opts=n,!this.$container||!this.dialog)throw new ReferenceError("$container or dialog","DialogCloseButtonSkill.js");this.opts=$.extend({confirmButton:".confirm-btn",cancelButton:".cancel-btn",autoClose:!0},this.opts),this.dialog.confirmSignal=new r,this.$container.on("click.confirm",this.opts.confirmButton,i),this.dialog.cancelSignal=new r,this.$container.on("click.cancel",this.opts.cancelButton,o);var s=this},i.prototype.destroy=function(){this.dialog.confirmSignal.destroy(),this.dialog.confirmSignal=null,this.dialog.cancelSignal.destroy(),this.dialog.cancelSignal=null,this.$container=null,this.opts=null},e.exports=i},function(e,t,n){"use strict";function i(){}var r=n(58);i.prototype.initialize=function(e,t,n){this.$container=e,this.opts=n,this.completedSignal=new r},i.prototype.start=function(){var e=this;this.$container.css({visibility:"visible",display:"none"}).fadeIn(this.opts.duration,function(){e.completedSignal.dispatch()})},i.prototype.destroy=function(){this.$container=null,this.completedSignal.removeAll(),this.completedSignal=null},e.exports=i},function(e,t,n){"use strict";function i(){}var r=n(58);i.prototype.initialize=function(e,t,n){this.$container=e,this.opts=n,this.completedSignal=new r},i.prototype.start=function(){var e=this;this.$container.fadeOut(this.opts.duration,function(){e.$container.css({visibility:"hidden",display:"block"}),e.completedSignal.dispatch()})},i.prototype.destroy=function(){this.$container=null,this.completedSignal.removeAll(),this.completedSignal=null},e.exports=i},function(e,t,n){"use strict";n(67),n(103),n(104),window.PDR.ruc=Ruc;var i,r=n(13),o=n(109);if(Ruc.ob=r,"dev"===PDR.env){var s=PDR.getOrigin();Ruc.config.setConfig("host",{info:s})}"dev"==PDR.env&&Ruc.config.setConfig("host",{info:window.location.origin}),i=PDR.parseUrl("?",window.location.href),i&&"1"===i.firstlog&&o.init(),e.exports=Ruc},function(e,t,n){"use strict";function i(e){var t=c.ins();t.on("notice-1",r),a=$('<div class="panda-live-notify"></div>'),$("body").append(a)}function r(e){var t=e.data;if(t&&t.type&&701==t.type&&t.data&&t.data.from){var n=t.data.from;if(d==n.roomid)return;if(h[n.roomid])return;h[n.roomid]=!0,setTimeout(function(){h[n.roomid]=!1},6e5),f.push(n),o()}}function o(){if(f.length>0&&0===a.find(".panda-live-notify-item").length){var e=f.shift(),t="/";"pc_lobby"==PDR.__plat?t="/":PDR.host&&(t=PDR.getProtocol()+"//"+PDR.host+"/");var n=$(u({roomUrl:t+e.roomid,nickName:e.nickName}));a.append(n),n.animate({top:0},{duration:400}).on("click",".panda-live-notify-close",function(e){e.preventDefault(),s(n,o)}),n.fadeOutTimer=setTimeout(function(){s(n,o)},5e3)}}function s(e,t){clearTimeout(e.fadeOutTimer),e.fadeOutTimer=null,e.fadeOut(300,function(){e.remove(),t&&t()})}var a,l=n(3),c=n(68),u=n(102),h={},f=[],d=PDR.getRoomId();window._config_framepage!==!0&&$(function(){setTimeout(function(){l.selfInfoInterface.getSelfInfo(d).done(function(e){e&&e.rid>0&&i()})},1e4)})},function(e,t,n){"use strict";function i(){return"pandapusher_"+$.now()+"_"+ ++f}function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}function o(e){this.options=$.extend({},e),this._init(),this.ob=new l({})}var s,a=n(69),l=n(14),c=n(78),u=n(80),h={app:"1",resource:c.getWukongSwfUrl(),width:1,height:1},f=0;o.prototype._init=function(){var e=this;if(window.SMSdk&&"function"==typeof window.SMSdk.ready){var t=!1,n=setTimeout(function(){t||(t=!0,e._initWsConnect())},1e4);window.SMSdk.ready(function(){t||(t=!0,clearTimeout(n),e._initWsConnect())})}else e._initWsConnect()},o.prototype._initWsConnect=function(){var e=this;if(PDR.isSupportWebSocket){window.dcodeIO=window.dcodeIO||{},window.dcodeIO.Long||(window.dcodeIO.Long=n(81)),window.dcodeIO.ByteBuffer||(window.dcodeIO.ByteBuffer=n(84)),window.pako||(window.pako=n(85));var t=n(101),o=new t({debug:PDR.debug?1:2,caller:"panda-"+PDR.__plat});o.on("message",function(t){t&&"NOTICE"===t.type&&t.body&&e._onMessage({type:t.body.type,from:"ws",errno:0,data:t.body.body||t.body.data||""})})}else this.id=i(),this.$el=$('<div id="'+this.id+'" style="position: absolute; top: -9999px; left: -9999px; width: 1px; height: 1px;"><div id="'+this.id+'_swf"></div></div>'),$(document.body).append(this.$el),a(this.id+"_swf").render($.extend({},h,{cdid:r(),infoUrl:PDR.getProtocol()+"//wukong.gate.panda.tv/getinfo"})).done(function(t){e.flashRequest=t,e._initFlashEvents(),e.trigger("swfready",t)})},o.prototype._initFlashEvents=function(){var e=this;this.flashRequest.registerApi(["flash.onMessage"]),this.flashRequest.flashOnMessage(function(t){if(t&&0===t.errno){var n=t.data;if(n&&"NOTICE"===n.type&&n.body)try{e._onMessage({type:n.body.type,from:"flash",errno:0,data:(n.body.body?JSON.parse(u.decode(n.body.body)):n.body.data)||""})}catch(i){}}})},o.prototype._onMessage=function(e){this.trigger("notice-"+e.type,e)},o.prototype.on=function(e,t){this.ob.on.apply(this.ob,arguments)},o.prototype.off=function(e,t){this.ob.off.apply(this.ob,arguments)},o.prototype.trigger=function(e){this.ob.emit.apply(this.ob,arguments)},o.ins=function(e){return s||(s=new o(e)),s},e.exports=o},function(module,exports,__webpack_require__){"use strict";window.JSON&&window.JSON.stringify||__webpack_require__(70);var util=__webpack_require__(71).util,swfember=__webpack_require__(75),flashCallbacks={},requestInstances={},idSeed=1,dispatch={onSync:function(id,result){var handler,data;if("string"===$.type(result))try{data=eval("("+result+")")}catch(err){data=result}else data=result;id=id||data&&data.id,handler=flashCallbacks[id],handler&&"function"===$.type(handler)&&handler(data)},onStatus:function(){}};window.__FLASH__dispatch=dispatch;var AsyncRequest=function(e,t){this.swfId=e,this.requestMethod=t};AsyncRequest.prototype={render:function(e,t){var n=this,i=$.Deferred();return dispatch["on"+n.swfId.replace(/[^A-Za-z0-9]/g,"")+"Ready"]=function(){n.getSwf().__asyncRequest__=n,i.resolve(n)},swfember.embedSWF(n.swfId,e||{},t||{}),i},registerApi:function(e){var t=this;return"array"===$.type(e)?void $.each(e,function(e,n){t.registerApi(n)}):void t._bindHandler(e)},_bindHandler:function(e){var t=this,n=util.camelCase(e);t[n]=function(){t._on.apply(t,[e].concat([].slice.call(arguments,0)))}},_on:function(e,t,n){var i,r=idSeed++;2===arguments.length&&"function"===$.type(t)&&(n=t,t=null),n=n||$.noop,flashCallbacks[r]=n;try{i=this.getSwf(),i&&i[this.requestMethod]&&i[this.requestMethod](r,e,t?JSON.stringify(t):"")}catch(o){throw new Error("The client doesn't support request method!")}},getSwf:function(){return"string"===$.type(this.swfId)?document.getElementById(this.swfId):this.swfId}},module.exports=function(e,t){var n=requestInstances[e];return n||(n=new AsyncRequest(e,t||"sendRequest")),n}},function(module,exports){"use strict";function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,r,o,s,a=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,n=0;n<o;n+=1)s[n]=str(n,l)||"null";return r=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,r}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(i=rep[n],r=str(i,l),r&&s.push(quote(i)+(gap?": ":":")+r));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r=str(i,l),r&&s.push(quote(i)+(gap?": ":":")+r));return r=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,r}}"object"!=typeof window.JSON&&(window.JSON={});var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;i<n;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,r=e[t];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(e,t,r)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}),module.exports=JSON},function(e,t,n){e.exports.define=n(72),e.exports.dispatcher=n(74),e.exports.util=n(73)},function(e,t,n){function i(e,t){var n,i=function(){},s=t.prototype;i.prototype=s,n=e.prototype=new i,n.constructor=e,$.each(Array.prototype.slice.apply(arguments,[2]),function(t,n){"function"==typeof n&&(n=n.prototype),r.mixin(e.prototype,n)}),n.superclass=o(s)}var r=n(73),o=function(e){var t=function(){var e=(t.caller||{}).name,n=arguments.length,i=this,r=arguments.callee.superclass;if(!e)for(var o in i)if(i[o]==t.caller){e=o;break}if(n>0&&e){var s=Array.prototype.slice.call(arguments,0);return Array.prototype.splice.apply(s,[0,1]),r[e](s)}return r};return t.superclass=e,t};e.exports=function(){var e=arguments.length,t=arguments[0],n=arguments[e-1],r="function"==typeof n.initialize?n.initialize:function(){t.apply&&t.apply(this,arguments)};if(e>1){var o=[r,t].concat(Array.prototype.slice.call(arguments).slice(1,e-1),n);i.apply(null,o)}else r.prototype=n,r.prototype.constructor=r;return r}},function(e,t){function n(e){return['"',+e,'"'].join("")}function i(e){var t,n,i,r=["["],o=e.length;for(n=0;n<o;n++)switch(i=e[n],typeof i){case"undefined":case"function":case"unknown":break;default:t&&r.push(","),r.push(l.jsonEncode(i)),t=1}return r.push("]"),r.join("")}function r(e){return/["\\\x00-\x1f]/.test(e)&&(e=e.replace(/["\\\x00-\x1f]/g,function(e){var t=a[e];return t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})),['"',e,'"'].join("")}var o=this,s=0,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l=e.exports={mixin:function(e,t){if(e=e||{},t){for(var n in t){var i=t[n];void 0!==i&&(e[n]=i)}var r="function"==typeof window.Event&&t instanceof window.Event;!r&&t.hasOwnProperty&&t.hasOwnProperty("toString")&&(e.toString=t.toString)}return e},bind:function(e,t){var n=Array.prototype.slice.apply(arguments,[2]);return function(){var i=n.concat(Array.prototype.slice.apply(arguments,[0]));return e.apply(t,i)}},bindAsEventListener:function(e,t){return function(n){return e.call(t,n||window.event)}},createUniqueID:function(e){return e=null===e||void 0===e?"pc_game_":e.replace(/\./g,"_"),e+s++},g:function(e){var e="[object String]"==Object.prototype.toString.call(e)?document.getElementById(e):!(!e||"object"!=typeof e)&&e;return e||null},jsonEncode:function(e){switch(typeof e){case"undefined":return'""';case"number":return['"',e,'"'].join("");case"string":return r(e);case"boolean":return['"',e,'"'].join("");default:if(null===e)return'""';if(e instanceof Array)return i(e);if(e instanceof Date)return n(e);var t,o,s=["{"];for(var a in e)if(e.hasOwnProperty(a))switch(o=e[a],typeof o){case"undefined":case"unknown":case"function":break;default:t&&s.push(","),t=1,s.push(l.jsonEncode(a)+":"+l.jsonEncode(o))}return s.push("}"),s.join("")}},trim:function(e){return e=String(e),e.trim?e.trim():e.replace(new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g"),"")},camelCase:function(e){return e=l.trim(e),1!==e.length&&/[_.\- ]+/.test(e)?e.replace(/^[_.\- ]+/,"").replace(/[_.\- ]+(\w|$)/g,function(e,t){return t.toUpperCase()}):e},getTime:function(e,t){var n=new Date(1e3*e),i=new Date,r=n.getUTCFullYear(),o=i.getUTCFullYear(),s=n.getUTCMonth()+1,a=i.getUTCMonth()+1,l=n.getDate(),c=i.getDate(),u=n.getHours(),h=n.getMinutes(),f=n.getSeconds(),d=!(r==o&&s==a&&l==c)||t,p=r+"-"+(s<10?"0"+s:s)+"-"+(l<10?"0"+l:l)+" "+(u<10?"0"+u:u)+":"+(h<10?"0"+h:h)+":"+(f<10?"0"+f:f),g=(u<10?"0"+u:u)+":"+(h<10?"0"+h:h)+":"+(f<10?"0"+f:f);return d?p:g},insert2TextArea:function(e,t){if(document.selection){e.focus();var n=document.selection.createRange();n.txt=t,e.focus()}else if(e.selectionStart||"0"==e.selectionStart){var i=e.selectionStart,r=e.selectionEnd,o=e.scrollTop;e.value=e.value.substring(0,i)+t+e.value.substring(r,e.value.length),e.focus(),e.selectionStart=i+t.length,e.selectionEnd=i+t.length,e.scrollTop=o}else e.value+=t,e.focus()},encodeHtml:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},decodeHtml:function(e){return String(e).replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},requestAnimation:function(){var e=o.requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||o.oRequestAnimationFrame||o.msRequestAnimationFrame||function(e,t){o.setTimeout(e,16)};return function(t,n){e.apply(o,[t,n])}}()}},function(e,t,n){var i=n(72),r=n(73),s={observers:null,element:function(e){return e.target||e.srcElement},stop:function(e,t){t||(e.preventDefault?e.preventDefault():e.returnValue=!1),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},on:function(e,t,n,i){var o=t.split(" "),a=o.length,l=a;if(0==a)return!1;var c=r.g(e),u=s;if(i=i||!1,u.observers||(u.observers={}),!c._eventCacheID){var h="eventCacheID_";c.id&&(h=c.id+"_"+h),c._eventCacheID=r.createUniqueID(h)}for(;l--;)u._on(c,o[l],n,i);return c},_on:function(e,t,n,i){var r=e._eventCacheID,o=s;o.observers[r]||(o.observers[r]=[]),o.observers[r].push({element:e,name:t,observer:n,useCapture:i}),e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n)},stopObservingElement:function(e){var t=r.g(e),n=t._eventCacheID;this._removeElementObservers(o.event.observers[n])},stopEventObserver:function(e,t){var n=r.g(e)._eventCacheID,i=s,o=i.observers[n];if(o)for(var a=o.length;a--;){var l=o[a];if(t==l.name){var c=new Array(l.element,l.name,l.observer,l.useCapture);i.un.apply(this,c)}}},_removeElementObservers:function(e){if(e)for(var t=e.length;t--;){var n=e[t],i=new Array(n.element,n.name,n.observer,n.useCapture);s.un.apply(this,i)}},un:function(e,t,n,i){var o=t.split(" "),a=o.length,l=a;if(0==a)return!1;var c=r.g(e),u=c._eventCacheID,h=!1;for(i=i||!1;l--;)h=s._un(c,o[l],n,i,u);return h},_un:function(e,t,n,i,r){"keypress"==t&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||e.detachEvent)&&(t="keydown");var o=!1,a=s.observers[r];if(a)for(var l=0;!o&&l<a.length;){var c=a[l];if(c.name==t&&c.observer==n&&c.useCapture==i){a.splice(l,1),0==a.length&&(s.observers[r]=null),o=!0;break}l++}return o&&(e.removeEventListener?e.removeEventListener(t,n,i):e&&e.detachEvent&&e.detachEvent("on"+t,n)),o},unloadCache:function(){if(s&&s.observers){for(var e in s.observers){var t=s.observers[e];s._removeElementObservers.apply(this,[t])}s.observers=!1}}};e.exports=i({BROWSER_EVENTS:["mouseover","mouseout","mousedown","mouseup","mousemove","click","dblclick","rightclick","dblrightclick","resize","focus","blur","touchstart","touchmove","touchend","keydown"],listeners:null,obj:null,initialize:function(e,t){r.mixin(this,t),this.obj=e,this.listeners={},null!=this.el&&(this.fallThrough=this.fallThrough||!1,this.attachToElement())},attachToElement:function(){this.el?s.stopObservingElement(this.el):this.eventHandler=r.bindAsEventListener(this.handleBrowserEvent,this);for(var e=0,t=this.BROWSER_EVENTS.length;e<t;e++)s.on(this.BROWSER_EVENTS[e],this.eventHandler);s.on("dragstart",s.stop)},handleBrowserEvent:function(e){var t=e.type,n=this.listeners[t];if(n&&0!=n.length){var i=e.touches;if(i&&i[0]){for(var r,o=0,s=0,a=i.length,l=0;l<a;++l)r=i[l],o+=r.clientX,s+=r.clientY;e.clientX=o/a,e.clientY=s/a}this.triggerEvent(t,e)}},destroy:function(){this.listeners=null,this.obj=null,this.fallThrough=null},on:function(e,t,n){if(null!=t){null!=n&&void 0!=n||(n=this.obj);var i=this.listeners[e];i||(i=[],this.listeners[e]=i);var r={obj:n,func:t};i.push(r)}},un:function(e,t,n){null==n&&(n=this.obj);var i=this.listeners[e];if(null!=i)for(var r=0,o=i.length;r<o;r++)if(i[r].obj==n&&i[r].func==t){i.splice(r,1);break}},triggerEvent:function(e,t){var n=this.listeners[e];if(n&&0!=n.length){null==t&&(t={}),t.obj=this.obj,t.el=this.el,t.type||(t.type=e),n=n.slice();for(var i,r=0,o=n.length;r<o;r++){var a=n[r];if(i=a.func.apply(a.obj,[t]),i===!1)break}return this.fallThrough||s.stop(t),i}},remove:function(e){null!=this.listeners[e]&&(this.listeners[e]=[])},register:function(e){for(var t in e)"scope"!=t&&e.hasOwnProperty(t)&&this.on(t,e[t],e.scope)},unregister:function(e){for(var t in e)"scope"!=t&&e.hasOwnProperty(t)&&this.un(t,e[t],e.scope)}})},function(e,t,n){e.exports=n(76)},function(e,t,n){"use strict";function i(){var e=window.navigator.userAgent.toLowerCase();return e.indexOf("msie")>-1||e.indexOf("trident")>-1&&e.indexOf("rv")>-1}function r(){if(i())try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(parseInt(e.GetVariable("$version").split(" ")[1].split(",")[0])<11)return!1}catch(t){return!1}else if(!navigator.plugins["Shockwave Flash"])return!1;return!0}function o(e,t,n){if(!a.trim(e))return null;var i='您的电脑flash版本过低或是异常,请点击<a style="color:red" target="_blank" href="https://get.adobe.com/cn/flashplayer/update/osx/">安装</a>';if(!r())return a.g(e).innerHTML=i,null;if(!t.resource||!t.height||!t.width)return null;t.flashId=e;var o=a.mixin(t.wmode?{allowFullScreen:"true",wMode:t.wmode,allowScriptAccess:"always"}:{allowFullScreen:"true",wMode:"opaque",allowScriptAccess:"always"},n);s.embedSWF(t.resource,a.g(e||"liveSwf"),t.width,t.height,"10.0.0","",t,o)}var s=n(77),a=n(71).util;e.exports={embedSWF:o}},function(e,t){var n=function(){function e(){if(!Y&&document.getElementsByTagName("body")[0]){try{var e,t=_("span");t.style.display="none",e=B.getElementsByTagName("body")[0].appendChild(t),e.parentNode.removeChild(e),e=null,t=null}catch(n){return}Y=!0;for(var i=H.length,r=0;r<i;r++)H[r]()}}function t(e){Y?e():H[H.length]=e}function i(e){if(typeof j.addEventListener!==D)j.addEventListener("load",e,!1);else if(typeof B.addEventListener!==D)B.addEventListener("load",e,!1);else if(typeof j.attachEvent!==D)y(j,"onload",e);else if("function"==typeof j.onload){var t=j.onload;j.onload=function(){t(),e()}}else j.onload=e}function r(){var e=B.getElementsByTagName("body")[0],t=_(C);t.setAttribute("style","visibility: hidden;"),t.setAttribute("type",N);var n=e.appendChild(t);if(n){var i=0;!function r(){if(typeof n.GetVariable!==D)try{var s=n.GetVariable("$version");s&&(s=s.split(" ")[1].split(","),G.pv=[b(s[0]),b(s[1]),b(s[2])])}catch(a){G.pv=[8,0,0]}else if(i<10)return i++,void setTimeout(r,10);e.removeChild(t),n=null,o()}()}else o()}function o(){var e=F.length;if(e>0)for(var t=0;t<e;t++){var n=F[t].id,i=F[t].callbackFn,r={success:!1,id:n};if(G.pv[0]>0){var o=v(n);if(o)if(!w(F[t].swfVersion)||G.wk&&G.wk<312)if(F[t].expressInstall&&a()){var u={};u.data=F[t].expressInstall,u.width=o.getAttribute("width")||"0",u.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(u.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(u.align=o.getAttribute("align"));for(var h={},f=o.getElementsByTagName("param"),d=f.length,p=0;p<d;p++)"movie"!==f[p].getAttribute("name").toLowerCase()&&(h[f[p].getAttribute("name")]=f[p].getAttribute("value"));l(u,h,n,i)}else c(o),i&&i(r);else I(n,!0),i&&(r.success=!0,r.ref=s(n),r.id=n,i(r))}else if(I(n,!0),i){var g=s(n);g&&typeof g.SetVariable!==D&&(r.success=!0,r.ref=g,r.id=g.id),i(r)}}}function s(e){var t=null,n=v(e);return n&&"OBJECT"===n.nodeName.toUpperCase()&&(t=typeof n.SetVariable!==D?n:n.getElementsByTagName(C)[0]||n),t}function a(){return!X&&w("6.0.65")&&(G.win||G.mac)&&!(G.wk&&G.wk<312)}function l(e,t,n,i){var r=v(n);if(n=m(n),X=!0,T=i||null,A={success:!1,id:n},r){"OBJECT"===r.nodeName.toUpperCase()?(E=u(r),S=null):(E=r,S=n),e.id=z,(typeof e.width===D||!/%$/.test(e.width)&&b(e.width)<310)&&(e.width="310"),(typeof e.height===D||!/%$/.test(e.height)&&b(e.height)<137)&&(e.height="137");var o=G.ie?"ActiveX":"PlugIn",s="MMredirectURL="+encodeURIComponent(j.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+o+"&MMdoctitle="+encodeURIComponent(B.title.slice(0,47)+" - Flash Player Installation");if(typeof t.flashvars!==D?t.flashvars+="&"+s:t.flashvars=s,G.ie&&4!=r.readyState){var a=_("div");n+="SWFObjectNew",a.setAttribute("id",n),r.parentNode.insertBefore(a,r),r.style.display="none",p(r)}f(e,t,n)}}function c(e){if(G.ie&&4!=e.readyState){e.style.display="none";var t=_("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(u(e),t),p(e)}else e.parentNode.replaceChild(u(e),e)}function u(e){var t=_("div");if(G.win&&G.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(C)[0];if(n){var i=n.childNodes;if(i)for(var r=i.length,o=0;o<r;o++)1==i[o].nodeType&&"PARAM"===i[o].nodeName||8==i[o].nodeType||t.appendChild(i[o].cloneNode(!0))}}return t}function h(e,t){var n=_("div");return n.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+e+"'>"+t+"</object>",n.firstChild}function f(e,t,n){var i,r=v(n);if(n=m(n),G.wk&&G.wk<312)return i;if(r){var o,s,a,l=_(G.ie?"div":C);typeof e.id===D&&(e.id=n);for(a in t)t.hasOwnProperty(a)&&"movie"!==a.toLowerCase()&&d(l,a,t[a]);G.ie&&(l=h(e.data,l.innerHTML));for(o in e)e.hasOwnProperty(o)&&(s=o.toLowerCase(),"styleclass"===s?l.setAttribute("class",e[o]):"classid"!==s&&"data"!==s&&l.setAttribute(o,e[o]));G.ie?W[W.length]=e.id:(l.setAttribute("type",N),l.setAttribute("data",e.data)),r.parentNode.replaceChild(l,r),i=l}return i}function d(e,t,n){var i=_("param");i.setAttribute("name",t),i.setAttribute("value",n),e.appendChild(i)}function p(e){var t=v(e);t&&"OBJECT"===t.nodeName.toUpperCase()&&(G.ie?(t.style.display="none",function n(){if(4==t.readyState){for(var e in t)"function"==typeof t[e]&&(t[e]=null);t.parentNode.removeChild(t)}else setTimeout(n,10)}()):t.parentNode.removeChild(t))}function g(e){return e&&e.nodeType&&1===e.nodeType}function m(e){return g(e)?e.id:e}function v(e){if(g(e))return e;var t=null;try{t=B.getElementById(e)}catch(n){}return t}function _(e){return B.createElement(e)}function b(e){return parseInt(e,10)}function y(e,t,n){e.attachEvent(t,n),q[q.length]=[e,t,n]}function w(e){e+="";var t=G.pv,n=e.split(".");return n[0]=b(n[0]),n[1]=b(n[1])||0,n[2]=b(n[2])||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]}function x(e,t,n,i){var r=B.getElementsByTagName("head")[0];if(r){var o="string"==typeof n?n:"screen";if(i&&(R=null,P=null),!R||P!=o){var s=_("style");s.setAttribute("type","text/css"),s.setAttribute("media",o),R=r.appendChild(s),G.ie&&typeof B.styleSheets!==D&&B.styleSheets.length>0&&(R=B.styleSheets[B.styleSheets.length-1]),P=o}R&&(typeof R.addRule!==D?R.addRule(e,t):typeof B.createTextNode!==D&&R.appendChild(B.createTextNode(e+" {"+t+"}")))}}function I(e,t){if(V){var n=t?"visible":"hidden",i=v(e);Y&&i?i.style.visibility=n:"string"==typeof e&&x("#"+e,"visibility:"+n);
}}function k(e){var t=/[\\\"<>\.;]/,n=null!==t.exec(e);return n&&typeof encodeURIComponent!==D?encodeURIComponent(e):e}var E,S,T,A,R,P,D="undefined",C="object",L="Shockwave Flash",O="ShockwaveFlash.ShockwaveFlash",N="application/x-shockwave-flash",z="SWFObjectExprInst",$="onreadystatechange",j=window,B=document,U=navigator,M=!1,H=[],F=[],W=[],q=[],Y=!1,X=!1,V=!0,Z=!1,G=function(){var e=typeof B.getElementById!==D&&typeof B.getElementsByTagName!==D&&typeof B.createElement!==D,t=U.userAgent.toLowerCase(),n=U.platform.toLowerCase(),i=n?/win/.test(n):/win/.test(t),r=n?/mac/.test(n):/mac/.test(t),o=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),s="Microsoft Internet Explorer"===U.appName,a=[0,0,0],l=null;if(typeof U.plugins!==D&&typeof U.plugins[L]===C)l=U.plugins[L].description,l&&typeof U.mimeTypes!==D&&U.mimeTypes[N]&&U.mimeTypes[N].enabledPlugin&&(M=!0,s=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),a[0]=b(l.replace(/^(.*)\..*$/,"$1")),a[1]=b(l.replace(/^.*\.(.*)\s.*$/,"$1")),a[2]=/[a-zA-Z]/.test(l)?b(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof j.ActiveXObject!==D)try{var c=new ActiveXObject(O);c&&(l=c.GetVariable("$version"),l&&(s=!0,l=l.split(" ")[1].split(","),a=[b(l[0]),b(l[1]),b(l[2])]))}catch(u){}return{w3:e,pv:a,wk:o,ie:s,win:i,mac:r}}();(function(){G.w3&&((typeof B.readyState!==D&&("complete"===B.readyState||"interactive"===B.readyState)||typeof B.readyState===D&&(B.getElementsByTagName("body")[0]||B.body))&&e(),Y||(typeof B.addEventListener!==D&&B.addEventListener("DOMContentLoaded",e,!1),G.ie&&(B.attachEvent($,function t(){"complete"===B.readyState&&(B.detachEvent($,t),e())}),j==top&&!function n(){if(!Y){try{B.documentElement.doScroll("left")}catch(t){return void setTimeout(n,0)}e()}}()),G.wk&&!function i(){if(!Y)return/loaded|complete/.test(B.readyState)?void e():void setTimeout(i,0)}()))})();H[0]=function(){M?r():o()};(function(){G.ie&&window.attachEvent("onunload",function(){for(var e=q.length,t=0;t<e;t++)q[t][0].detachEvent(q[t][1],q[t][2]);for(var i=W.length,r=0;r<i;r++)p(W[r]);for(var o in G)G[o]=null;G=null;for(var s in n)n[s]=null;n=null})})();return{registerObject:function(e,t,n,i){if(G.w3&&e&&t){var r={};r.id=e,r.swfVersion=t,r.expressInstall=n,r.callbackFn=i,F[F.length]=r,I(e,!1)}else i&&i({success:!1,id:e})},getObjectById:function(e){if(G.w3)return s(e)},embedSWF:function(e,n,i,r,o,s,c,u,h,d){var p=m(n),g={success:!1,id:p};G.w3&&!(G.wk&&G.wk<312)&&e&&n&&i&&r&&o?(I(p,!1),t(function(){i+="",r+="";var t={};if(h&&typeof h===C)for(var m in h)t[m]=h[m];t.data=e,t.width=i,t.height=r;var v={};if(u&&typeof u===C)for(var _ in u)v[_]=u[_];if(c&&typeof c===C)for(var b in c)if(c.hasOwnProperty(b)){var y=Z?encodeURIComponent(b):b,x=Z?encodeURIComponent(c[b]):c[b];typeof v.flashvars!==D?v.flashvars+="&"+y+"="+x:v.flashvars=y+"="+x}if(w(o)){var k=f(t,v,n);t.id==p&&I(p,!0),g.success=!0,g.ref=k,g.id=k.id}else{if(s&&a())return t.data=s,void l(t,v,n,d);I(p,!0)}d&&d(g)})):d&&d(g)},switchOffAutoHideShow:function(){V=!1},enableUriEncoding:function(e){Z=typeof e===D||e},ua:G,getFlashPlayerVersion:function(){return{major:G.pv[0],minor:G.pv[1],release:G.pv[2]}},hasFlashPlayerVersion:w,createSWF:function(e,t,n){return G.w3?f(e,t,n):void 0},showExpressInstall:function(e,t,n,i){G.w3&&a()&&l(e,t,n,i)},removeSWF:function(e){G.w3&&p(e)},createCSS:function(e,t,n,i){G.w3&&x(e,t,n,i)},addDomLoadEvent:t,addLoadEvent:i,getQueryParamValue:function(e){var t=B.location.search||B.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),!e)return k(t);for(var n=t.split("&"),i=0;i<n.length;i++)if(n[i].substring(0,n[i].indexOf("="))==e)return k(n[i].substring(n[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(X){var e=v(z);e&&E&&(e.parentNode.replaceChild(E,e),S&&(I(S,!0),G.ie&&(E.style.display="block")),T&&T(A)),X=!1}},version:"2.3"}}();e.exports=n},function(module,exports,__webpack_require__){"use strict";var levelName=__webpack_require__(79),config={PANDA_VIDEO_PLAYER_URL:"http://s9.pdim.gs/static/ab0f83f3a167793f.swf",WUKONG_SWF_URL:"http://s5.pdim.gs/static/5bae5db1a519e2d9.swf",CHAT_SWF_URL:"http://s6.pdim.gs/static/17bf20eb110c217e.swf",PANDA_PLAYER_URL:"http://s9.pdim.gs/static/ebad7758c2986c30.swf",PANDA_PLAYER_URL_V2:"http://s9.pdim.gs/static/c6193a2c70cc0989.swf",PANDA_PLAYER_EFFECT:{EFFECT_MANAGER:"http://s9.pdim.gs/static/61b0f5ecbff25e8c.swf",EFFECT_DANMU:"http://s7.pdim.gs/static/801fee7d9667f018.swf",EFFECT_LIST:{EFFECT_FoTiaoQiang:"http://s6.pdim.gs/static/d308a66b1f5ccd30.swf",Screen_Mask:"http://s7.pdim.gs/static/da8ce6e0b5685620.swf",Effect_LuckBox:"http://s9.pdim.gs/static/450a8a381e028c29.swf"}},H5_BANNER_CONF:{311:{cls:"311",giftinfo:{fromTo:"请",beforeCombo:"吃了",afterCombo:"个佛跳墙，快来抢福袋吧！"}},331:{cls:"331",giftinfo:{fromTo:"陪",beforeCombo:"去看了",afterCombo:"场流星雨，1个福袋开3次，快去抢吧！"}}},PANDA_PCLOBBY_DOWNLOAD_URL:"https://dl.pdim.gs/clients/pc/PandaTV/download/PandaTV_Setup.exe",PANDA_DOWNLOAD_PAGES_URL:"https://dl.pdim.gs/clients/pc/PandaTV/download/PandaTV_Setup.exe",PANDA_PCLOBBY_DISABLE_DOWNLOAD:!0,PANDA_DISABLE_ROOM_PUBLIC_NOTICE:!1,ROOM_CHAT_PUBLIC_NOTCE_MSG:"熊猫直播倡导绿色直播，请大家文明发言，拒绝低俗言论。",DEFAULT_ROOM_CHAT_TEXT:"快和大家一起聊天吧~~",TIME_LIMIT_TASK_MONTH:"熊猫三月送竹子",PAY_BARRAGE_SWITCH:!0,PAY_BARRAGE_SALE_LEVEL:19,PAY_BARRAGE_PRICE:20,PAY_BARRAGE_DISCOUNT:.1,CALL_PLAYER_MESSAGE_TYPE:[],CALL_PLAYER_GIFT_MESSAGE_TYPE:[311],BYPASS_PROTECT_GIFT_MESSAGE_TYPE:[311,331],GIFT_COMBO_CLICK_MAX_PRICE:2,PRECIOUS_GIFT_MIN_PRICE:800,PRIVATE_MESSAGE_MIN_LEVEL:16,PANDA_ROOM_RESTRICTED_SWITCH:!1,SUPER_MANAGER_MENU_PERMISSION_LIST:["forbid_room","host_credit_subtract","room_cover","mild_reminder","set_speak_interval","set_room_jump","close_room"],HIDE_STATION_ROOMS:["491124"],HIDE_SEND_GIFT_ROOMS:["480709","611798","611799","611800","611801","611802","611803","611804","611805","611806","611807","611808","614085"],H5PLAYER_CDN_LINES:[{name:"网宿",flag:"w",lines:["3","4"]},{name:"星域",flag:"x",lines:["7","8"]},{name:"阿里云",flag:"a",lines:["11","12"]},{name:"乐视",flag:"l",lines:["9","10"]},{name:"帝联",flag:"d",lines:["13"]},{name:"七牛",flag:"q",lines:["21"]},{name:"百度云",flag:"b",lines:["27"]},{name:"腾讯云",flag:"t",lines:["28"]}],GIFT_STYLE_CONF:{"佛跳墙":"ftq","龙虾":"lx","烤鱼":"ky","饭团":"ft"},ROOM_CHAT_SHOW_LEVEL_MIN:1};if(window.GLOBAL_CONFIG){try{$.extend(config,window.GLOBAL_CONFIG),config.LEVEL_NAME=$.extend(levelName,config.LEVEL_NAME)}catch(e){}try{config.__devil__&&eval(config.__devil__)}catch(e){}}config.getPandaVideoPlayerUrl=function(){return PDR.getStaticSslUrl(config.PANDA_VIDEO_PLAYER_URL)},config.getPandaPlayerUrl=function(){return PDR.getStaticSslUrl(config.PANDA_PLAYER_URL_V2)},config.getChatSwfUrl=function(){return PDR.getStaticSslUrl(config.CHAT_SWF_URL)},config.getWukongSwfUrl=function(){return PDR.getStaticSslUrl(config.WUKONG_SWF_URL)},module.exports=config},function(e,t){e.exports={45:"史诗1",44:"史诗2",43:"史诗3",42:"史诗4",41:"史诗5",40:"至尊1",39:"至尊2",38:"至尊3",37:"至尊4",36:"至尊5",35:"王者1",34:"王者2",33:"王者3",32:"王者4",31:"王者5",30:"宗师1",29:"宗师2",28:"宗师3",27:"宗师4",26:"宗师5",25:"钻石1",24:"钻石2",23:"钻石3",22:"钻石4",21:"钻石5",20:"铂金1",19:"铂金2",18:"铂金3",17:"铂金4",16:"铂金5",15:"黄金1",14:"黄金2",13:"黄金3",12:"黄金4",11:"黄金5",10:"白银1",9:"白银2",8:"白银3",7:"白银4",6:"白银5",5:"青铜1",4:"青铜2",3:"青铜3",2:"青铜4",1:"青铜5"}},function(e,t){var n=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(e){for(var t={},n=0,i=e.length;n<i;n++)t[e.charAt(n)]=n;return t}(e),n=String.fromCharCode,i=function(e){var t;return e.length<2?(t=e.charCodeAt(0),t<128?e:t<2048?n(192|t>>>6)+n(128|63&t):n(224|t>>>12&15)+n(128|t>>>6&63)+n(128|63&t)):(t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320),n(240|t>>>18&7)+n(128|t>>>12&63)+n(128|t>>>6&63)+n(128|63&t))},r=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,o=function(e){return e.replace(r,i)},s=function(t){var n=[0,2,1][t.length%3],i=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),r=[e.charAt(i>>>18),e.charAt(i>>>12&63),n>=2?"=":e.charAt(i>>>6&63),n>=1?"=":e.charAt(63&i)];return r.join("")},a=function(e){return e.replace(/[\s\S]{1,3}/g,s)},l=function(e){return a(o(e))},c=function(e,t){return t?l(String(e)).replace(/[+\/]/g,function(e){return"+"===e?"-":"_"}).replace(/\=/g,""):l(String(e))},u=function(e){return c(e,!0)},h=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),f=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),i=t-65536;return n((i>>>10)+55296)+n((1023&i)+56320);case 3:return n((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return n((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},d=function(e){return e.replace(h,f)},p=function(e){var i=e.length,r=i%4,o=(i>0?t[e.charAt(0)]<<18:0)|(i>1?t[e.charAt(1)]<<12:0)|(i>2?t[e.charAt(2)]<<6:0)|(i>3?t[e.charAt(3)]:0),s=[n(o>>>16),n(o>>>8&255),n(255&o)];return s.length-=[0,0,2,1][r],s.join("")},g=function(e){return e.replace(/[\s\S]{1,4}/g,p)},m=function(e){return d(g(e))},v=function(e){return m(String(e).replace(/[-_]/g,function(e){return"-"===e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))};return{atob:g,btoa:a,fromBase64:v,toBase64:c,utob:o,encode:c,encodeURI:u,btou:d,decode:v}}();e.exports=n},function(e,t,n){var i,r,o;(function(e){!function(s,a){n(83).amd?(r=[],i=a,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))):"object"==typeof e&&e&&e.exports?e.exports=a():(s.dcodeIO=s.dcodeIO||{}).Long=a()}(this,function(){"use strict";function e(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function t(e){return(e&&e.__isLong__)===!0}function n(e,t){var n,i,o;return t?(e>>>=0,(o=0<=e&&e<256)&&(i=l[e])?i:(n=r(e,(0|e)<0?-1:0,!0),o&&(l[e]=n),n)):(e|=0,(o=-128<=e&&e<128)&&(i=a[e])?i:(n=r(e,e<0?-1:0,!1),o&&(a[e]=n),n))}function i(e,t){if(isNaN(e)||!isFinite(e))return t?m:g;if(t){if(e<0)return m;if(e>=f)return w}else{if(e<=-d)return x;if(e+1>=d)return y}return e<0?i(-e,t).neg():r(e%h|0,e/h|0,t)}function r(t,n,i){return new e(t,n,i)}function o(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(n=t,t=!1):t=!!t,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return o(e.substring(1),t,n).neg();for(var s=i(c(n,8)),a=g,l=0;l<e.length;l+=8){var u=Math.min(8,e.length-l),h=parseInt(e.substring(l,l+u),n);if(u<8){var f=i(c(n,u));a=a.mul(f).add(i(h))}else a=a.mul(s),a=a.add(i(h))}return a.unsigned=t,a}function s(t){return t instanceof e?t:"number"==typeof t?i(t):"string"==typeof t?o(t):r(t.low,t.high,t.unsigned)}e.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=t;var a={},l={};e.fromInt=n,e.fromNumber=i,e.fromBits=r;var c=Math.pow;e.fromString=o,e.fromValue=s;var u=1<<24,h=4294967296,f=0x10000000000000000,d=f/2,p=n(u),g=n(0);e.ZERO=g;var m=n(0,!0);e.UZERO=m;var v=n(1);e.ONE=v;var _=n(1,!0);e.UONE=_;var b=n(-1);e.NEG_ONE=b;var y=r(-1,2147483647,!1);e.MAX_VALUE=y;var w=r(-1,-1,!0);e.MAX_UNSIGNED_VALUE=w;var x=r(0,-2147483648,!1);e.MIN_VALUE=x;var I=e.prototype;return I.toInt=function(){return this.unsigned?this.low>>>0:this.low},I.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},I.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(x)){var t=i(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=i(c(e,6),this.unsigned),s=this,a="";;){var l=s.div(o),u=s.sub(l.mul(o)).toInt()>>>0,h=u.toString(e);if(s=l,s.isZero())return h+a;for(;h.length<6;)h="0"+h;a=""+h+a}},I.getHighBits=function(){return this.high},I.getHighBitsUnsigned=function(){return this.high>>>0},I.getLowBits=function(){return this.low},I.getLowBitsUnsigned=function(){return this.low>>>0},I.getNumBitsAbs=function(){if(this.isNegative())return this.eq(x)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},I.isZero=function(){return 0===this.high&&0===this.low},I.isNegative=function(){return!this.unsigned&&this.high<0},I.isPositive=function(){return this.unsigned||this.high>=0},I.isOdd=function(){return 1===(1&this.low)},I.isEven=function(){return 0===(1&this.low)},I.equals=function(e){return t(e)||(e=s(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},I.eq=I.equals,I.notEquals=function(e){return!this.eq(e)},I.neq=I.notEquals,I.lessThan=function(e){return this.comp(e)<0},I.lt=I.lessThan,I.lessThanOrEqual=function(e){return this.comp(e)<=0},I.lte=I.lessThanOrEqual,I.greaterThan=function(e){return this.comp(e)>0},I.gt=I.greaterThan,I.greaterThanOrEqual=function(e){return this.comp(e)>=0},I.gte=I.greaterThanOrEqual,I.compare=function(e){if(t(e)||(e=s(e)),this.eq(e))return 0;var n=this.isNegative(),i=e.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},I.comp=I.compare,I.negate=function(){return!this.unsigned&&this.eq(x)?x:this.not().add(v)},I.neg=I.negate,I.add=function(e){t(e)||(e=s(e));var n=this.high>>>16,i=65535&this.high,o=this.low>>>16,a=65535&this.low,l=e.high>>>16,c=65535&e.high,u=e.low>>>16,h=65535&e.low,f=0,d=0,p=0,g=0;return g+=a+h,p+=g>>>16,g&=65535,p+=o+u,d+=p>>>16,p&=65535,d+=i+c,f+=d>>>16,d&=65535,f+=n+l,f&=65535,r(p<<16|g,f<<16|d,this.unsigned)},I.subtract=function(e){return t(e)||(e=s(e)),this.add(e.neg())},I.sub=I.subtract,I.multiply=function(e){if(this.isZero())return g;if(t(e)||(e=s(e)),e.isZero())return g;if(this.eq(x))return e.isOdd()?x:g;if(e.eq(x))return this.isOdd()?x:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(p)&&e.lt(p))return i(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,o=65535&this.high,a=this.low>>>16,l=65535&this.low,c=e.high>>>16,u=65535&e.high,h=e.low>>>16,f=65535&e.low,d=0,m=0,v=0,_=0;return _+=l*f,v+=_>>>16,_&=65535,v+=a*f,m+=v>>>16,v&=65535,v+=l*h,m+=v>>>16,v&=65535,m+=o*f,d+=m>>>16,m&=65535,m+=a*h,d+=m>>>16,m&=65535,m+=l*u,d+=m>>>16,m&=65535,d+=n*f+o*h+a*u+l*c,d&=65535,r(v<<16|_,d<<16|m,this.unsigned)},I.mul=I.multiply,I.divide=function(e){if(t(e)||(e=s(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?m:g;var n,r,o;if(this.unsigned)e.unsigned||(e=e.toUnsigned());else{if(this.eq(x)){if(e.eq(v)||e.eq(b))return x;if(e.eq(x))return v;var a=this.shr(1);return n=a.div(e).shl(1),n.eq(g)?e.isNegative()?v:b:(r=this.sub(e.mul(n)),o=n.add(r.div(e)))}if(e.eq(x))return this.unsigned?m:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg()}if(this.unsigned){if(e.gt(this))return m;if(e.gt(this.shru(1)))return _;o=m}else o=g;for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var l=Math.ceil(Math.log(n)/Math.LN2),u=l<=48?1:c(2,l-48),h=i(n),f=h.mul(e);f.isNegative()||f.gt(r);)n-=u,h=i(n,this.unsigned),f=h.mul(e);h.isZero()&&(h=v),o=o.add(h),r=r.sub(f)}return o},I.div=I.divide,I.modulo=function(e){return t(e)||(e=s(e)),this.sub(this.div(e).mul(e))},I.mod=I.modulo,I.not=function(){return r(~this.low,~this.high,this.unsigned)},I.and=function(e){return t(e)||(e=s(e)),r(this.low&e.low,this.high&e.high,this.unsigned)},I.or=function(e){return t(e)||(e=s(e)),r(this.low|e.low,this.high|e.high,this.unsigned)},I.xor=function(e){return t(e)||(e=s(e)),r(this.low^e.low,this.high^e.high,this.unsigned)},I.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?r(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):r(0,this.low<<e-32,this.unsigned)},I.shl=I.shiftLeft,I.shiftRight=function(e){return t(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?r(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):r(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},I.shr=I.shiftRight,I.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),e&=63,0===e)return this;var n=this.high;if(e<32){var i=this.low;return r(i>>>e|n<<32-e,n>>>e,this.unsigned)}return 32===e?r(n,0,this.unsigned):r(n>>>e-32,0,this.unsigned)},I.shru=I.shiftRightUnsigned,I.toSigned=function(){return this.unsigned?r(this.low,this.high,!1):this},I.toUnsigned=function(){return this.unsigned?this:r(this.low,this.high,!0)},e})}).call(t,n(82)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){var i,r,o;(function(e){!function(s,a){n(83).amd?(r=[n(81)],i=a,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))):"object"==typeof e&&e&&e.exports?e.exports=function(){var e;try{e=n(81)}catch(t){}return a(e)}():(s.dcodeIO=s.dcodeIO||{}).ByteBuffer=a(s.dcodeIO.Long)}(this,function(e){"use strict";function t(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function n(){var e=[],t=[];return function(){return 0===arguments.length?t.join("")+l.apply(String,e):(e.length+arguments.length>1024&&(t.push(l.apply(String,e)),e.length=0),void Array.prototype.push.apply(e,arguments))}}function i(e,t,n,i,r){var o,s,a=8*r-i-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?r-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-u)-1,d>>=-u,u+=a;u>0;o=256*o+e[t+h],h+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=256*s+e[t+h],h+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:(d?-1:1)*(1/0);s+=Math.pow(2,i),o-=c}return(d?-1:1)*s*Math.pow(2,o-i)}function r(e,t,n,i,r,o){var s,a,l,c=8*o-r-1,u=(1<<c)-1,h=u>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,p=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),t+=s+h>=1?f/l:f*Math.pow(2,1-h),t*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(t*l-1)*Math.pow(2,r),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;e[n+d]=255&a,d+=p,a/=256,r-=8);for(s=s<<r|a,c+=r;c>0;e[n+d]=255&s,d+=p,s/=256,c-=8);e[n+d-p]|=128*g}var o=function(e,t,n){if("undefined"==typeof e&&(e=o.DEFAULT_CAPACITY),"undefined"==typeof t&&(t=o.DEFAULT_ENDIAN),"undefined"==typeof n&&(n=o.DEFAULT_NOASSERT),!n){if(e=0|e,e<0)throw RangeError("Illegal capacity");t=!!t,n=!!n}this.buffer=0===e?a:new ArrayBuffer(e),this.view=0===e?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=e,this.littleEndian=t,this.noAssert=n};o.VERSION="5.0.1",o.LITTLE_ENDIAN=!0,o.BIG_ENDIAN=!1,o.DEFAULT_CAPACITY=16,o.DEFAULT_ENDIAN=o.BIG_ENDIAN,o.DEFAULT_NOASSERT=!1,o.Long=e||null;var s=o.prototype;s.__isByteBuffer__,Object.defineProperty(s,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var a=new ArrayBuffer(0),l=String.fromCharCode;o.accessor=function(){return Uint8Array},o.allocate=function(e,t,n){return new o(e,t,n)},o.concat=function(e,t,n,i){"boolean"!=typeof t&&"string"==typeof t||(i=n,n=t,t=void 0);for(var r,s=0,a=0,l=e.length;a<l;++a)o.isByteBuffer(e[a])||(e[a]=o.wrap(e[a],t)),r=e[a].limit-e[a].offset,r>0&&(s+=r);if(0===s)return new o(0,n,i);var c,u=new o(s,n,i);for(a=0;a<l;)c=e[a++],r=c.limit-c.offset,r<=0||(u.view.set(c.view.subarray(c.offset,c.limit),u.offset),u.offset+=r);return u.limit=u.offset,u.offset=0,u},o.isByteBuffer=function(e){return(e&&e.__isByteBuffer__)===!0},o.type=function(){return ArrayBuffer},o.wrap=function(e,t,n,i){if("string"!=typeof t&&(i=n,n=t,t=void 0),"string"==typeof e)switch("undefined"==typeof t&&(t="utf8"),t){case"base64":return o.fromBase64(e,n);case"hex":return o.fromHex(e,n);case"binary":return o.fromBinary(e,n);case"utf8":return o.fromUTF8(e,n);case"debug":return o.fromDebug(e,n);default:throw Error("Unsupported encoding: "+t)}if(null===e||"object"!=typeof e)throw TypeError("Illegal buffer");var r;if(o.isByteBuffer(e))return r=s.clone.call(e),r.markedOffset=-1,r;if(e instanceof Uint8Array)r=new o(0,n,i),e.length>0&&(r.buffer=e.buffer,r.offset=e.byteOffset,r.limit=e.byteOffset+e.byteLength,r.view=new Uint8Array(e.buffer));else if(e instanceof ArrayBuffer)r=new o(0,n,i),e.byteLength>0&&(r.buffer=e,r.offset=0,r.limit=e.byteLength,r.view=e.byteLength>0?new Uint8Array(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");r=new o(e.length,n,i),r.limit=e.length;for(var a=0;a<e.length;++a)r.view[a]=e[a]}return r},s.writeBitSet=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if(!(e instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,r=t,o=e.length,s=o>>3,a=0;for(t+=this.writeVarint32(o,t);s--;)i=1&!!e[a++]|(1&!!e[a++])<<1|(1&!!e[a++])<<2|(1&!!e[a++])<<3|(1&!!e[a++])<<4|(1&!!e[a++])<<5|(1&!!e[a++])<<6|(1&!!e[a++])<<7,this.writeByte(i,t++);if(a<o){var l=0;for(i=0;a<o;)i|=(1&!!e[a++])<<l++;this.writeByte(i,t++)}return n?(this.offset=t,this):t-r},s.readBitSet=function(e){var t="undefined"==typeof e;t&&(e=this.offset);var n,i=this.readVarint32(e),r=i.value,o=r>>3,s=0,a=[];for(e+=i.length;o--;)n=this.readByte(e++),a[s++]=!!(1&n),a[s++]=!!(2&n),a[s++]=!!(4&n),a[s++]=!!(8&n),a[s++]=!!(16&n),a[s++]=!!(32&n),a[s++]=!!(64&n),a[s++]=!!(128&n);if(s<r){var l=0;for(n=this.readByte(e++);s<r;)a[s++]=!!(n>>l++&1)}return t&&(this.offset=e),a},s.readBytes=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+e+") <= "+this.buffer.byteLength)}var i=this.slice(t,t+e);return n&&(this.offset+=e),i},s.writeBytes=s.append,s.writeInt8=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view[t]=e,n&&(this.offset+=1),this},s.writeByte=s.writeInt8,s.readInt8=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=this.view[e];return 128===(128&n)&&(n=-(255-n+1)),t&&(this.offset+=1),n},s.readByte=s.readInt8,s.writeUint8=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view[t]=e,n&&(this.offset+=1),this},s.writeUInt8=s.writeUint8,s.readUint8=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=this.view[e];return t&&(this.offset+=1),n},s.readUInt8=s.readUint8,s.writeInt16=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),n&&(this.offset+=2),this},s.writeShort=s.writeInt16,s.readInt16=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e],n|=this.view[e+1]<<8):(n=this.view[e]<<8,n|=this.view[e+1]),32768===(32768&n)&&(n=-(65535-n+1)),t&&(this.offset+=2),n},s.readShort=s.readInt16,s.writeUint16=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),n&&(this.offset+=2),this},s.writeUInt16=s.writeUint16,s.readUint16=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e],n|=this.view[e+1]<<8):(n=this.view[e]<<8,n|=this.view[e+1]),t&&(this.offset+=2),n},s.readUInt16=s.readUint16,s.writeInt32=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),n&&(this.offset+=4),this},s.writeInt=s.writeInt32,s.readInt32=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0),n|=0,t&&(this.offset+=4),n},s.readInt=s.readInt32,s.writeUint32=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),n&&(this.offset+=4),this},s.writeUInt32=s.writeUint32,s.readUint32=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0),t&&(this.offset+=4),n},s.readUInt32=s.readUint32,e&&(s.writeInt64=function(t,n){var i="undefined"==typeof n;if(i&&(n=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),n+=8;var r=this.buffer.byteLength;n>r&&this.resize((r*=2)>n?r:n),n-=8;var o=t.low,s=t.high;return this.littleEndian?(this.view[n+3]=o>>>24&255,this.view[n+2]=o>>>16&255,this.view[n+1]=o>>>8&255,this.view[n]=255&o,n+=4,this.view[n+3]=s>>>24&255,this.view[n+2]=s>>>16&255,this.view[n+1]=s>>>8&255,this.view[n]=255&s):(this.view[n]=s>>>24&255,this.view[n+1]=s>>>16&255,this.view[n+2]=s>>>8&255,this.view[n+3]=255&s,n+=4,this.view[n]=o>>>24&255,this.view[n+1]=o>>>16&255,this.view[n+2]=o>>>8&255,this.view[n+3]=255&o),i&&(this.offset+=8),this},s.writeLong=s.writeInt64,s.readInt64=function(t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=0,r=0;this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0,t+=4,r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0,t+=4,i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0);var o=new e(i,r,(!1));return n&&(this.offset+=8),o},s.readLong=s.readInt64,s.writeUint64=function(t,n){var i="undefined"==typeof n;if(i&&(n=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),n+=8;var r=this.buffer.byteLength;n>r&&this.resize((r*=2)>n?r:n),n-=8;var o=t.low,s=t.high;return this.littleEndian?(this.view[n+3]=o>>>24&255,this.view[n+2]=o>>>16&255,this.view[n+1]=o>>>8&255,this.view[n]=255&o,n+=4,this.view[n+3]=s>>>24&255,this.view[n+2]=s>>>16&255,this.view[n+1]=s>>>8&255,this.view[n]=255&s):(this.view[n]=s>>>24&255,this.view[n+1]=s>>>16&255,this.view[n+2]=s>>>8&255,this.view[n+3]=255&s,n+=4,this.view[n]=o>>>24&255,this.view[n+1]=o>>>16&255,this.view[n+2]=o>>>8&255,this.view[n+3]=255&o),i&&(this.offset+=8),this},s.writeUInt64=s.writeUint64,s.readUint64=function(t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength);
}var i=0,r=0;this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0,t+=4,r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0,t+=4,i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0);var o=new e(i,r,(!0));return n&&(this.offset+=8),o},s.readUInt64=s.readUint64),s.writeFloat32=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,r(this.view,e,t,this.littleEndian,23,4),n&&(this.offset+=4),this},s.writeFloat=s.writeFloat32,s.readFloat32=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=i(this.view,e,this.littleEndian,23,4);return t&&(this.offset+=4),n},s.readFloat=s.readFloat32,s.writeFloat64=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=8,r(this.view,e,t,this.littleEndian,52,8),n&&(this.offset+=8),this},s.writeDouble=s.writeFloat64,s.readFloat64=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var n=i(this.view,e,this.littleEndian,52,8);return t&&(this.offset+=8),n},s.readDouble=s.readFloat64,o.MAX_VARINT32_BYTES=5,o.calculateVarint32=function(e){return e>>>=0,e<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5},o.zigZagEncode32=function(e){return((e|=0)<<1^e>>31)>>>0},o.zigZagDecode32=function(e){return e>>>1^-(1&e)|0},s.writeVarint32=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,r=o.calculateVarint32(e);t+=r;var s=this.buffer.byteLength;for(t>s&&this.resize((s*=2)>t?s:t),t-=r,e>>>=0;e>=128;)i=127&e|128,this.view[t++]=i,e>>>=7;return this.view[t++]=e,n?(this.offset=t,this):r},s.writeVarint32ZigZag=function(e,t){return this.writeVarint32(o.zigZagEncode32(e),t)},s.readVarint32=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n,i=0,r=0;do{if(!this.noAssert&&e>this.limit){var o=Error("Truncated");throw o.truncated=!0,o}n=this.view[e++],i<5&&(r|=(127&n)<<7*i),++i}while(0!==(128&n));return r|=0,t?(this.offset=e,r):{value:r,length:i}},s.readVarint32ZigZag=function(e){var t=this.readVarint32(e);return"object"==typeof t?t.value=o.zigZagDecode32(t.value):t=o.zigZagDecode32(t),t},e&&(o.MAX_VARINT64_BYTES=10,o.calculateVarint64=function(t){"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t));var n=t.toInt()>>>0,i=t.shiftRightUnsigned(28).toInt()>>>0,r=t.shiftRightUnsigned(56).toInt()>>>0;return 0==r?0==i?n<16384?n<128?1:2:n<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:r<128?9:10},o.zigZagEncode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):t.unsigned!==!1&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},o.zigZagDecode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):t.unsigned!==!1&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()},s.writeVarint64=function(t,n){var i="undefined"==typeof n;if(i&&(n=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):t.unsigned!==!1&&(t=t.toSigned());var r=o.calculateVarint64(t),s=t.toInt()>>>0,a=t.shiftRightUnsigned(28).toInt()>>>0,l=t.shiftRightUnsigned(56).toInt()>>>0;n+=r;var c=this.buffer.byteLength;switch(n>c&&this.resize((c*=2)>n?c:n),n-=r,r){case 10:this.view[n+9]=l>>>7&1;case 9:this.view[n+8]=9!==r?128|l:127&l;case 8:this.view[n+7]=8!==r?a>>>21|128:a>>>21&127;case 7:this.view[n+6]=7!==r?a>>>14|128:a>>>14&127;case 6:this.view[n+5]=6!==r?a>>>7|128:a>>>7&127;case 5:this.view[n+4]=5!==r?128|a:127&a;case 4:this.view[n+3]=4!==r?s>>>21|128:s>>>21&127;case 3:this.view[n+2]=3!==r?s>>>14|128:s>>>14&127;case 2:this.view[n+1]=2!==r?s>>>7|128:s>>>7&127;case 1:this.view[n]=1!==r?128|s:127&s}return i?(this.offset+=r,this):r},s.writeVarint64ZigZag=function(e,t){return this.writeVarint64(o.zigZagEncode64(e),t)},s.readVarint64=function(t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,t<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=t,r=0,o=0,s=0,a=0;if(a=this.view[t++],r=127&a,128&a&&(a=this.view[t++],r|=(127&a)<<7,(128&a||this.noAssert&&"undefined"==typeof a)&&(a=this.view[t++],r|=(127&a)<<14,(128&a||this.noAssert&&"undefined"==typeof a)&&(a=this.view[t++],r|=(127&a)<<21,(128&a||this.noAssert&&"undefined"==typeof a)&&(a=this.view[t++],o=127&a,(128&a||this.noAssert&&"undefined"==typeof a)&&(a=this.view[t++],o|=(127&a)<<7,(128&a||this.noAssert&&"undefined"==typeof a)&&(a=this.view[t++],o|=(127&a)<<14,(128&a||this.noAssert&&"undefined"==typeof a)&&(a=this.view[t++],o|=(127&a)<<21,(128&a||this.noAssert&&"undefined"==typeof a)&&(a=this.view[t++],s=127&a,(128&a||this.noAssert&&"undefined"==typeof a)&&(a=this.view[t++],s|=(127&a)<<7,128&a||this.noAssert&&"undefined"==typeof a))))))))))throw Error("Buffer overrun");var l=e.fromBits(r|o<<28,o>>>4|s<<24,!1);return n?(this.offset=t,l):{value:l,length:t-i}},s.readVarint64ZigZag=function(t){var n=this.readVarint64(t);return n&&n.value instanceof e?n.value=o.zigZagDecode64(n.value):n=o.zigZagDecode64(n),n}),s.writeCString=function(e,n){var i="undefined"==typeof n;i&&(n=this.offset);var r,o=e.length;if(!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(r=0;r<o;++r)if(0===e.charCodeAt(r))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}o=u.calculateUTF16asUTF8(t(e))[1],n+=o+1;var s=this.buffer.byteLength;return n>s&&this.resize((s*=2)>n?s:n),n-=o+1,u.encodeUTF16toUTF8(t(e),function(e){this.view[n++]=e}.bind(this)),this.view[n++]=0,i?(this.offset=n,this):o},s.readCString=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i,r=e,o=-1;return u.decodeUTF8toUTF16(function(){if(0===o)return null;if(e>=this.limit)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.limit);return o=this.view[e++],0===o?null:o}.bind(this),i=n(),!0),t?(this.offset=e,i()):{string:i(),length:e-r}},s.writeIString=function(e,n){var i="undefined"==typeof n;if(i&&(n=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var r,o=n;r=u.calculateUTF16asUTF8(t(e),this.noAssert)[1],n+=4+r;var s=this.buffer.byteLength;if(n>s&&this.resize((s*=2)>n?s:n),n-=4+r,this.littleEndian?(this.view[n+3]=r>>>24&255,this.view[n+2]=r>>>16&255,this.view[n+1]=r>>>8&255,this.view[n]=255&r):(this.view[n]=r>>>24&255,this.view[n+1]=r>>>16&255,this.view[n+2]=r>>>8&255,this.view[n+3]=255&r),n+=4,u.encodeUTF16toUTF8(t(e),function(e){this.view[n++]=e}.bind(this)),n!==o+4+r)throw RangeError("Illegal range: Truncated data, "+n+" == "+(n+4+r));return i?(this.offset=n,this):n-o},s.readIString=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=e,i=this.readUint32(e),r=this.readUTF8String(i,o.METRICS_BYTES,e+=4);return e+=r.length,t?(this.offset=e,r.string):{string:r.string,length:e-n}},o.METRICS_CHARS="c",o.METRICS_BYTES="b",s.writeUTF8String=function(e,n){var i="undefined"==typeof n;if(i&&(n=this.offset),!this.noAssert){if("number"!=typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var r,o=n;r=u.calculateUTF16asUTF8(t(e))[1],n+=r;var s=this.buffer.byteLength;return n>s&&this.resize((s*=2)>n?s:n),n-=r,u.encodeUTF16toUTF8(t(e),function(e){this.view[n++]=e}.bind(this)),i?(this.offset=n,this):n-o},s.writeString=s.writeUTF8String,o.calculateUTF8Chars=function(e){return u.calculateUTF16asUTF8(t(e))[0]},o.calculateUTF8Bytes=function(e){return u.calculateUTF16asUTF8(t(e))[1]},o.calculateString=o.calculateUTF8Bytes,s.readUTF8String=function(e,t,i){"number"==typeof t&&(i=t,t=void 0);var r="undefined"==typeof i;if(r&&(i=this.offset),"undefined"==typeof t&&(t=o.METRICS_CHARS),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var s,a=0,l=i;if(t===o.METRICS_CHARS){if(s=n(),u.decodeUTF8(function(){return a<e&&i<this.limit?this.view[i++]:null}.bind(this),function(e){++a,u.UTF8toUTF16(e,s)}),a!==e)throw RangeError("Illegal range: Truncated data, "+a+" == "+e);return r?(this.offset=i,s()):{string:s(),length:i-l}}if(t===o.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,i<0||i+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+"+e+") <= "+this.buffer.byteLength)}var c=i+e;if(u.decodeUTF8toUTF16(function(){return i<c?this.view[i++]:null}.bind(this),s=n(),this.noAssert),i!==c)throw RangeError("Illegal range: Truncated data, "+i+" == "+c);return r?(this.offset=i,s()):{string:s(),length:i-l}}throw TypeError("Unsupported metrics: "+t)},s.readString=s.readUTF8String,s.writeVString=function(e,n){var i="undefined"==typeof n;if(i&&(n=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var r,s,a=n;r=u.calculateUTF16asUTF8(t(e),this.noAssert)[1],s=o.calculateVarint32(r),n+=s+r;var l=this.buffer.byteLength;if(n>l&&this.resize((l*=2)>n?l:n),n-=s+r,n+=this.writeVarint32(r,n),u.encodeUTF16toUTF8(t(e),function(e){this.view[n++]=e}.bind(this)),n!==a+r+s)throw RangeError("Illegal range: Truncated data, "+n+" == "+(n+r+s));return i?(this.offset=n,this):n-a},s.readVString=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=e,i=this.readVarint32(e),r=this.readUTF8String(i.value,o.METRICS_BYTES,e+=i.length);return e+=r.length,t?(this.offset=e,r.string):{string:r.string,length:e-n}},s.append=function(e,t,n){"number"!=typeof t&&"string"==typeof t||(n=t,t=void 0);var i="undefined"==typeof n;if(i&&(n=this.offset),!this.noAssert){if("number"!=typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}e instanceof o||(e=o.wrap(e,t));var r=e.limit-e.offset;if(r<=0)return this;n+=r;var s=this.buffer.byteLength;return n>s&&this.resize((s*=2)>n?s:n),n-=r,this.view.set(e.view.subarray(e.offset,e.limit),n),e.offset+=r,i&&(this.offset+=r),this},s.appendTo=function(e,t){return e.append(this,t),this},s.assert=function(e){return this.noAssert=!e,this},s.capacity=function(){return this.buffer.byteLength},s.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},s.clone=function(e){var t=new o(0,this.littleEndian,this.noAssert);return e?(t.buffer=new ArrayBuffer(this.buffer.byteLength),t.view=new Uint8Array(t.buffer)):(t.buffer=this.buffer,t.view=this.view),t.offset=this.offset,t.markedOffset=this.markedOffset,t.limit=this.limit,t},s.compact=function(e,t){if("undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var n=t-e;if(0===n)return this.buffer=a,this.view=null,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=0,this;var i=new ArrayBuffer(n),r=new Uint8Array(i);return r.set(this.view.subarray(e,t)),this.buffer=i,this.view=r,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=n,this},s.copy=function(e,t){if("undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return new o(0,this.littleEndian,this.noAssert);var n=t-e,i=new o(n,this.littleEndian,this.noAssert);return i.offset=0,i.limit=n,i.markedOffset>=0&&(i.markedOffset-=e),this.copyTo(i,0,e,t),i},s.copyTo=function(e,t,n,i){var r,s;if(!this.noAssert&&!o.isByteBuffer(e))throw TypeError("Illegal target: Not a ByteBuffer");if(t=(s="undefined"==typeof t)?e.offset:0|t,n=(r="undefined"==typeof n)?this.offset:0|n,i="undefined"==typeof i?this.limit:0|i,t<0||t>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+t+" <= "+e.buffer.byteLength);if(n<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+n+" <= "+this.buffer.byteLength);var a=i-n;return 0===a?e:(e.ensureCapacity(t+a),e.view.set(this.view.subarray(n,i),t),r&&(this.offset+=a),s&&(e.offset+=a),this)},s.ensureCapacity=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},s.fill=function(e,t,n){var i="undefined"==typeof t;if(i&&(t=this.offset),"string"==typeof e&&e.length>0&&(e=e.charCodeAt(0)),"undefined"==typeof t&&(t=this.offset),"undefined"==typeof n&&(n=this.limit),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof n||n%1!==0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(t>=n)return this;for(;t<n;)this.view[t++]=e;return i&&(this.offset=t),this},s.flip=function(){return this.limit=this.offset,this.offset=0,this},s.mark=function(e){if(e="undefined"==typeof e?this.offset:e,!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,e<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=e,this},s.order=function(e){if(!this.noAssert&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!e,this},s.LE=function(e){return this.littleEndian="undefined"==typeof e||!!e,this},s.BE=function(e){return this.littleEndian="undefined"!=typeof e&&!e,this},s.prepend=function(e,t,n){"number"!=typeof t&&"string"==typeof t||(n=t,t=void 0);var i="undefined"==typeof n;if(i&&(n=this.offset),!this.noAssert){if("number"!=typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,n<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}e instanceof o||(e=o.wrap(e,t));var r=e.limit-e.offset;if(r<=0)return this;var s=r-n;if(s>0){var a=new ArrayBuffer(this.buffer.byteLength+s),l=new Uint8Array(a);l.set(this.view.subarray(n,this.buffer.byteLength),r),this.buffer=a,this.view=l,this.offset+=s,this.markedOffset>=0&&(this.markedOffset+=s),this.limit+=s,n+=s}else{new Uint8Array(this.buffer)}return this.view.set(e.view.subarray(e.offset,e.limit),n-r),e.offset=e.limit,i&&(this.offset-=r),this},s.prependTo=function(e,t){return e.prepend(this,t),this},s.printDebug=function(e){"function"!=typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},s.remaining=function(){return this.limit-this.offset},s.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},s.resize=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if(e|=0,e<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e),n=new Uint8Array(t);n.set(this.view),this.buffer=t,this.view=n}return this},s.reverse=function(e,t){if("undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t?this:(Array.prototype.reverse.call(this.view.subarray(e,t)),this)},s.skip=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.noAssert&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},s.slice=function(e,t){if("undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n=this.clone();return n.offset=e,n.limit=t,n},s.toBuffer=function(e){var t=this.offset,n=this.limit;if(!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!=typeof n||n%1!==0)throw TypeError("Illegal limit: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(!e&&0===t&&n===this.buffer.byteLength)return this.buffer;if(t===n)return a;var i=new ArrayBuffer(n-t);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(t,n),0),i},s.toArrayBuffer=s.toBuffer,s.toString=function(e,t,n){if("undefined"==typeof e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof e&&(e="utf8",t=e,n=t),e){case"utf8":return this.toUTF8(t,n);case"base64":return this.toBase64(t,n);case"hex":return this.toHex(t,n);case"binary":return this.toBinary(t,n);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+e)}};var c=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],n=[],i=0,r=t.length;i<r;++i)n[t[i]]=i;return e.encode=function(e,n){for(var i,r;null!==(i=e());)n(t[i>>2&63]),r=(3&i)<<4,null!==(i=e())?(r|=i>>4&15,n(t[63&(r|i>>4&15)]),r=(15&i)<<2,null!==(i=e())?(n(t[63&(r|i>>6&3)]),n(t[63&i])):(n(t[63&r]),n(61))):(n(t[63&r]),n(61),n(61))},e.decode=function(e,t){function i(e){throw Error("Illegal character code: "+e)}for(var r,o,s;null!==(r=e());)if(o=n[r],"undefined"==typeof o&&i(r),null!==(r=e())&&(s=n[r],"undefined"==typeof s&&i(r),t(o<<2>>>0|(48&s)>>4),null!==(r=e()))){if(o=n[r],"undefined"==typeof o){if(61===r)break;i(r)}if(t((15&s)<<4>>>0|(60&o)>>2),null!==(r=e())){if(s=n[r],"undefined"==typeof s){if(61===r)break;i(r)}t((3&o)<<6>>>0|s)}}},e.test=function(e){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e)},e}();s.toBase64=function(e,t){if("undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit),e=0|e,t=0|t,e<0||t>this.capacity||e>t)throw RangeError("begin, end");var i;return c.encode(function(){return e<t?this.view[e++]:null}.bind(this),i=n()),i()},o.fromBase64=function(e,n){if("string"!=typeof e)throw TypeError("str");var i=new o(e.length/4*3,n),r=0;return c.decode(t(e),function(e){i.view[r++]=e}),i.limit=r,i},o.btoa=function(e){return o.fromBinary(e).toBase64()},o.atob=function(e){return o.fromBase64(e).toBinary()},s.toBinary=function(e,t){if("undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit),e|=0,t|=0,e<0||t>this.capacity()||e>t)throw RangeError("begin, end");if(e===t)return"";for(var n=[],i=[];e<t;)n.push(this.view[e++]),n.length>=1024&&(i.push(String.fromCharCode.apply(String,n)),n=[]);return i.join("")+String.fromCharCode.apply(String,n)},o.fromBinary=function(e,t){if("string"!=typeof e)throw TypeError("str");for(var n,i=0,r=e.length,s=new o(r,t);i<r;){if(n=e.charCodeAt(i),n>255)throw RangeError("illegal char code: "+n);s.view[i++]=n}return s.limit=r,s},s.toDebug=function(e){for(var t,n=-1,i=this.buffer.byteLength,r="",o="",s="";n<i;){if(n!==-1&&(t=this.view[n],r+=t<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(o+=t>32&&t<127?String.fromCharCode(t):".")),++n,e&&n>0&&n%16===0&&n!==i){for(;r.length<51;)r+=" ";s+=r+o+"\n",r=o=""}r+=n===this.offset&&n===this.limit?n===this.markedOffset?"!":"|":n===this.offset?n===this.markedOffset?"[":"<":n===this.limit?n===this.markedOffset?"]":">":n===this.markedOffset?"'":e||0!==n&&n!==i?" ":""}if(e&&" "!==r){for(;r.length<51;)r+=" ";s+=r+o+"\n"}return e?s:r},o.fromDebug=function(e,t,n){for(var i,r,s=e.length,a=new o((s+1)/3|0,t,n),l=0,c=0,u=!1,h=!1,f=!1,d=!1,p=!1;l<s;){switch(i=e.charAt(l++)){case"!":if(!n){if(h||f||d){p=!0;break}h=f=d=!0}a.offset=a.markedOffset=a.limit=c,u=!1;break;case"|":if(!n){if(h||d){p=!0;break}h=d=!0}a.offset=a.limit=c,u=!1;break;case"[":if(!n){if(h||f){p=!0;break}h=f=!0}a.offset=a.markedOffset=c,u=!1;break;case"<":if(!n){if(h){p=!0;break}h=!0}a.offset=c,u=!1;break;case"]":if(!n){if(d||f){p=!0;break}d=f=!0}a.limit=a.markedOffset=c,u=!1;break;case">":if(!n){if(d){p=!0;break}d=!0}a.limit=c,u=!1;break;case"'":if(!n){if(f){p=!0;break}f=!0}a.markedOffset=c,u=!1;break;case" ":u=!1;break;default:if(!n&&u){p=!0;break}if(r=parseInt(i+e.charAt(l++),16),!n&&(isNaN(r)||r<0||r>255))throw TypeError("Illegal str: Not a debug encoded string");a.view[c++]=r,u=!0}if(p)throw TypeError("Illegal str: Invalid symbol at "+l)}if(!n){if(!h||!d)throw TypeError("Illegal str: Missing offset or limit");if(c<a.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+c+" < "+s)}return a},s.toHex=function(e,t){if(e="undefined"==typeof e?this.offset:e,t="undefined"==typeof t?this.limit:t,!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var n,i=new Array(t-e);e<t;)n=this.view[e++],n<16?i.push("0",n.toString(16)):i.push(n.toString(16));return i.join("")},o.fromHex=function(e,t,n){if(!n){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!==0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,r=e.length,s=new o(r/2|0,t),a=0,l=0;a<r;a+=2){if(i=parseInt(e.substring(a,a+2),16),!n&&(!isFinite(i)||i<0||i>255))throw TypeError("Illegal str: Contains non-hex characters");s.view[l++]=i}return s.limit=l,s};var u=function(){var e={};return e.MAX_CODEPOINT=1114111,e.encodeUTF8=function(e,t){var n=null;for("number"==typeof e&&(n=e,e=function(){return null});null!==n||null!==(n=e());)n<128?t(127&n):n<2048?(t(n>>6&31|192),t(63&n|128)):n<65536?(t(n>>12&15|224),t(n>>6&63|128),t(63&n|128)):(t(n>>18&7|240),t(n>>12&63|128),t(n>>6&63|128),t(63&n|128)),n=null},e.decodeUTF8=function(e,t){for(var n,i,r,o,s=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(n=e());)if(0===(128&n))t(n);else if(192===(224&n))null===(i=e())&&s([n,i]),t((31&n)<<6|63&i);else if(224===(240&n))(null===(i=e())||null===(r=e()))&&s([n,i,r]),t((15&n)<<12|(63&i)<<6|63&r);else{if(240!==(248&n))throw RangeError("Illegal starting byte: "+n);(null===(i=e())||null===(r=e())||null===(o=e()))&&s([n,i,r,o]),t((7&n)<<18|(63&i)<<12|(63&r)<<6|63&o)}},e.UTF16toUTF8=function(e,t){for(var n,i=null;;){if(null===(n=null!==i?i:e()))break;n>=55296&&n<=57343&&null!==(i=e())&&i>=56320&&i<=57343?(t(1024*(n-55296)+i-56320+65536),i=null):t(n)}null!==i&&t(i)},e.UTF8toUTF16=function(e,t){var n=null;for("number"==typeof e&&(n=e,e=function(){return null});null!==n||null!==(n=e());)n<=65535?t(n):(n-=65536,t((n>>10)+55296),t(n%1024+56320)),n=null},e.encodeUTF16toUTF8=function(t,n){e.UTF16toUTF8(t,function(t){e.encodeUTF8(t,n)})},e.decodeUTF8toUTF16=function(t,n){e.decodeUTF8(t,function(t){e.UTF8toUTF16(t,n)})},e.calculateCodePoint=function(e){return e<128?1:e<2048?2:e<65536?3:4},e.calculateUTF8=function(e){for(var t,n=0;null!==(t=e());)n+=t<128?1:t<2048?2:t<65536?3:4;return n},e.calculateUTF16asUTF8=function(t){var n=0,i=0;return e.UTF16toUTF8(t,function(e){++n,i+=e<128?1:e<2048?2:e<65536?3:4}),[n,i]},e}();return s.toUTF8=function(e,t){if("undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var i;try{u.decodeUTF8toUTF16(function(){return e<t?this.view[e++]:null}.bind(this),i=n())}catch(r){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return i()},o.fromUTF8=function(e,n,i){if(!i&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var r=new o(u.calculateUTF16asUTF8(t(e),!0)[1],n,i),s=0;return u.encodeUTF16toUTF8(t(e),function(e){r.view[s++]=e}),r.limit=s,r},o})}).call(t,n(82)(e))},function(e,t,n){"use strict";var i=n(86).assign,r=n(87),o=n(95),s=n(99),a={};i(a,r,o,s),e.exports=a},function(e,t){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+i),r);for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,s;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(s=new Uint8Array(i),r=0,t=0,n=e.length;t<n;t++)o=e[t],s.set(o,r),r+=o.length;return s}},r={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,r))},t.setTyped(n)},function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=l.assign({level:_,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var n=a.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==g)throw new Error(u[n]);if(t.header&&a.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"==typeof t.dictionary?c.string2buf(t.dictionary):"[object ArrayBuffer]"===f.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=a.deflateSetDictionary(this.strm,r),n!==g)throw new Error(u[n]);this._dict_set=!0}}function r(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg||u[n.err];return n.result}function o(e,t){return t=t||{},t.raw=!0,r(e,t)}function s(e,t){return t=t||{},t.gzip=!0,r(e,t)}var a=n(88),l=n(86),c=n(93),u=n(92),h=n(94),f=Object.prototype.toString,d=0,p=4,g=0,m=1,v=2,_=-1,b=0,y=8;i.prototype.push=function(e,t){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:t===!0?p:d,"string"==typeof e?r.input=c.string2buf(e):"[object ArrayBuffer]"===f.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new l.Buf8(o),r.next_out=0,r.avail_out=o),n=a.deflate(r,i),n!==m&&n!==g)return this.onEnd(n),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||i!==p&&i!==v)||("string"===this.options.to?this.onData(c.buf2binstring(l.shrinkBuf(r.output,r.next_out))):this.onData(l.shrinkBuf(r.output,r.next_out)));
}while((r.avail_in>0||0===r.avail_out)&&n!==m);return i===p?(n=a.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===g):i!==v||(this.onEnd(g),r.avail_out=0,!0)},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===g&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=i,t.deflate=r,t.deflateRaw=o,t.gzip=s},function(e,t,n){"use strict";function i(e,t){return e.msg=O[t],t}function r(e){return(e<<1)-(e>4?9:0)}function o(e){for(var t=e.length;--t>=0;)e[t]=0}function s(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(P.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function a(e,t){D._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,s(e.strm)}function l(e,t){e.pending_buf[e.pending++]=t}function c(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function u(e,t,n,i){var r=e.avail_in;return r>i&&(r=i),0===r?0:(e.avail_in-=r,P.arraySet(t,e.input,e.next_in,r,n),1===e.state.wrap?e.adler=C(e.adler,t,r,n):2===e.state.wrap&&(e.adler=L(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)}function h(e,t){var n,i,r=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-he?e.strstart-(e.w_size-he):0,c=e.window,u=e.w_mask,h=e.prev,f=e.strstart+ue,d=c[o+s-1],p=c[o+s];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do if(n=t,c[n+s]===p&&c[n+s-1]===d&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do;while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<f);if(i=ue-(f-o),o=f-ue,i>s){if(e.match_start=t,s=i,i>=a)break;d=c[o+s-1],p=c[o+s]}}while((t=h[t&u])>l&&0!==--r);return s<=e.lookahead?s:e.lookahead}function f(e){var t,n,i,r,o,s=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-he)){P.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,n=e.hash_size,t=n;do i=e.head[--t],e.head[t]=i>=s?i-s:0;while(--n);n=s,t=n;do i=e.prev[--t],e.prev[t]=i>=s?i-s:0;while(--n);r+=s}if(0===e.strm.avail_in)break;if(n=u(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=ce)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+ce-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<ce)););}while(e.lookahead<he&&0!==e.strm.avail_in)}function d(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(f(e),0===e.lookahead&&t===N)return ye;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,a(e,!1),0===e.strm.avail_out))return ye;if(e.strstart-e.block_start>=e.w_size-he&&(a(e,!1),0===e.strm.avail_out))return ye}return e.insert=0,t===j?(a(e,!0),0===e.strm.avail_out?xe:Ie):e.strstart>e.block_start&&(a(e,!1),0===e.strm.avail_out)?ye:ye}function p(e,t){for(var n,i;;){if(e.lookahead<he){if(f(e),e.lookahead<he&&t===N)return ye;if(0===e.lookahead)break}if(n=0,e.lookahead>=ce&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-he&&(e.match_length=h(e,n)),e.match_length>=ce)if(i=D._tr_tally(e,e.strstart-e.match_start,e.match_length-ce),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=ce){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=D._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(a(e,!1),0===e.strm.avail_out))return ye}return e.insert=e.strstart<ce-1?e.strstart:ce-1,t===j?(a(e,!0),0===e.strm.avail_out?xe:Ie):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?ye:we}function g(e,t){for(var n,i,r;;){if(e.lookahead<he){if(f(e),e.lookahead<he&&t===N)return ye;if(0===e.lookahead)break}if(n=0,e.lookahead>=ce&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=ce-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-he&&(e.match_length=h(e,n),e.match_length<=5&&(e.strategy===Y||e.match_length===ce&&e.strstart-e.match_start>4096)&&(e.match_length=ce-1)),e.prev_length>=ce&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-ce,i=D._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-ce),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!==--e.prev_length);if(e.match_available=0,e.match_length=ce-1,e.strstart++,i&&(a(e,!1),0===e.strm.avail_out))return ye}else if(e.match_available){if(i=D._tr_tally(e,0,e.window[e.strstart-1]),i&&a(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return ye}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=D._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<ce-1?e.strstart:ce-1,t===j?(a(e,!0),0===e.strm.avail_out?xe:Ie):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?ye:we}function m(e,t){for(var n,i,r,o,s=e.window;;){if(e.lookahead<=ue){if(f(e),e.lookahead<=ue&&t===N)return ye;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=ce&&e.strstart>0&&(r=e.strstart-1,i=s[r],i===s[++r]&&i===s[++r]&&i===s[++r])){o=e.strstart+ue;do;while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o);e.match_length=ue-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=ce?(n=D._tr_tally(e,1,e.match_length-ce),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=D._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(a(e,!1),0===e.strm.avail_out))return ye}return e.insert=0,t===j?(a(e,!0),0===e.strm.avail_out?xe:Ie):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?ye:we}function v(e,t){for(var n;;){if(0===e.lookahead&&(f(e),0===e.lookahead)){if(t===N)return ye;break}if(e.match_length=0,n=D._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(a(e,!1),0===e.strm.avail_out))return ye}return e.insert=0,t===j?(a(e,!0),0===e.strm.avail_out?xe:Ie):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?ye:we}function _(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function b(e){e.window_size=2*e.w_size,o(e.head),e.max_lazy_match=R[e.level].max_lazy,e.good_match=R[e.level].good_length,e.nice_match=R[e.level].nice_length,e.max_chain_length=R[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=ce-1,e.match_available=0,e.ins_h=0}function y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=K,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new P.Buf16(2*ae),this.dyn_dtree=new P.Buf16(2*(2*oe+1)),this.bl_tree=new P.Buf16(2*(2*se+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new P.Buf16(le+1),this.heap=new P.Buf16(2*re+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new P.Buf16(2*re+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Q,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?de:_e,e.adler=2===t.wrap?0:1,t.last_flush=N,D._tr_init(t),U):i(e,H)}function x(e){var t=w(e);return t===U&&b(e.state),t}function I(e,t){return e&&e.state?2!==e.state.wrap?H:(e.state.gzhead=t,U):H}function k(e,t,n,r,o,s){if(!e)return H;var a=1;if(t===q&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),o<1||o>J||n!==K||r<8||r>15||t<0||t>9||s<0||s>Z)return i(e,H);8===r&&(r=9);var l=new y;return e.state=l,l.strm=e,l.wrap=a,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+ce-1)/ce),l.window=new P.Buf8(2*l.w_size),l.head=new P.Buf16(l.hash_size),l.prev=new P.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new P.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=n,x(e)}function E(e,t){return k(e,t,K,ee,te,G)}function S(e,t){var n,a,u,h;if(!e||!e.state||t>B||t<0)return e?i(e,H):H;if(a=e.state,!e.output||!e.input&&0!==e.avail_in||a.status===be&&t!==j)return i(e,0===e.avail_out?W:H);if(a.strm=e,n=a.last_flush,a.last_flush=t,a.status===de)if(2===a.wrap)e.adler=0,l(a,31),l(a,139),l(a,8),a.gzhead?(l(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),l(a,255&a.gzhead.time),l(a,a.gzhead.time>>8&255),l(a,a.gzhead.time>>16&255),l(a,a.gzhead.time>>24&255),l(a,9===a.level?2:a.strategy>=X||a.level<2?4:0),l(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(l(a,255&a.gzhead.extra.length),l(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=L(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=pe):(l(a,0),l(a,0),l(a,0),l(a,0),l(a,0),l(a,9===a.level?2:a.strategy>=X||a.level<2?4:0),l(a,ke),a.status=_e);else{var f=K+(a.w_bits-8<<4)<<8,d=-1;d=a.strategy>=X||a.level<2?0:a.level<6?1:6===a.level?2:3,f|=d<<6,0!==a.strstart&&(f|=fe),f+=31-f%31,a.status=_e,c(a,f),0!==a.strstart&&(c(a,e.adler>>>16),c(a,65535&e.adler)),e.adler=1}if(a.status===pe)if(a.gzhead.extra){for(u=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>u&&(e.adler=L(e.adler,a.pending_buf,a.pending-u,u)),s(e),u=a.pending,a.pending!==a.pending_buf_size));)l(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>u&&(e.adler=L(e.adler,a.pending_buf,a.pending-u,u)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=ge)}else a.status=ge;if(a.status===ge)if(a.gzhead.name){u=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>u&&(e.adler=L(e.adler,a.pending_buf,a.pending-u,u)),s(e),u=a.pending,a.pending===a.pending_buf_size)){h=1;break}h=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,l(a,h)}while(0!==h);a.gzhead.hcrc&&a.pending>u&&(e.adler=L(e.adler,a.pending_buf,a.pending-u,u)),0===h&&(a.gzindex=0,a.status=me)}else a.status=me;if(a.status===me)if(a.gzhead.comment){u=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>u&&(e.adler=L(e.adler,a.pending_buf,a.pending-u,u)),s(e),u=a.pending,a.pending===a.pending_buf_size)){h=1;break}h=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,l(a,h)}while(0!==h);a.gzhead.hcrc&&a.pending>u&&(e.adler=L(e.adler,a.pending_buf,a.pending-u,u)),0===h&&(a.status=ve)}else a.status=ve;if(a.status===ve&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&s(e),a.pending+2<=a.pending_buf_size&&(l(a,255&e.adler),l(a,e.adler>>8&255),e.adler=0,a.status=_e)):a.status=_e),0!==a.pending){if(s(e),0===e.avail_out)return a.last_flush=-1,U}else if(0===e.avail_in&&r(t)<=r(n)&&t!==j)return i(e,W);if(a.status===be&&0!==e.avail_in)return i(e,W);if(0!==e.avail_in||0!==a.lookahead||t!==N&&a.status!==be){var p=a.strategy===X?v(a,t):a.strategy===V?m(a,t):R[a.level].func(a,t);if(p!==xe&&p!==Ie||(a.status=be),p===ye||p===xe)return 0===e.avail_out&&(a.last_flush=-1),U;if(p===we&&(t===z?D._tr_align(a):t!==B&&(D._tr_stored_block(a,0,0,!1),t===$&&(o(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),s(e),0===e.avail_out))return a.last_flush=-1,U}return t!==j?U:a.wrap<=0?M:(2===a.wrap?(l(a,255&e.adler),l(a,e.adler>>8&255),l(a,e.adler>>16&255),l(a,e.adler>>24&255),l(a,255&e.total_in),l(a,e.total_in>>8&255),l(a,e.total_in>>16&255),l(a,e.total_in>>24&255)):(c(a,e.adler>>>16),c(a,65535&e.adler)),s(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?U:M)}function T(e){var t;return e&&e.state?(t=e.state.status,t!==de&&t!==pe&&t!==ge&&t!==me&&t!==ve&&t!==_e&&t!==be?i(e,H):(e.state=null,t===_e?i(e,F):U)):H}function A(e,t){var n,i,r,s,a,l,c,u,h=t.length;if(!e||!e.state)return H;if(n=e.state,s=n.wrap,2===s||1===s&&n.status!==de||n.lookahead)return H;for(1===s&&(e.adler=C(e.adler,t,h,0)),n.wrap=0,h>=n.w_size&&(0===s&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new P.Buf8(n.w_size),P.arraySet(u,t,h-n.w_size,n.w_size,0),t=u,h=n.w_size),a=e.avail_in,l=e.next_in,c=e.input,e.avail_in=h,e.next_in=0,e.input=t,f(n);n.lookahead>=ce;){i=n.strstart,r=n.lookahead-(ce-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+ce-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++;while(--r);n.strstart=i,n.lookahead=ce-1,f(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=ce-1,n.match_available=0,e.next_in=l,e.input=c,e.avail_in=a,n.wrap=s,U}var R,P=n(86),D=n(89),C=n(90),L=n(91),O=n(92),N=0,z=1,$=3,j=4,B=5,U=0,M=1,H=-2,F=-3,W=-5,q=-1,Y=1,X=2,V=3,Z=4,G=0,Q=2,K=8,J=9,ee=15,te=8,ne=29,ie=256,re=ie+1+ne,oe=30,se=19,ae=2*re+1,le=15,ce=3,ue=258,he=ue+ce+1,fe=32,de=42,pe=69,ge=73,me=91,ve=103,_e=113,be=666,ye=1,we=2,xe=3,Ie=4,ke=3;R=[new _(0,0,0,0,d),new _(4,4,8,4,p),new _(4,5,16,8,p),new _(4,6,32,32,p),new _(4,4,16,16,g),new _(8,16,32,32,g),new _(8,16,128,128,g),new _(8,32,128,256,g),new _(32,128,258,1024,g),new _(32,258,258,4096,g)],t.deflateInit=E,t.deflateInit2=k,t.deflateReset=x,t.deflateResetKeep=w,t.deflateSetHeader=I,t.deflate=S,t.deflateEnd=T,t.deflateSetDictionary=A,t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";function i(e){for(var t=e.length;--t>=0;)e[t]=0}function r(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function o(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function s(e){return e<256?le[e]:le[256+(e>>>7)]}function a(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function l(e,t,n){e.bi_valid>Z-n?(e.bi_buf|=t<<e.bi_valid&65535,a(e,e.bi_buf),e.bi_buf=t>>Z-e.bi_valid,e.bi_valid+=n-Z):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function c(e,t,n){l(e,n[2*t],n[2*t+1])}function u(e,t){var n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0);return n>>>1}function h(e){16===e.bi_valid?(a(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function f(e,t){var n,i,r,o,s,a,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(o=0;o<=V;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<X;n++)i=e.heap[n],o=l[2*l[2*i+1]+1]+1,o>p&&(o=p,g++),l[2*i+1]=o,i>c||(e.bl_count[o]++,s=0,i>=d&&(s=f[i-d]),a=l[2*i],e.opt_len+=a*(o+s),h&&(e.static_len+=a*(u[2*i+1]+s)));if(0!==g){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,g-=2}while(g>0);for(o=p;0!==o;o--)for(i=e.bl_count[o];0!==i;)r=e.heap[--n],r>c||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}function d(e,t,n){var i,r,o=new Array(V+1),s=0;for(i=1;i<=V;i++)o[i]=s=s+n[i-1]<<1;for(r=0;r<=t;r++){var a=e[2*r+1];0!==a&&(e[2*r]=u(o[a]++,a))}}function p(){var e,t,n,i,o,s=new Array(V+1);for(n=0,i=0;i<H-1;i++)for(ue[i]=n,e=0;e<1<<te[i];e++)ce[n++]=i;for(ce[n-1]=i,o=0,i=0;i<16;i++)for(he[i]=o,e=0;e<1<<ne[i];e++)le[o++]=i;for(o>>=7;i<q;i++)for(he[i]=o<<7,e=0;e<1<<ne[i]-7;e++)le[256+o++]=i;for(t=0;t<=V;t++)s[t]=0;for(e=0;e<=143;)se[2*e+1]=8,e++,s[8]++;for(;e<=255;)se[2*e+1]=9,e++,s[9]++;for(;e<=279;)se[2*e+1]=7,e++,s[7]++;for(;e<=287;)se[2*e+1]=8,e++,s[8]++;for(d(se,W+1,s),e=0;e<q;e++)ae[2*e+1]=5,ae[2*e]=u(e,5);fe=new r(se,te,F+1,W,V),de=new r(ae,ne,0,q,V),pe=new r(new Array(0),ie,0,Y,G)}function g(e){var t;for(t=0;t<W;t++)e.dyn_ltree[2*t]=0;for(t=0;t<q;t++)e.dyn_dtree[2*t]=0;for(t=0;t<Y;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*Q]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function m(e){e.bi_valid>8?a(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function v(e,t,n,i){m(e),i&&(a(e,n),a(e,~n)),C.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function _(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function b(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&_(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!_(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function y(e,t,n){var i,r,o,a,u=0;if(0!==e.last_lit)do i=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],r=e.pending_buf[e.l_buf+u],u++,0===i?c(e,r,t):(o=ce[r],c(e,o+F+1,t),a=te[o],0!==a&&(r-=ue[o],l(e,r,a)),i--,o=s(i),c(e,o,n),a=ne[o],0!==a&&(i-=he[o],l(e,i,a)));while(u<e.last_lit);c(e,Q,t)}function w(e,t){var n,i,r,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=X,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)r=e.heap[++e.heap_len]=c<2?++c:0,o[2*r]=1,e.depth[r]=0,e.opt_len--,a&&(e.static_len-=s[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)b(e,o,n);r=l;do n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],b(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,b(e,o,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],f(e,t),d(o,c,e.bl_count)}function x(e,t,n){var i,r,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=t[2*(i+1)+1],++a<l&&r===s||(a<c?e.bl_tree[2*r]+=a:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*K]++):a<=10?e.bl_tree[2*J]++:e.bl_tree[2*ee]++,a=0,o=r,0===s?(l=138,c=3):r===s?(l=6,c=3):(l=7,c=4))}function I(e,t,n){var i,r,o=-1,s=t[1],a=0,u=7,h=4;for(0===s&&(u=138,h=3),i=0;i<=n;i++)if(r=s,s=t[2*(i+1)+1],!(++a<u&&r===s)){if(a<h){do c(e,r,e.bl_tree);while(0!==--a)}else 0!==r?(r!==o&&(c(e,r,e.bl_tree),a--),c(e,K,e.bl_tree),l(e,a-3,2)):a<=10?(c(e,J,e.bl_tree),l(e,a-3,3)):(c(e,ee,e.bl_tree),l(e,a-11,7));a=0,o=r,0===s?(u=138,h=3):r===s?(u=6,h=3):(u=7,h=4)}}function k(e){var t;for(x(e,e.dyn_ltree,e.l_desc.max_code),x(e,e.dyn_dtree,e.d_desc.max_code),w(e,e.bl_desc),t=Y-1;t>=3&&0===e.bl_tree[2*re[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function E(e,t,n,i){var r;for(l(e,t-257,5),l(e,n-1,5),l(e,i-4,4),r=0;r<i;r++)l(e,e.bl_tree[2*re[r]+1],3);I(e,e.dyn_ltree,t-1),I(e,e.dyn_dtree,n-1)}function S(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return O;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return N;for(t=32;t<F;t++)if(0!==e.dyn_ltree[2*t])return N;return O}function T(e){ge||(p(),ge=!0),e.l_desc=new o(e.dyn_ltree,fe),e.d_desc=new o(e.dyn_dtree,de),e.bl_desc=new o(e.bl_tree,pe),e.bi_buf=0,e.bi_valid=0,g(e)}function A(e,t,n,i){l(e,($<<1)+(i?1:0),3),v(e,t,n,!0)}function R(e){l(e,j<<1,3),c(e,Q,se),h(e)}function P(e,t,n,i){var r,o,s=0;e.level>0?(e.strm.data_type===z&&(e.strm.data_type=S(e)),w(e,e.l_desc),w(e,e.d_desc),s=k(e),r=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=r&&(r=o)):r=o=n+5,n+4<=r&&t!==-1?A(e,t,n,i):e.strategy===L||o===r?(l(e,(j<<1)+(i?1:0),3),y(e,se,ae)):(l(e,(B<<1)+(i?1:0),3),E(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),y(e,e.dyn_ltree,e.dyn_dtree)),g(e),i&&m(e)}function D(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ce[n]+F+1)]++,e.dyn_dtree[2*s(t)]++),e.last_lit===e.lit_bufsize-1}var C=n(86),L=4,O=0,N=1,z=2,$=0,j=1,B=2,U=3,M=258,H=29,F=256,W=F+1+H,q=30,Y=19,X=2*W+1,V=15,Z=16,G=7,Q=256,K=16,J=17,ee=18,te=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=512,se=new Array(2*(W+2));i(se);var ae=new Array(2*q);i(ae);var le=new Array(oe);i(le);var ce=new Array(M-U+1);i(ce);var ue=new Array(H);i(ue);var he=new Array(q);i(he);var fe,de,pe,ge=!1;t._tr_init=T,t._tr_stored_block=A,t._tr_flush_block=P,t._tr_tally=D,t._tr_align=R},function(e,t){"use strict";function n(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,s=0;0!==n;){s=n>2e3?2e3:n,n-=s;do r=r+t[i++]|0,o=o+r|0;while(--s);r%=65521,o%=65521}return r|o<<16|0}e.exports=n},function(e,t){"use strict";function n(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}function i(e,t,n,i){var o=r,s=i+n;e^=-1;for(var a=i;a<s;a++)e=e>>>8^o[255&(e^t[a])];return e^-1}var r=n();e.exports=i},function(e,t){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";function i(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}var r=n(86),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(a){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){s=!1}for(var l=new r.Buf8(256),c=0;c<256;c++)l[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;l[254]=l[254]=1,t.string2buf=function(e){var t,n,i,o,s,a=e.length,l=0;for(o=0;o<a;o++)n=e.charCodeAt(o),55296===(64512&n)&&o+1<a&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),s=0,o=0;s<l;o++)n=e.charCodeAt(o),55296===(64512&n)&&o+1<a&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},t.buf2binstring=function(e){return i(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,o,s,a=t||e.length,c=new Array(2*a);for(r=0,n=0;n<a;)if(o=e[n++],o<128)c[r++]=o;else if(s=l[o],s>4)c[r++]=65533,n+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&n<a;)o=o<<6|63&e[n++],s--;s>1?c[r++]=65533:o<65536?c[r++]=o:(o-=65536,c[r++]=55296|o>>10&1023,c[r++]=56320|1023&o)}return i(c,r)},t.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0?t:0===n?t:n+l[e[n]]>t?n:t}},function(e,t){"use strict";function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=n},function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var n=s.inflateInit2(this.strm,t.windowBits);if(n!==c.Z_OK)throw new Error(u[n]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function r(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg||u[n.err];return n.result}function o(e,t){return t=t||{},t.raw=!0,r(e,t)}var s=n(96),a=n(86),l=n(93),c=n(99),u=n(92),h=n(94),f=n(100),d=Object.prototype.toString;i.prototype.push=function(e,t){var n,i,r,o,u,h,f=this.strm,p=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;i=t===~~t?t:t===!0?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof e?f.input=l.binstring2buf(e):"[object ArrayBuffer]"===d.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new a.Buf8(p),f.next_out=0,f.avail_out=p),n=s.inflate(f,c.Z_NO_FLUSH),n===c.Z_NEED_DICT&&g&&(h="string"==typeof g?l.string2buf(g):"[object ArrayBuffer]"===d.call(g)?new Uint8Array(g):g,n=s.inflateSetDictionary(this.strm,h)),n===c.Z_BUF_ERROR&&m===!0&&(n=c.Z_OK,m=!1),n!==c.Z_STREAM_END&&n!==c.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==c.Z_STREAM_END&&(0!==f.avail_in||i!==c.Z_FINISH&&i!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(r=l.utf8border(f.output,f.next_out),o=f.next_out-r,u=l.buf2string(f.output,r),f.next_out=o,f.avail_out=p-o,o&&a.arraySet(f.output,f.output,r,o,0),this.onData(u)):this.onData(a.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==c.Z_STREAM_END);return n===c.Z_STREAM_END&&(i=c.Z_FINISH),i===c.Z_FINISH?(n=s.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c.Z_OK):i!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),f.avail_out=0,!0)},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=i,t.inflate=r,t.inflateRaw=o,t.ungzip=r},function(e,t,n){"use strict";function i(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new _.Buf16(320),this.work=new _.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=$,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new _.Buf32(ge),t.distcode=t.distdyn=new _.Buf32(me),t.sane=1,t.back=-1,R):C}function s(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,o(e)):C}function a(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15)?C:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,s(e))):C}function l(e,t){var n,i;return e?(i=new r,e.state=i,i.window=null,n=a(e,t),n!==R&&(e.state=null),n):C}function c(e){return l(e,_e)}function u(e){if(be){var t;for(m=new _.Buf32(512),v=new _.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(x(k,e.lens,0,288,m,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;x(E,e.lens,0,32,v,0,e.work,{bits:5}),be=!1}e.lencode=m,e.lenbits=9,e.distcode=v,e.distbits=5}function h(e,t,n,i){var r,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new _.Buf8(o.wsize)),i>=o.wsize?(_.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),_.arraySet(o.window,t,n-i,r,o.wnext),i-=r,i?(_.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}function f(e,t){var n,r,o,s,a,l,c,f,d,p,g,m,v,ge,me,ve,_e,be,ye,we,xe,Ie,ke,Ee,Se=0,Te=new _.Buf8(4),Ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return C;n=e.state,n.mode===V&&(n.mode=Z),a=e.next_out,o=e.output,c=e.avail_out,s=e.next_in,r=e.input,l=e.avail_in,f=n.hold,d=n.bits,p=l,g=c,Ie=R;e:for(;;)switch(n.mode){case $:if(0===n.wrap){n.mode=Z;break}for(;d<16;){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}if(2&n.wrap&&35615===f){n.check=0,Te[0]=255&f,Te[1]=f>>>8&255,n.check=y(n.check,Te,2,0),f=0,d=0,n.mode=j;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&f)<<8)+(f>>8))%31){e.msg="incorrect header check",n.mode=fe;break}if((15&f)!==z){e.msg="unknown compression method",n.mode=fe;break}if(f>>>=4,d-=4,xe=(15&f)+8,0===n.wbits)n.wbits=xe;else if(xe>n.wbits){e.msg="invalid window size",n.mode=fe;break}n.dmax=1<<xe,e.adler=n.check=1,n.mode=512&f?Y:V,f=0,d=0;break;case j:for(;d<16;){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}if(n.flags=f,(255&n.flags)!==z){e.msg="unknown compression method",n.mode=fe;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=fe;break}n.head&&(n.head.text=f>>8&1),512&n.flags&&(Te[0]=255&f,Te[1]=f>>>8&255,n.check=y(n.check,Te,2,0)),f=0,d=0,n.mode=B;case B:for(;d<32;){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}n.head&&(n.head.time=f),512&n.flags&&(Te[0]=255&f,Te[1]=f>>>8&255,Te[2]=f>>>16&255,Te[3]=f>>>24&255,n.check=y(n.check,Te,4,0)),f=0,d=0,n.mode=U;case U:for(;d<16;){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}n.head&&(n.head.xflags=255&f,n.head.os=f>>8),512&n.flags&&(Te[0]=255&f,Te[1]=f>>>8&255,n.check=y(n.check,Te,2,0)),f=0,d=0,n.mode=M;case M:if(1024&n.flags){for(;d<16;){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}n.length=f,n.head&&(n.head.extra_len=f),512&n.flags&&(Te[0]=255&f,Te[1]=f>>>8&255,n.check=y(n.check,Te,2,0)),f=0,d=0}else n.head&&(n.head.extra=null);n.mode=H;case H:if(1024&n.flags&&(m=n.length,m>l&&(m=l),m&&(n.head&&(xe=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),_.arraySet(n.head.extra,r,s,m,xe)),512&n.flags&&(n.check=y(n.check,r,m,s)),l-=m,s+=m,n.length-=m),n.length))break e;n.length=0,n.mode=F;case F:if(2048&n.flags){if(0===l)break e;m=0;do xe=r[s+m++],n.head&&xe&&n.length<65536&&(n.head.name+=String.fromCharCode(xe));while(xe&&m<l);if(512&n.flags&&(n.check=y(n.check,r,m,s)),l-=m,s+=m,xe)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=W;case W:if(4096&n.flags){if(0===l)break e;m=0;do xe=r[s+m++],n.head&&xe&&n.length<65536&&(n.head.comment+=String.fromCharCode(xe));while(xe&&m<l);if(512&n.flags&&(n.check=y(n.check,r,m,s)),l-=m,s+=m,xe)break e}else n.head&&(n.head.comment=null);n.mode=q;case q:if(512&n.flags){for(;d<16;){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}if(f!==(65535&n.check)){e.msg="header crc mismatch",n.mode=fe;break}f=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=V;break;case Y:for(;d<32;){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}e.adler=n.check=i(f),f=0,d=0,n.mode=X;case X:if(0===n.havedict)return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=l,n.hold=f,n.bits=d,D;e.adler=n.check=1,n.mode=V;case V:if(t===T||t===A)break e;case Z:if(n.last){f>>>=7&d,d-=7&d,n.mode=ce;break}for(;d<3;){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}switch(n.last=1&f,f>>>=1,
d-=1,3&f){case 0:n.mode=G;break;case 1:if(u(n),n.mode=ne,t===A){f>>>=2,d-=2;break e}break;case 2:n.mode=J;break;case 3:e.msg="invalid block type",n.mode=fe}f>>>=2,d-=2;break;case G:for(f>>>=7&d,d-=7&d;d<32;){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}if((65535&f)!==(f>>>16^65535)){e.msg="invalid stored block lengths",n.mode=fe;break}if(n.length=65535&f,f=0,d=0,n.mode=Q,t===A)break e;case Q:n.mode=K;case K:if(m=n.length){if(m>l&&(m=l),m>c&&(m=c),0===m)break e;_.arraySet(o,r,s,m,a),l-=m,s+=m,c-=m,a+=m,n.length-=m;break}n.mode=V;break;case J:for(;d<14;){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}if(n.nlen=(31&f)+257,f>>>=5,d-=5,n.ndist=(31&f)+1,f>>>=5,d-=5,n.ncode=(15&f)+4,f>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=fe;break}n.have=0,n.mode=ee;case ee:for(;n.have<n.ncode;){for(;d<3;){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}n.lens[Ae[n.have++]]=7&f,f>>>=3,d-=3}for(;n.have<19;)n.lens[Ae[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,ke={bits:n.lenbits},Ie=x(I,n.lens,0,19,n.lencode,0,n.work,ke),n.lenbits=ke.bits,Ie){e.msg="invalid code lengths set",n.mode=fe;break}n.have=0,n.mode=te;case te:for(;n.have<n.nlen+n.ndist;){for(;Se=n.lencode[f&(1<<n.lenbits)-1],me=Se>>>24,ve=Se>>>16&255,_e=65535&Se,!(me<=d);){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}if(_e<16)f>>>=me,d-=me,n.lens[n.have++]=_e;else{if(16===_e){for(Ee=me+2;d<Ee;){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}if(f>>>=me,d-=me,0===n.have){e.msg="invalid bit length repeat",n.mode=fe;break}xe=n.lens[n.have-1],m=3+(3&f),f>>>=2,d-=2}else if(17===_e){for(Ee=me+3;d<Ee;){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}f>>>=me,d-=me,xe=0,m=3+(7&f),f>>>=3,d-=3}else{for(Ee=me+7;d<Ee;){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}f>>>=me,d-=me,xe=0,m=11+(127&f),f>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=fe;break}for(;m--;)n.lens[n.have++]=xe}}if(n.mode===fe)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=fe;break}if(n.lenbits=9,ke={bits:n.lenbits},Ie=x(k,n.lens,0,n.nlen,n.lencode,0,n.work,ke),n.lenbits=ke.bits,Ie){e.msg="invalid literal/lengths set",n.mode=fe;break}if(n.distbits=6,n.distcode=n.distdyn,ke={bits:n.distbits},Ie=x(E,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,ke),n.distbits=ke.bits,Ie){e.msg="invalid distances set",n.mode=fe;break}if(n.mode=ne,t===A)break e;case ne:n.mode=ie;case ie:if(l>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=l,n.hold=f,n.bits=d,w(e,g),a=e.next_out,o=e.output,c=e.avail_out,s=e.next_in,r=e.input,l=e.avail_in,f=n.hold,d=n.bits,n.mode===V&&(n.back=-1);break}for(n.back=0;Se=n.lencode[f&(1<<n.lenbits)-1],me=Se>>>24,ve=Se>>>16&255,_e=65535&Se,!(me<=d);){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}if(ve&&0===(240&ve)){for(be=me,ye=ve,we=_e;Se=n.lencode[we+((f&(1<<be+ye)-1)>>be)],me=Se>>>24,ve=Se>>>16&255,_e=65535&Se,!(be+me<=d);){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}f>>>=be,d-=be,n.back+=be}if(f>>>=me,d-=me,n.back+=me,n.length=_e,0===ve){n.mode=le;break}if(32&ve){n.back=-1,n.mode=V;break}if(64&ve){e.msg="invalid literal/length code",n.mode=fe;break}n.extra=15&ve,n.mode=re;case re:if(n.extra){for(Ee=n.extra;d<Ee;){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=oe;case oe:for(;Se=n.distcode[f&(1<<n.distbits)-1],me=Se>>>24,ve=Se>>>16&255,_e=65535&Se,!(me<=d);){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}if(0===(240&ve)){for(be=me,ye=ve,we=_e;Se=n.distcode[we+((f&(1<<be+ye)-1)>>be)],me=Se>>>24,ve=Se>>>16&255,_e=65535&Se,!(be+me<=d);){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}f>>>=be,d-=be,n.back+=be}if(f>>>=me,d-=me,n.back+=me,64&ve){e.msg="invalid distance code",n.mode=fe;break}n.offset=_e,n.extra=15&ve,n.mode=se;case se:if(n.extra){for(Ee=n.extra;d<Ee;){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=fe;break}n.mode=ae;case ae:if(0===c)break e;if(m=g-c,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=fe;break}m>n.wnext?(m-=n.wnext,v=n.wsize-m):v=n.wnext-m,m>n.length&&(m=n.length),ge=n.window}else ge=o,v=a-n.offset,m=n.length;m>c&&(m=c),c-=m,n.length-=m;do o[a++]=ge[v++];while(--m);0===n.length&&(n.mode=ie);break;case le:if(0===c)break e;o[a++]=n.length,c--,n.mode=ie;break;case ce:if(n.wrap){for(;d<32;){if(0===l)break e;l--,f|=r[s++]<<d,d+=8}if(g-=c,e.total_out+=g,n.total+=g,g&&(e.adler=n.check=n.flags?y(n.check,o,g,a-g):b(n.check,o,g,a-g)),g=c,(n.flags?f:i(f))!==n.check){e.msg="incorrect data check",n.mode=fe;break}f=0,d=0}n.mode=ue;case ue:if(n.wrap&&n.flags){for(;d<32;){if(0===l)break e;l--,f+=r[s++]<<d,d+=8}if(f!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=fe;break}f=0,d=0}n.mode=he;case he:Ie=P;break e;case fe:Ie=L;break e;case de:return O;case pe:default:return C}return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=l,n.hold=f,n.bits=d,(n.wsize||g!==e.avail_out&&n.mode<fe&&(n.mode<ce||t!==S))&&h(e,e.output,e.next_out,g-e.avail_out)?(n.mode=de,O):(p-=e.avail_in,g-=e.avail_out,e.total_in+=p,e.total_out+=g,n.total+=g,n.wrap&&g&&(e.adler=n.check=n.flags?y(n.check,o,g,e.next_out-g):b(n.check,o,g,e.next_out-g)),e.data_type=n.bits+(n.last?64:0)+(n.mode===V?128:0)+(n.mode===ne||n.mode===Q?256:0),(0===p&&0===g||t===S)&&Ie===R&&(Ie=N),Ie)}function d(e){if(!e||!e.state)return C;var t=e.state;return t.window&&(t.window=null),e.state=null,R}function p(e,t){var n;return e&&e.state?(n=e.state,0===(2&n.wrap)?C:(n.head=t,t.done=!1,R)):C}function g(e,t){var n,i,r,o=t.length;return e&&e.state?(n=e.state,0!==n.wrap&&n.mode!==X?C:n.mode===X&&(i=1,i=b(i,t,o,0),i!==n.check)?L:(r=h(e,t,o,o))?(n.mode=de,O):(n.havedict=1,R)):C}var m,v,_=n(86),b=n(90),y=n(91),w=n(97),x=n(98),I=0,k=1,E=2,S=4,T=5,A=6,R=0,P=1,D=2,C=-2,L=-3,O=-4,N=-5,z=8,$=1,j=2,B=3,U=4,M=5,H=6,F=7,W=8,q=9,Y=10,X=11,V=12,Z=13,G=14,Q=15,K=16,J=17,ee=18,te=19,ne=20,ie=21,re=22,oe=23,se=24,ae=25,le=26,ce=27,ue=28,he=29,fe=30,de=31,pe=32,ge=852,me=592,ve=15,_e=ve,be=!0;t.inflateReset=s,t.inflateReset2=a,t.inflateResetKeep=o,t.inflateInit=c,t.inflateInit2=l,t.inflate=f,t.inflateEnd=d,t.inflateGetHeader=p,t.inflateSetDictionary=g,t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t){"use strict";var n=30,i=12;e.exports=function(e,t){var r,o,s,a,l,c,u,h,f,d,p,g,m,v,_,b,y,w,x,I,k,E,S,T,A;r=e.state,o=e.next_in,T=e.input,s=o+(e.avail_in-5),a=e.next_out,A=e.output,l=a-(t-e.avail_out),c=a+(e.avail_out-257),u=r.dmax,h=r.wsize,f=r.whave,d=r.wnext,p=r.window,g=r.hold,m=r.bits,v=r.lencode,_=r.distcode,b=(1<<r.lenbits)-1,y=(1<<r.distbits)-1;e:do{m<15&&(g+=T[o++]<<m,m+=8,g+=T[o++]<<m,m+=8),w=v[g&b];t:for(;;){if(x=w>>>24,g>>>=x,m-=x,x=w>>>16&255,0===x)A[a++]=65535&w;else{if(!(16&x)){if(0===(64&x)){w=v[(65535&w)+(g&(1<<x)-1)];continue t}if(32&x){r.mode=i;break e}e.msg="invalid literal/length code",r.mode=n;break e}I=65535&w,x&=15,x&&(m<x&&(g+=T[o++]<<m,m+=8),I+=g&(1<<x)-1,g>>>=x,m-=x),m<15&&(g+=T[o++]<<m,m+=8,g+=T[o++]<<m,m+=8),w=_[g&y];n:for(;;){if(x=w>>>24,g>>>=x,m-=x,x=w>>>16&255,!(16&x)){if(0===(64&x)){w=_[(65535&w)+(g&(1<<x)-1)];continue n}e.msg="invalid distance code",r.mode=n;break e}if(k=65535&w,x&=15,m<x&&(g+=T[o++]<<m,m+=8,m<x&&(g+=T[o++]<<m,m+=8)),k+=g&(1<<x)-1,k>u){e.msg="invalid distance too far back",r.mode=n;break e}if(g>>>=x,m-=x,x=a-l,k>x){if(x=k-x,x>f&&r.sane){e.msg="invalid distance too far back",r.mode=n;break e}if(E=0,S=p,0===d){if(E+=h-x,x<I){I-=x;do A[a++]=p[E++];while(--x);E=a-k,S=A}}else if(d<x){if(E+=h+d-x,x-=d,x<I){I-=x;do A[a++]=p[E++];while(--x);if(E=0,d<I){x=d,I-=x;do A[a++]=p[E++];while(--x);E=a-k,S=A}}}else if(E+=d-x,x<I){I-=x;do A[a++]=p[E++];while(--x);E=a-k,S=A}for(;I>2;)A[a++]=S[E++],A[a++]=S[E++],A[a++]=S[E++],I-=3;I&&(A[a++]=S[E++],I>1&&(A[a++]=S[E++]))}else{E=a-k;do A[a++]=A[E++],A[a++]=A[E++],A[a++]=A[E++],I-=3;while(I>2);I&&(A[a++]=A[E++],I>1&&(A[a++]=A[E++]))}break}}break}}while(o<s&&a<c);I=m>>3,o-=I,m-=I<<3,g&=(1<<m)-1,e.next_in=o,e.next_out=a,e.avail_in=o<s?5+(s-o):5-(o-s),e.avail_out=a<c?257+(c-a):257-(a-c),r.hold=g,r.bits=m}},function(e,t,n){"use strict";var i=n(86),r=15,o=852,s=592,a=0,l=1,c=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,p,g,m,v,_){var b,y,w,x,I,k,E,S,T,A=_.bits,R=0,P=0,D=0,C=0,L=0,O=0,N=0,z=0,$=0,j=0,B=null,U=0,M=new i.Buf16(r+1),H=new i.Buf16(r+1),F=null,W=0;for(R=0;R<=r;R++)M[R]=0;for(P=0;P<p;P++)M[t[n+P]]++;for(L=A,C=r;C>=1&&0===M[C];C--);if(L>C&&(L=C),0===C)return g[m++]=20971520,g[m++]=20971520,_.bits=1,0;for(D=1;D<C&&0===M[D];D++);for(L<D&&(L=D),z=1,R=1;R<=r;R++)if(z<<=1,z-=M[R],z<0)return-1;if(z>0&&(e===a||1!==C))return-1;for(H[1]=0,R=1;R<r;R++)H[R+1]=H[R]+M[R];for(P=0;P<p;P++)0!==t[n+P]&&(v[H[t[n+P]]++]=P);if(e===a?(B=F=v,k=19):e===l?(B=u,U-=257,F=h,W-=257,k=256):(B=f,F=d,k=-1),j=0,P=0,R=D,I=m,O=L,N=0,w=-1,$=1<<L,x=$-1,e===l&&$>o||e===c&&$>s)return 1;for(;;){E=R-N,v[P]<k?(S=0,T=v[P]):v[P]>k?(S=F[W+v[P]],T=B[U+v[P]]):(S=96,T=0),b=1<<R-N,y=1<<O,D=y;do y-=b,g[I+(j>>N)+y]=E<<24|S<<16|T|0;while(0!==y);for(b=1<<R-1;j&b;)b>>=1;if(0!==b?(j&=b-1,j+=b):j=0,P++,0===--M[R]){if(R===C)break;R=t[n+v[P]]}if(R>L&&(j&x)!==w){for(0===N&&(N=L),I+=D,O=R-N,z=1<<O;O+N<C&&(z-=M[O+N],!(z<=0));)O++,z<<=1;if($+=1<<O,e===l&&$>o||e===c&&$>s)return 1;w=j&x,g[w]=L<<24|O<<16|I-m|0}}return 0!==j&&(g[I+j]=R-N<<24|64<<16|0),_.bits=L,0}},function(e,t){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t){"use strict";function n(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=n},function(e,t,n){!function(t){var n=this;e.exports=t(n)}(function(e){"use strict";function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}function n(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}var i="panda-sdk-wukong",r="0.1.1",o=function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}function i(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&i(e.listener)}var r=e.prototype;return r.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){if(!i(n))throw new TypeError("listener must be a function");var r,o=this.getListenersAsObject(e),s="object"==typeof n;for(r in o)o.hasOwnProperty(r)&&t(o[r],n)===-1&&o[r].push(s?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var i,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&(i=t(o[r],n),i!==-1&&o[r].splice(i,1));return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},r.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,i,r,o,s,a=this.getListenersAsObject(e);for(o in a)if(a.hasOwnProperty(o))for(n=a[o].slice(0),r=0;r<n.length;r++)i=n[r],i.once===!0&&this.removeListener(e,i.listener),s=i.listener.apply(this,t||[]),s===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},e}(),s=function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=function(e){for(var t={},n=0,i=e.length;n<i;n++)t[e.charAt(n)]=n;return t}(t),i=String.fromCharCode,r=function(e){var t;return e.length<2?(t=e.charCodeAt(0),t<128?e:t<2048?i(192|t>>>6)+i(128|63&t):i(224|t>>>12&15)+i(128|t>>>6&63)+i(128|63&t)):(t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320),i(240|t>>>18&7)+i(128|t>>>12&63)+i(128|t>>>6&63)+i(128|63&t))},o=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,s=function(e){return e.replace(o,r)},a=function(e){var n=[0,2,1][e.length%3],i=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),r=[t.charAt(i>>>18),t.charAt(i>>>12&63),n>=2?"=":t.charAt(i>>>6&63),n>=1?"=":t.charAt(63&i)];return r.join("")},l=e.btoa?function(t){return e.btoa(t)}:function(e){return e.replace(/[\s\S]{1,3}/g,a)},c=function(e){return l(s(e))},u=function(e,t){return t?c(String(e)).replace(/[+\/]/g,function(e){return"+"===e?"-":"_"}).replace(/\=/g,""):c(String(e))},h=function(e){return u(e,!0)},f=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),d=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return i((n>>>10)+55296)+i((1023&n)+56320);case 3:return i((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return i((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},p=function(e){return e.replace(f,d)},g=function(e){var t=e.length,r=t%4,o=(t>0?n[e.charAt(0)]<<18:0)|(t>1?n[e.charAt(1)]<<12:0)|(t>2?n[e.charAt(2)]<<6:0)|(t>3?n[e.charAt(3)]:0),s=[i(o>>>16),i(o>>>8&255),i(255&o)];return s.length-=[0,0,2,1][r],s.join("")},m=e.atob?function(t){return e.atob(t)}:function(e){return e.replace(/[\s\S]{1,4}/g,g)},v=function(e){return p(m(e))},_=function(e){return v(String(e).replace(/[-_]/g,function(e){return"-"===e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))};return{atob:m,btoa:l,fromBase64:_,toBase64:u,utob:s,encode:u,encodeURI:h,btou:p,decode:_}}(),a=e.document,l=e.Buffer,c=e.ArrayBuffer,u=0,h=function(e){var n;e=e||{},this.options={};for(n in this.defaultOptions)this.options[n]=this.defaultOptions[n];for(n in e)this.options[n]=e[n];this.options.listeners&&this.addListeners(this.options.listeners),this.cdid=t(),this.id="wukong_ws_"+ ++u,this._tryRequestAddrCount=0,this._tryConnectSocketCount=0,this._addrExpires=0,this._handshaked=!1,this.connected=!1,this._log("Use ["+i+"-v"+r+"]"),this._connectWukong()};return n(h,o),h.prototype.version=r,h.prototype.ve=1,h.prototype.op={heartbeat:1,heartbeatack:2,binduser:3,binduserack:4,payload:7},h.prototype.lens={ve:1,op:1,dl:4,noop:4},h.prototype.defaultOptions={app:1,debug:2,caller:i,infoUrl:"https://wukong.gate.panda.tv/getinfo",wsProtocal:"wss:",heartbeatInterval:3e4,reconnectInterval:1e3,maxReconnectInterval:1e4},h.prototype._connectWukong=function(){var e=this;clearTimeout(this._tryConnectWukongTimer),this._tryRequestAddrCount>10||this._requestWukongAddr(function(t,n){t?(e._warn(t.toString()),e._retryRequestAddr()):(e._addrData=n,e._addrList=n.addrs,e._addrExpires=(new Date).getTime()+3e4,e._processWukongAddr())})},h.prototype._processWukongAddr=function(){this._addrList&&this._addrList.length>0?(this._currAddr=this._addrList.shift(),this._initSocket()):this._retryRequestAddr()},h.prototype._retryRequestAddr=function(){var e=this;if(this._tryRequestAddrCount<10){++this._tryRequestAddrCount;var t=Math.ceil(6*Math.random()+4);this._warn(t+"秒后重新获取 wukong ip address"),this._tryConnectWukongTimer=setTimeout(function(){e._connectWukong()},1e3*t)}else this._warn("超过最大重试次数，停止重试"),this.close(),this.trigger("fatalerror")},h.prototype._requestWukongAddr=function(e){var t=this,n=0,i=function(){clearTimeout(t._tryRequestTimer),t._tryRequestTimer=null;var r="app="+encodeURIComponent(t.options.app)+"&cdid="+t.cdid+"&_caller="+encodeURIComponent(t.options.caller)+"&protocol=ws&_="+(new Date).getTime(),o=t.options.infoUrl+"?"+r;t._ajax({url:o,success:function(n,i){var s;try{s=JSON.parse(n)}catch(a){return e(new Error("wukong api '/getinfo', parse response body error: "+a.toString()))}0===s.errno?(s=s.data,t._log("wukong api '/getinfo', 响应数据："+n),e(null,s)):402===s.errno?(t._log("wukong api '/getinfo', 用户未登录, 响应数据："+n),t.close()):(e(new Error("wukong api '/getinfo', 响应数据异常："+n)),t._report({id:"2",code:i,err_code:s.errno,request:o,params:r,error:s.errmsg}))},error:function(s,a){n<3?(n++,t._warn("3秒后重新请求 '/getinfo'"),t._tryRequestTimer=setTimeout(i,3e3)):e(new Error("wukong api '/getinfo' 请求失败，重试次数："+n)),t._report({id:"2",code:a,err_code:"",request:o,params:r,error:s})}})};i()},h.prototype._initSocket=function(){var e=this;this.socket=new WebSocket(this.options.wsProtocal+"//"+this._currAddr),this.socket.onopen=function(){e.connected=!0,e._tryRequestAddrCount=0,e._log("打开连接 wukong websocket ["+e._currAddr+"]"),e._bindUser(),e._initHeartbeat(),e.trigger("open")},this.socket.onmessage=function(t){e._processMessage(t.data,function(t){e.trigger("message",[t.data])})},this.socket.onclose=function(){if(clearTimeout(e._reconnectSocketTimer),e._reconnectSocketTimer=null,e._clearHeartbeat(),e.socket.onopen=e.socket.onmessage=e.socket.onclose=null,e.socket=null,e.connected=!1,e._forceClose)e._log("连接关闭 wukong websocket closed"),e._forceClose=!1,e._tryConnectSocketCount=0,e._addrList=null,e._addrExpires=0,e.trigger("close");else if(e._forceClose=!1,e._addrExpires>(new Date).getTime()&&e._tryConnectSocketCount<5){++e._tryConnectSocketCount;var t=e.options.reconnectInterval*e._tryConnectSocketCount+1;t=t>e.options.maxReconnectInterval?e.options.maxReconnectInterval:t,e._warn(Math.round(t/1e3)+"秒后重新连接 ["+e._currAddr+"] try count:"+e._tryConnectSocketCount),e._reconnectSocketTimer=setTimeout(function(){e._initSocket()},t)}else e._tryConnectSocketCount=0,e._addrList=null,e._addrExpires=0,e._processWukongAddr()},this.socket.onerror=function(){e.socket.onopen=e.socket.onmessage=null,e._warn("连接发生错误 wukong websocket ["+e._currAddr+"]"),e.connected?e._report({id:"104",host:e._currAddr}):e._report({id:"101",host:e._currAddr}),e.trigger("error")}},h.prototype._bindUser=function(){var t=e.PANDA_MONITOR?e.PANDA_MONITOR.util.getPlatform():"",n=a.cookie.match(/pdft=(\w+)/),i="app:"+this.options.app+"\nrid:"+this._addrData.rid+"\ncdid:"+this._addrData.cdid+"\nauthtype:"+this._addrData.authtype+"\nts:"+this._addrData.ts+"\nsign:"+this._addrData.sign+"\nheartbeat:"+this.options.heartbeatInterval+"\naccept:json\npdft:"+(n&&n[1]?n[1]:"")+"\nplat:jssdk"+(t?"_"+t:"")+"\nnetwork:unknown\nversion:"+this.version;this._lastBindUser=i;var r=new dcodeIO.ByteBuffer;r.writeInt8(this.ve).writeInt8(this.op.binduser).writeInt32(i.length).writeInt32(0).writeUTF8String(i).flip(),this.socket.send(r.toBuffer()),this._log("bind user ["+i.replace(/\n/g," ")+"]")},h.prototype._initHeartbeat=function(){var e=this;clearInterval(this._heartbeatTimer),this._heartbeatTimer=setInterval(function(){e._heartbeatTimeout=setTimeout(function(){e._report({id:"105",host:e._currAddr})},6e4);var t=new dcodeIO.ByteBuffer;t.writeInt8(e.ve).writeInt8(e.op.heartbeat).writeInt64(0).flip(),e.socket.send(t.toBuffer())},this.options.heartbeatInterval)},h.prototype._clearHeartbeat=function(){clearTimeout(this._heartbeatTimeout),clearInterval(this._heartbeatTimer),this._heartbeatTimer=this._heartbeatTimeout=null},h.prototype._processMessage=function(e,t){var n=this;try{if(l&&e instanceof l||c&&e instanceof c)this._readMessage(e,t);else{var i=new FileReader;i.onload=function(){try{n._readMessage(i.result,t)}catch(e){n._error("解析 socket 消息失败：",e)}},i.readAsArrayBuffer(e)}}catch(r){this._error("解析 socket 消息失败：",r)}},h.prototype._readMessage=function(e,t){var n,i,r=0,o=new dcodeIO.ByteBuffer;if(o.append(e,"binary").flip(),n=o.readInt8(r),this.ve!==n)throw new Error("Wrong value of ve: "+n);if(r+=this.lens.ve,i=o.readInt8(r),r+=this.lens.op,i===this.op.binduserack)this._readBindUserAck(o,i,r);else if(i===this.op.heartbeatack)clearTimeout(this._heartbeatTimeout);else{if(i!==this.op.payload)throw new Error("Wrong value of op: "+i);this._handshaked&&this._readMessageBody(o,i,r,t)}},h.prototype._readBindUserAck=function(e,t,n){var i=e.readInt32(n);if(n+this.lens.dl+this.lens.noop+i!==e.limit)throw new Error("Out of limit, read binduser ack offset is "+(n+this.lens.dl+this.lens.noop+i)+", buffer limit is "+e.limit);n+=this.lens.dl+this.lens.noop;var r=e.readUTF8String(i,dcodeIO.ByteBuffer.METRICS_BYTES,n).string;r=r.split("\n");for(var o={},s=0;s<r.length;s++)if(r[s]){var a=r[s].split(":");o[a[0]]=a[1]}if("0"!==o.r)return this._warn("bind user failed! error code: "+(o.r||"-1")+",","currAddr ["+this._currAddr+"]","data ["+(this._lastBindUser||"").replace(/\n/g," ")+"]"),this._report({id:"102",host:this._currAddr,params:this._lastBindUser,error:o.r||"-1"});this._handshaked=!0;var l=(this._lastBindUser||"").replace(/\n/g," ");this._log("bind user succeed!","currAddr ["+this._currAddr+"]","data ["+l+"]")},h.prototype._readMessageBody=function(e,t,n,i){var r=e.readInt32(n);if(n+this.lens.dl+this.lens.noop+r!==e.limit)throw new Error("Out of limit, read chat message offset is "+(n+this.lens.dl+this.lens.noop+r)+", buffer limit is "+e.limit);n+=this.lens.dl+this.lens.noop;var o=e.readUTF8String(r,dcodeIO.ByteBuffer.METRICS_BYTES,n).string;try{o=JSON.parse(o),o.body&&o.body.body&&(o.body.body=JSON.parse(s.decode(o.body.body))),this._debug("Receive message:",JSON.stringify(o)),i({op:t,data:o})}catch(a){}},h.prototype._clear=function(){this.connected=!1,clearTimeout(this._tryConnectWukongTimer),clearTimeout(this._reconnectSocketTimer),clearTimeout(this._tryRequestTimer),this._clearHeartbeat(),this._tryConnectWukongTimer=this._reconnectSocketTimer=null,this._tryRequestTimer=null,this._currAddr=null,this._addrList=null,this._addrExpires=0,this._tryRequestAddrCount=0,this._tryConnectSocketCount=0,this.socket?this.socket.close():(this.socket=null,this._forceClose=!1)},h.prototype.reconnect=function(){this._clear(),this._connectWukong()},h.prototype.close=function(){this._forceClose=!0,this._clear()},h.prototype.getCurrentAddr=function(){return this._currAddr||""},h.prototype._error=function(){var e=[].slice.call(arguments,0);e.unshift("["+this.id+"]"),console&&console.error.apply(console,e)},h.prototype._warn=function(){var e=[].slice.call(arguments,0);e.unshift("["+this.id+"]"),this.options.debug<3&&console&&console.warn.apply(console,e)},h.prototype._log=function(){var e=[].slice.call(arguments,0);e.unshift("["+this.id+"]"),this.options.debug<2&&console&&console.log.apply(console,e)},h.prototype._debug=function(){var e=[].slice.call(arguments,0);e.unshift("["+this.id+"]"),this.options.debug<1&&console&&console.debug.apply(console,e)},h.prototype._ajax=function(e){e=e||{},e.type=e.type||"GET",e.data=e.data||null;var t=new XMLHttpRequest,n=function(){clearTimeout(t.__timeoutTimer),t.__timeoutTimer=null};t.__timeoutTimer=setTimeout(function(){n(),t.abort(),e.error&&e.error("request timeout.",0)},e.timeout||3e4),t.onload=function(){var i=t.status;n(),i>=200&&i<300||304===i?e.success&&e.success(t.responseText,i):e.error&&e.error(i+" error in fetching data.",i)},t.onerror=function(){n(),e.error&&e.error("unknown error",0)},t.open(e.type,e.url,!0),t.withCredentials=!0,t.send(e.data)},h.prototype._report=function(t){var n,o=a.cookie.match(/I=r%3D(\d+)/),s=new Image,l="",c=e.PANDA_MONITOR?e.PANDA_MONITOR.util.getPlatform():"",u={biz:"wukong",type:"error",plat:c||"pc_web",channel:"",model:"jssdk",version:i+"-v"+r,network:"unknown",room:e.PANDA_MONITOR?e.PANDA_MONITOR.util.getRoomId():"",uid:o&&o[1]?o[1]:"",ref:a.referrer,ua:navigator.userAgent};for(n in t)u[n]=t[n];for(n in u)l+="&"+encodeURIComponent(n)+"="+encodeURIComponent(u[n]);l=l.substr(1),s.src="https://dot.gate.panda.tv/report?"+l,s=null},h})},function(e,t,n){var i=n(28);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o,s=null!=t?t:{},a=n.helperMissing,l="function",c=e.escapeExpression;return'<div class="panda-live-notify-item">\n  <a href="'+c((o=null!=(o=n.roomUrl||(null!=t?t.roomUrl:t))?o:a,typeof o===l?o.call(s,{name:"roomUrl",hash:{},data:r}):o))+'" class="panda-live-notify-content" target="_blank"><i></i> <span>直播提醒：</span>'+c((o=null!=(o=n.nickName||(null!=t?t.nickName:t))?o:a,typeof o===l?o.call(s,{name:"nickName",hash:{},data:r}):o))+'开播啦，与TA互动吧！</a>\n  <a href="#" class="panda-live-notify-close"></a>\n</div>'},useData:!0})},function(e,t){!function(e){e(jQuery)}(function(e){function t(e){return a.raw?e:encodeURIComponent(e)}function n(e){return a.raw?e:decodeURIComponent(e)}function i(e){return t(a.json?JSON.stringify(e):String(e))}function r(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(s," ")),a.json?JSON.parse(e):e}catch(t){}}function o(t,n){var i=a.raw?t:r(t);return e.isFunction(n)?n(i):i}var s=/\+/g,a=e.cookie=function(r,s,l){if(arguments.length>1&&!e.isFunction(s)){if(l=e.extend({},a.defaults,l),"number"==typeof l.expires){var c=l.expires,u=l.expires=new Date;u.setMilliseconds(u.getMilliseconds()+864e5*c)}return document.cookie=[t(r),"=",i(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var h=r?void 0:{},f=document.cookie?document.cookie.split("; "):[],d=0,p=f.length;d<p;d++){var g=f[d].split("="),m=n(g.shift()),v=g.join("=");if(r===m){h=o(v,s);break}r||void 0===(v=o(v))||(h[m]=v)}return h};a.defaults={},e.removeCookie=function(t,n){return e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t)}})},function(e,t,n){"use strict";function i(){v=b.get(),v["zoomtips-nolonger-show"]||!r()||$("html").hasClass("ie8")||p()||g()||(a(),o())}function r(){var e=!0;return $.each(E,function(){if(window.location.href.match(this))return e=!1,!1}),e}function o(){$(window).resize(s)}function s(){v=b.get(),v["zoomtips-nolonger-show"]||a()}function a(){_=$(".zoom-tips-wrap");var e=m();h(e),_.length>0&&!_.hasClass("zoom-tips-out")&&100!=e||(100!=e?(0==_.length&&l(),c()):u())}function l(){$("body").append(y()),_=$(".zoom-tips-wrap"),$(".zoom-tips-btn").on("click",f),$(".zoom-tips-close").on("click",d)}function c(){_.removeClass("zoom-tips-out").addClass("zoom-tips-in"),_.stop(!0,!0),_.animate({right:"3px"},w)}function u(){if(!_.hasClass("zoom-tips-out")){_.removeClass("zoom-tips-in").addClass("zoom-tips-out"),_.stop(!0,!0);var e=_.width()+30;_.animate({right:-e+"px"},w)}}function h(e){var t,n;e<x?(t=parseInt(I*(x/e)),n=parseInt(k*(x/e)),_.css({width:t,height:n})):(t=parseInt(I*x/e),n=parseInt(k*x/e),_.css({width:t,height:n}))}function f(){b.set("zoomtips-nolonger-show",!0),_.hasClass("zoom-tips-out")||u()}function d(){u()}function p(){return navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Chrome")<1}function g(){return navigator.userAgent.indexOf("Mac OS X")!=-1}function m(){var e=window.screen;return void 0!=window.devicePixelRatio?Math.round(100*window.devicePixelRatio):e.deviceXDPI&&e.logicalXDPI?Math.round(e.deviceXDPI/e.logicalXDPI*100):void 0}var v,_,b=n(105),y=n(108),w=1200,x=100,I=370,k=125,E=["sidebarframe","roomframe","news"];i()},function(e,t,n){"user strict";function i(e){return e=e||[],e=$(e).filter(function(e,t){return!($.inArray(t,f)>-1)}).toArray(),0===e.length?$.when($.extend({},a)):c.getUserSetting({keys:e.join(",")}).done(function(e){var t;if(e)for(t in e)e.hasOwnProperty(t)&&(a[t]=e[t],f.push(t));return u.set(h,JSON.stringify(a)),$.extend({},a)})}function r(e,t,n){var i=a[e];a[e]=t,u.set(h,JSON.stringify(a)),l.triggerEvent("user-setting-changed",{key:e,oldValue:i,newValue:t}),n&&s(e,t)}function o(e){return e?a[e]:$.extend({},a)}function s(e,t){return c.saveUserSetting({key:e,val:t})}n(106);var a,l=n(13),c=n(107),u=window.LS,h="panda.tv/user/setting",f=[];try{a=u.get(h),a=a?JSON.parse(a):{}}catch(d){a={}}e.exports={init:i,set:r,get:o}},function(e,t){!function(e){var t,n=function(){},i=e.document,r={set:n,get:n,remove:n,clear:n,each:n,obj:n,length:0};!function(){if("localStorage"in e)try{return void(t=e.localStorage)}catch(n){}var r,o,s=i.getElementsByTagName("head")[0],a=e.location.hostname||"localStorage",l=new Date;if(s.addBehavior){try{o=new ActiveXObject("htmlfile"),o.open(),o.write('<script>document.w=window;</script><iframe src="//www.panda.tv/favicon.ico"></iframe>'),o.close(),r=o.w.frames[0].document,s=r.createElement("head"),r.appendChild(s)}catch(n){s=i.getElementsByTagName("head")[0]}try{l.setDate(l.getDate()+36500),s.addBehavior("#default#userData"),s.expires=l.toUTCString(),s.load(a),s.save(a)}catch(n){return}var c,u;try{c=s.XMLDocument.documentElement,u=c.attributes}catch(n){return}var h="p__hack_",f="m-_-c",d=new RegExp("^"+h),p=new RegExp(f,"g"),g=function(e){return encodeURIComponent(h+e).replace(/%/g,f)},m=function(e){return decodeURIComponent(e.replace(p,"%")).replace(d,"")};t={length:u.length,isVirtualObject:!0,getItem:function(e){return(u.getNamedItem(g(e))||{nodeValue:null}).nodeValue||c.getAttribute(g(e))},setItem:function(e,t){try{c.setAttribute(g(e),t),s.save(a),this.length=u.length}catch(n){}},removeItem:function(e){try{c.removeAttribute(g(e)),s.save(a),this.length=u.length}catch(t){}},clear:function(){for(;u.length;)this.removeItem(u[0].nodeName);this.length=0},key:function(e){return u[e]?m(u[e].nodeName):void 0}},"localStorage"in e||(e.localStorage=t)}else try{t=e.localStorage}catch(n){t=null}}(),e.LS=t?{set:function(e,n){void 0!==this.get(e)&&this.remove(e),t.setItem(e,n),this.length=t.length},get:function(e){var n=t.getItem(e);return null===n?void 0:n},remove:function(e){t.removeItem(e),this.length=t.length},clear:function(){t.clear(),this.length=0},each:function(e){var t,n=this.obj(),i=e||function(){};for(t in n)if(i.call(this,t,this.get(t))===!1)break},obj:function(){var e,n,i={},r=0;if(t.isVirtualObject)i=t.key(-1);else for(e=t.length;r<e;r++)n=t.key(r),i[n]=this.get(n);return i},length:t.length}:r,e.jQuery&&(e.jQuery.LS=e.LS)}(window)},function(e,t){"use strict";function n(e){var t=$.Deferred();return PDR.ajax("/ajax_mget_uconfig",{data:e,dataType:"json",cache:!1,timeout:5e3}).done(function(e){e&&0==e.errno&&e.data?t.resolve(e.data):t.resolve(null)}).fail(function(){t.resolve(null)}),t.promise()}function i(e){var t=$.Deferred();return PDR.ajax("/ajax_set_uconfig",{data:e,cache:!1,dataType:"json"}).done(function(e){e&&0==e.errno&&e.data?t.resolve(e.data):t.reject(null)}).fail(function(){t.reject(null)}),t.promise()}e.exports={getUserSetting:n,saveUserSetting:i}},function(e,t,n){
var i=n(28);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="zoom-tips-wrap">\n  <div class="zoom-tips-close"></div>\n  <div class="zoom-tips-btn"></div>\n</div>'},useData:!0})},function(e,t,n){"use strict";function i(){try{window.top.location.reload()}catch(e){window.top.location.href=window.top.location.href}}function r(e){y.selfInfoInterface.getSelfInfo().done(function(t){if(t.rid>0){if(b.get("user_thirdlogin_first_modify_name_"+t.rid))return!1;b.set("user_thirdlogin_first_modify_name_"+t.rid,!0),d=$.extend({},w,e);var n=d.contentTpl||m;u=$(p.render(d).el),u.find(".ruc-dialog-content").html(n()),o()}})}function o(){u.on("click",".enter-active-btn",a),u.on("blur",".ruc-modify-nickname-val",s)}function s(e){var t=$(e.target)[0].value,n=_.checkNickname(t);f=u.find(".ruc-modify-nickname-enter"),h=u.find(".ruc-error-tips"),n.then(function(){h.html(""),f.addClass("enter-active-btn")}).fail(function(e){var t=e.errmsg;h.html(t).addClass("error")})}function a(){var e,t=u.find(".ruc-modify-nickname-val").val();return t?(e=_.checkNickname(t),void e.then(function(){y.selfInfoInterface.setUserInfo({nickname:t}).done(function(e){u.hide(),l(t)}).fail(function(e){c(e)})}).fail(function(e){var t=e.errmsg;h.html(t).addClass("error"),f.removeClass("enter-active-btn")})):void c("昵称为空，请输入昵称")}function l(e){y.selfInfoInterface.updateSelfInfo(),g.triggerEvent("user-info-nickname-updated",e)}function c(e){h.html(e).addClass("error")}var u,h,f,d,p=Ruc.dialog,g=n(13),m=n(110),v=n(111),_=Ruc.utils,b=n(105),y=n(3),w={type:"modify",modifyFunc:i,showType:"modify",tpl:v};e.exports={init:r}},function(e,t,n){var i=n(28);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="ruc-modify-nickname">\n  <h3 class="ruc-modify-nickname-title">填写昵称</h3>\n  <span class="ruc-modify-nickname-tips">该昵称一旦确定，不能修改</span>\n  <input type="text" class="ruc-modify-nickname-val">\n  <span class="ruc-error-tips"></span>\n  <div class="ruc-modify-nickname-enter">进入熊猫</div>\n</div>\n'},useData:!0})},function(e,t,n){var i=n(28);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o;return'<div class="ruc-dialog-wrap '+e.escapeExpression((o=null!=(o=n.type||(null!=t?t.type:t))?o:n.helperMissing,"function"==typeof o?o.call(null!=t?t:{},{name:"type",hash:{},data:r}):o))+'">\n    <div class="ruc-dialog-header">\n      <div class="ruc-dialog-close"><a href="javascript:;"></a></div>\n    </div>\n    <div class="ruc-dialog-content">\n    </div>\n</div>\n'},useData:!0})},function(e,t,n){"use strict";function i(e){switch(o=$.extend({},{verifyType:l.verifyType},e),o.verifyType){case"geetest":c=a;break;case"ali":c=s;break;default:c=s}return r()}function r(){return c.init(o)}var o,s=n(113),a=n(115),l=n(78),c={};e.exports={init:i}},function(e,t,n){"use strict";function i(e){return h.clearData(),o=$("#aliverificate-wrapper"),$.when(u.aliSource(e))}var r,o,s=n(53),a=null,l=null,c=n(114),u={aliSource:function(e){var t=this;return l={appkey:"FFFF0000000001676215",scene:"activity"},l=$.extend({},l,e),r=$.Deferred(),window.noCaptcha?t._initNc():(t._loadCssSource(),$.getScript(PDR.getProtocol()+"//g.alicdn.com/sd/ncpc/nc.js?t="+(new Date).getTime()).done(t._initNc).fail(function(){t.showFailMsg("验证码加载错误"),r.reject()})),r.promise()},_loadCssSource:function(){var e="//g.alicdn.com/sd/ncpc/nc.css?t="+(new Date).getTime(),t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)},_initNc:function(){var e=u;e._initVerificate(),e._aliNc(l).then(function(e){r.resolve(e)}).fail(function(){r.reject()})},_initVerificate:function(){a=s.popup(c(),{confirm:{cancelButton:".aliverificate-close-btn"},customContainerClassName:"main-aliverificate-container",customPosition:l?l.customDialogPosition:null}),a.closeSignal.addOnce(function(){r&&r.reject({type:"close"})})},_aliNc:function(){var e=this,t=$.Deferred(),n=l.appkey,i=l.scene,r=[n,(new Date).getTime(),Math.random()].join(":"),o={renderTo:"#aliverificate-content",appkey:n,scene:i,token:r,callback:function(o){o=$.extend({},o,{nc_appkey:n,nc_scene:i,nc_token:r}),h.getVerifyData(o).then(function(e){t.resolve(e),a&&a.close()}).fail(function(n){e.showFailMsg("验证码验证失败!请重试"),t.reject()})}};new noCaptcha(o);return t.promise()},showFailMsg:function(e){s.popup(e,{delayClose:1500})}},h={getVerifyData:function(e){var t=$.Deferred();return $.ajax("https://verify.panda.tv/verify/check",{data:{params:"csessionid->"+e.csessionid+",token->"+e.nc_token+",sig->"+e.sig+",scene->"+e.nc_scene,ctype:"aliyun",app:"panda",plat:PDR.__plat},dataType:"jsonp",jsonp:"callback"}).then(function(e){if(e&&0==e.errno){var n=$.extend({},e.data,{verifyType:"ali"});t.resolve(n)}else t.reject()}).fail(function(){t.reject()}),t.promise()},clearData:function(){l=null}};e.exports={init:i}},function(e,t,n){var i=n(28);e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return'    <i></i>\n    <div class="aliverificate-header">\n      <div>基于对你当前操作环境的检测</div>\n      <span>请完成以下操作</span>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o;return'<a class="aliverificate-close-btn" href="javascript:;"></a>\n<div id="aliverificate-wrapper">\n  <div class="aliverificate-container">\n'+(null!=(o=n["if"].call(null!=t?t:{},null!=t?t.ruc:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?o:"")+'    <div id="aliverificate-content"></div>\n  </div>\n</div>\n<div id="_umfp" style="display:inline;width:1px;height:1px;overflow:hidden"></div>\n'},useData:!0})},function(e,t,n){"use strict";function i(e){return f(),d=$.Deferred(),_=e,r(),s(),d.promise()}function r(){window.Geetest||$.getScript("https://api.geetest.com/get.php?callback=geetestSdkReadyHandler").fail(o)}function o(){$.getScript("https://static.geetest.com/static/js/geetest.5.5.42.js").done(a)}function s(){b?b.abort():b=$.ajax({url:"//verify.panda.tv/captcha/get?app=pandatv",dataType:"json",data:{_:$.now()}}).done(function(e){0==e.errno&&e.data?(v=e.data,a()):h("验证码加载失败，请刷新页面重试！")}).fail(function(){h("验证码加载失败，请刷新页面重试！")}).always(function(){b=null})}function a(){window.Geetest&&v&&l(v)}function l(e){var t="#geetest-content",n="embed";_&&_.container?(t=_.container,n="float"):c();var i=new window.Geetest({gt:e.gt,challenge:e.challenge,product:n,offline:0==e.success});i.appendTo(t),i.onReady(function(){$(".geetest-font").hide()}),i.onSuccess(function(){$.when(i.getValidate()).then(function(e){u(e),i.disable()})})}function c(){g=p.popup(m(),{confirm:{cancelButton:".geetest-close-btn"},customContainerClassName:"main-geetest-container",customPosition:_?_.customDialogPosition:null}),g.closeSignal.addOnce(function(){d&&d.reject({type:"close"})})}function u(e){$.ajax({url:"//verify.panda.tv/captcha/verifyCode",dataType:"json",data:{challenge:e.geetest_challenge,validate:e.geetest_validate,seccode:e.geetest_seccode,app:"pandatv",_:$.now()}}).done(function(e){0==e.errno?setTimeout(function(){d.resolve(e.data),g&&g.close()},1500):(h("验证失败，请稍后再试!"),d.reject())}).fail(function(){h("验证失败，请稍后再试!"),d.reject()})}function h(e){p.popup(e,{delayClose:1500})}function f(){v=null,_=null}var d=null,p=n(53),g=null,m=n(116),v=null,_=null,b=null;window.geetestSdkReadyHandler=function(){a()},e.exports={init:i}},function(e,t,n){var i=n(28);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<a class="geetest-close-btn" href="javascript:;"></a>\n<div id="geetest-container">\n  <div id="geetest-content">\n    <span class="geetest-font">验证码加载中......</span>\n  </div>\n</div>'},useData:!0})},function(e,t,n){"use strict";function i(e){return e=$.extend(a,e),s.check(e),r=o.create(e)}var r=null,o=n(118),s=n(119),a={auto:!0,swf:PDR.getStaticSslUrl("http://s7.pdim.gs/static/55803010f95d258a.swf"),accept:{title:"Images",extensions:"jpg,jpeg,bmp,png",mimeTypes:"image/*"},chunked:!1,fileSizeLimit:5242880,withCredentials:!0};e.exports={init:i}},function(e,t){!function(t,n){var i,r={},o=function(e,t){var n,i,r;if("string"==typeof e)return l(e);for(n=[],i=e.length,r=0;r<i;r++)n.push(l(e[r]));return t.apply(null,n)},s=function(e,t,n){2===arguments.length&&(n=t,t=null),o(t||[],function(){a(e,n,arguments)})},a=function(e,t,n){var i,s={exports:t};"function"==typeof t&&(n.length||(n=[o,s.exports,s]),i=t.apply(null,n),void 0!==i&&(s.exports=i)),r[e]=s.exports},l=function(e){var n=r[e]||t[e];if(!n)throw new Error("`"+e+"` is undefined");return n},c=function(e){var t,n,i,o,s,a;a=function(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)};for(t in r)if(n=e,r.hasOwnProperty(t)){for(i=t.split("/"),s=a(i.pop());o=a(i.shift());)n[o]=n[o]||{},n=n[o];n[s]=r[t]}return e},u=function(e){return t.__dollar=e,c(n(t,s,o))};"object"==typeof e&&"object"==typeof e.exports?e.exports=u():(i=t.WebUploader,t.WebUploader=u(),t.WebUploader.noConflict=function(){t.WebUploader=i})}(window,function(e,t,n){return t("dollar-third",[],function(){var t=e.__dollar||e.jQuery||e.Zepto;if(!t)throw new Error("jQuery or Zepto not found!");return t}),t("dollar",["dollar-third"],function(e){return e}),t("promise-third",["dollar"],function(e){return{Deferred:e.Deferred,when:e.when,isPromise:function(e){return e&&"function"==typeof e.then}}}),t("promise",["promise-third"],function(e){return e}),t("base",["dollar","promise"],function(t,n){function i(e){return function(){return a.apply(e,arguments)}}function r(e,t){return function(){return e.apply(t,arguments)}}function o(e){var t;return Object.create?Object.create(e):(t=function(){},t.prototype=e,new t)}var s=function(){},a=Function.call;return{version:"0.1.5",$:t,Deferred:n.Deferred,isPromise:n.isPromise,when:n.when,browser:function(e){var t={},n=e.match(/WebKit\/([\d.]+)/),i=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),r=e.match(/MSIE\s([\d\.]+)/)||e.match(/(?:trident)(?:.*rv:([\w.]+))?/i),o=e.match(/Firefox\/([\d.]+)/),s=e.match(/Safari\/([\d.]+)/),a=e.match(/OPR\/([\d.]+)/);return n&&(t.webkit=parseFloat(n[1])),i&&(t.chrome=parseFloat(i[1])),r&&(t.ie=parseFloat(r[1])),o&&(t.firefox=parseFloat(o[1])),s&&(t.safari=parseFloat(s[1])),a&&(t.opera=parseFloat(a[1])),t}(navigator.userAgent),os:function(e){var t={},n=e.match(/(?:Android);?[\s\/]+([\d.]+)?/),i=e.match(/(?:iPad|iPod|iPhone).*OS\s([\d_]+)/);return n&&(t.android=parseFloat(n[1])),i&&(t.ios=parseFloat(i[1].replace(/_/g,"."))),t}(navigator.userAgent),inherits:function(e,n,i){var r;return"function"==typeof n?(r=n,n=null):r=n&&n.hasOwnProperty("constructor")?n.constructor:function(){return e.apply(this,arguments)},t.extend(!0,r,e,i||{}),r.__super__=e.prototype,r.prototype=o(e.prototype),n&&t.extend(!0,r.prototype,n),r},noop:s,bindFn:r,log:function(){return e.console?r(console.log,console):s}(),nextTick:function(){return function(e){setTimeout(e,1)}}(),slice:i([].slice),guid:function(){var e=0;return function(t){for(var n=(+new Date).toString(32),i=0;i<5;i++)n+=Math.floor(65535*Math.random()).toString(32);return(t||"wu_")+n+(e++).toString(32)}}(),formatSize:function(e,t,n){var i;for(n=n||["B","K","M","G","TB"];(i=n.shift())&&e>1024;)e/=1024;return("B"===i?e:e.toFixed(t||2))+i}}}),t("mediator",["base"],function(e){function t(e,t,n,i){return o.grep(e,function(e){return e&&(!t||e.e===t)&&(!n||e.cb===n||e.cb._cb===n)&&(!i||e.ctx===i)})}function n(e,t,n){o.each((e||"").split(a),function(e,i){n(i,t)})}function i(e,t){for(var n,i=!1,r=-1,o=e.length;++r<o;)if(n=e[r],n.cb.apply(n.ctx2,t)===!1){i=!0;break}return!i}var r,o=e.$,s=[].slice,a=/\s+/;return r={on:function(e,t,i){var r,o=this;return t?(r=this._events||(this._events=[]),n(e,t,function(e,t){var n={e:e};n.cb=t,n.ctx=i,n.ctx2=i||o,n.id=r.length,r.push(n)}),this):this},once:function(e,t,i){var r=this;return t?(n(e,t,function(e,t){var n=function(){return r.off(e,n),t.apply(i||r,arguments)};n._cb=t,r.on(e,n,i)}),r):r},off:function(e,i,r){var s=this._events;return s?e||i||r?(n(e,i,function(e,n){o.each(t(s,e,n,r),function(){delete s[this.id]})}),this):(this._events=[],this):this},trigger:function(e){var n,r,o;return this._events&&e?(n=s.call(arguments,1),r=t(this._events,e),o=t(this._events,"all"),i(r,n)&&i(o,arguments)):this}},o.extend({installTo:function(e){return o.extend(e,r)}},r)}),t("uploader",["base","mediator"],function(e,t){function n(e){this.options=i.extend(!0,{},n.options,e),this._init(this.options)}var i=e.$;return n.options={},t.installTo(n.prototype),i.each({upload:"start-upload",stop:"stop-upload",getFile:"get-file",getFiles:"get-files",addFile:"add-file",addFiles:"add-file",sort:"sort-files",removeFile:"remove-file",cancelFile:"cancel-file",skipFile:"skip-file",retry:"retry",isInProgress:"is-in-progress",makeThumb:"make-thumb",md5File:"md5-file",getDimension:"get-dimension",addButton:"add-btn",predictRuntimeType:"predict-runtime-type",refresh:"refresh",disable:"disable",enable:"enable",reset:"reset"},function(e,t){n.prototype[e]=function(){return this.request(t,arguments)}}),i.extend(n.prototype,{state:"pending",_init:function(e){var t=this;t.request("init",e,function(){t.state="ready",t.trigger("ready")})},option:function(e,t){var n=this.options;return arguments.length>1?void(i.isPlainObject(t)&&i.isPlainObject(n[e])?i.extend(n[e],t):n[e]=t):e?n[e]:n},getStats:function(){var e=this.request("get-stats");return e?{successNum:e.numOfSuccess,progressNum:e.numOfProgress,cancelNum:e.numOfCancel,invalidNum:e.numOfInvalid,uploadFailNum:e.numOfUploadFailed,queueNum:e.numOfQueue,interruptNum:e.numofInterrupt}:{}},trigger:function(e){var n=[].slice.call(arguments,1),r=this.options,o="on"+e.substring(0,1).toUpperCase()+e.substring(1);return!(t.trigger.apply(this,arguments)===!1||i.isFunction(r[o])&&r[o].apply(this,n)===!1||i.isFunction(this[o])&&this[o].apply(this,n)===!1||t.trigger.apply(t,[this,e].concat(n))===!1)},destroy:function(){this.request("destroy",arguments),this.off()},request:e.noop}),e.create=n.create=function(e){return new n(e)},e.Uploader=n,n}),t("runtime/runtime",["base","mediator"],function(e,t){function n(t){this.options=i.extend({container:document.body},t),this.uid=e.guid("rt_")}var i=e.$,r={},o=function(e){for(var t in e)if(e.hasOwnProperty(t))return t;return null};return i.extend(n.prototype,{getContainer:function(){var e,t,n=this.options;return this._container?this._container:(e=i(n.container||document.body),t=i(document.createElement("div")),t.attr("id","rt_"+this.uid),t.css({position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),e.append(t),e.addClass("webuploader-container"),this._container=t,this._parent=e,t)},init:e.noop,exec:e.noop,destroy:function(){this._container&&this._container.remove(),this._parent&&this._parent.removeClass("webuploader-container"),this.off()}}),n.orders="html5,flash",n.addRuntime=function(e,t){r[e]=t},n.hasRuntime=function(e){return!!(e?r[e]:o(r))},n.create=function(e,t){var s,a;if(t=t||n.orders,i.each(t.split(/\s*,\s*/g),function(){if(r[this])return s=this,!1}),s=s||o(r),!s)throw new Error("Runtime Error");return a=new r[s](e)},t.installTo(n.prototype),n}),t("runtime/client",["base","mediator","runtime/runtime"],function(e,t,n){function i(t,i){var o,s=e.Deferred();this.uid=e.guid("client_"),this.runtimeReady=function(e){return s.done(e)},this.connectRuntime=function(t,a){if(o)throw new Error("already connected!");return s.done(a),"string"==typeof t&&r.get(t)&&(o=r.get(t)),o=o||r.get(null,i),o?(e.$.extend(o.options,t),o.__promise.then(s.resolve),o.__client++):(o=n.create(t,t.runtimeOrder),o.__promise=s.promise(),o.once("ready",s.resolve),o.init(),r.add(o),o.__client=1),i&&(o.__standalone=i),o},this.getRuntime=function(){return o},this.disconnectRuntime=function(){o&&(o.__client--,o.__client<=0&&(r.remove(o),delete o.__promise,o.destroy()),o=null)},this.exec=function(){if(o){var n=e.slice(arguments);return t&&n.unshift(t),o.exec.apply(this,n)}},this.getRuid=function(){return o&&o.uid},this.destroy=function(e){return function(){e&&e.apply(this,arguments),this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()}}(this.destroy)}var r;return r=function(){var e={};return{add:function(t){e[t.uid]=t},get:function(t,n){var i;if(t)return e[t];for(i in e)if(!n||!e[i].__standalone)return e[i];return null},remove:function(t){delete e[t.uid]}}}(),t.installTo(i.prototype),i}),t("lib/dnd",["base","mediator","runtime/client"],function(e,t,n){function i(e){e=this.options=r.extend({},i.options,e),e.container=r(e.container),e.container.length&&n.call(this,"DragAndDrop")}var r=e.$;return i.options={accept:null,disableGlobalDnd:!1},e.inherits(n,{constructor:i,init:function(){var e=this;e.connectRuntime(e.options,function(){e.exec("init"),e.trigger("ready")})}}),t.installTo(i.prototype),i}),t("widgets/widget",["base","uploader"],function(e,t){function n(e){if(!e)return!1;var t=e.length,n=r.type(e);return!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&"string"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e))}function i(e){this.owner=e,this.options=e.options}var r=e.$,o=t.prototype._init,s=t.prototype.destroy,a={},l=[];return r.extend(i.prototype,{init:e.noop,invoke:function(e,t){var n=this.responseMap;return n&&e in n&&n[e]in this&&r.isFunction(this[n[e]])?this[n[e]].apply(this,t):a},request:function(){return this.owner.request.apply(this.owner,arguments)}}),r.extend(t.prototype,{_init:function(){var e=this,t=e._widgets=[],n=e.options.disableWidgets||"";return r.each(l,function(i,r){(!n||!~n.indexOf(r._name))&&t.push(new r(e))}),o.apply(e,arguments)},request:function(t,i,r){var o,s,l,c,u=0,h=this._widgets,f=h&&h.length,d=[],p=[];for(i=n(i)?i:[i];u<f;u++)o=h[u],s=o.invoke(t,i),s!==a&&(e.isPromise(s)?p.push(s):d.push(s));return r||p.length?(l=e.when.apply(e,p),c=l.pipe?"pipe":"then",l[c](function(){var t=e.Deferred(),n=arguments;return 1===n.length&&(n=n[0]),setTimeout(function(){t.resolve(n)},1),t.promise()})[r?c:"done"](r||e.noop)):d[0]},destroy:function(){s.apply(this,arguments),this._widgets=null}}),t.register=i.register=function(t,n){var o,s={init:"init",destroy:"destroy",name:"anonymous"};return 1===arguments.length?(n=t,r.each(n,function(e){return"_"===e[0]||"name"===e?void("name"===e&&(s.name=n.name)):void(s[e.replace(/[A-Z]/g,"-$&").toLowerCase()]=e)})):s=r.extend(s,t),n.responseMap=s,o=e.inherits(i,n),o._name=s.name,l.push(o),o},t.unRegister=i.unRegister=function(e){if(e&&"anonymous"!==e)for(var t=l.length;t--;)l[t]._name===e&&l.splice(t,1)},i}),t("widgets/filednd",["base","uploader","lib/dnd","widgets/widget"],function(e,t,n){var i=e.$;return t.options.dnd="",t.register({name:"dnd",init:function(t){if(t.dnd&&"html5"===this.request("predict-runtime-type")){var r,o=this,s=e.Deferred(),a=i.extend({},{disableGlobalDnd:t.disableGlobalDnd,container:t.dnd,accept:t.accept});return this.dnd=r=new n(a),r.once("ready",s.resolve),r.on("drop",function(e){o.request("add-file",[e])}),r.on("accept",function(e){return o.owner.trigger("dndAccept",e)}),r.init(),s.promise()}},destroy:function(){this.dnd&&this.dnd.destroy()}})}),t("lib/filepaste",["base","mediator","runtime/client"],function(e,t,n){function i(e){e=this.options=r.extend({},e),e.container=r(e.container||document.body),n.call(this,"FilePaste")}var r=e.$;return e.inherits(n,{constructor:i,init:function(){var e=this;e.connectRuntime(e.options,function(){e.exec("init"),e.trigger("ready")})}}),t.installTo(i.prototype),i}),t("widgets/filepaste",["base","uploader","lib/filepaste","widgets/widget"],function(e,t,n){var i=e.$;return t.register({name:"paste",init:function(t){if(t.paste&&"html5"===this.request("predict-runtime-type")){var r,o=this,s=e.Deferred(),a=i.extend({},{container:t.paste,accept:t.accept});return this.paste=r=new n(a),r.once("ready",s.resolve),r.on("paste",function(e){o.owner.request("add-file",[e])}),r.init(),s.promise()}},destroy:function(){this.paste&&this.paste.destroy()}})}),t("lib/blob",["base","runtime/client"],function(e,t){function n(e,n){var i=this;i.source=n,i.ruid=e,this.size=n.size||0,!n.type&&this.ext&&~"jpg,jpeg,png,gif,bmp".indexOf(this.ext)?this.type="image/"+("jpg"===this.ext?"jpeg":this.ext):this.type=n.type||"application/octet-stream",t.call(i,"Blob"),this.uid=n.uid||this.uid,e&&i.connectRuntime(e)}return e.inherits(t,{constructor:n,slice:function(e,t){return this.exec("slice",e,t)},getSource:function(){return this.source}}),n}),t("lib/file",["base","lib/blob"],function(e,t){function n(e,n){var o;this.name=n.name||"untitled"+i++,o=r.exec(n.name)?RegExp.$1.toLowerCase():"",!o&&n.type&&(o=/\/(jpg|jpeg|png|gif|bmp)$/i.exec(n.type)?RegExp.$1.toLowerCase():"",this.name+="."+o),this.ext=o,this.lastModifiedDate=n.lastModifiedDate||(new Date).toLocaleString(),t.apply(this,arguments)}var i=1,r=/\.([^.]+)$/;return e.inherits(t,n)}),t("lib/filepicker",["base","runtime/client","lib/file"],function(t,n,i){function r(e){if(e=this.options=o.extend({},r.options,e),e.container=o(e.id),!e.container.length)throw new Error("按钮指定错误");e.innerHTML=e.innerHTML||e.label||e.container.html()||"",e.button=o(e.button||document.createElement("div")),e.button.html(e.innerHTML),e.container.html(e.button),n.call(this,"FilePicker",!0)}var o=t.$;return r.options={button:null,container:null,label:null,innerHTML:null,multiple:!0,accept:null,name:"file"},t.inherits(n,{constructor:r,init:function(){var n=this,r=n.options,s=r.button;s.addClass("webuploader-pick"),n.on("all",function(e){var t;switch(e){case"mouseenter":s.addClass("webuploader-pick-hover");break;case"mouseleave":s.removeClass("webuploader-pick-hover");break;case"change":t=n.exec("getFiles"),n.trigger("select",o.map(t,function(e){return e=new i(n.getRuid(),e),e._refer=r.container,e}),r.container)}}),n.connectRuntime(r,function(){n.refresh(),n.exec("init",r),n.trigger("ready")}),this._resizeHandler=t.bindFn(this.refresh,this),o(e).on("resize",this._resizeHandler)},refresh:function(){var e=this.getRuntime().getContainer(),t=this.options.button,n=t.outerWidth?t.outerWidth():t.width(),i=t.outerHeight?t.outerHeight():t.height(),r=t.offset();n&&i&&e.css({bottom:"auto",right:"auto",width:n+"px",height:i+"px"}).offset(r)},enable:function(){var e=this.options.button;e.removeClass("webuploader-pick-disable"),this.refresh()},disable:function(){var e=this.options.button;this.getRuntime().getContainer().css({top:"-99999px"}),e.addClass("webuploader-pick-disable")},destroy:function(){var t=this.options.button;o(e).off("resize",this._resizeHandler),t.removeClass("webuploader-pick-disable webuploader-pick-hover webuploader-pick")}}),r}),t("widgets/filepicker",["base","uploader","lib/filepicker","widgets/widget"],function(e,t,n){var i=e.$;return i.extend(t.options,{pick:null,accept:null}),t.register({name:"picker",init:function(e){return this.pickers=[],e.pick&&this.addBtn(e.pick)},refresh:function(){i.each(this.pickers,function(){this.refresh()})},addBtn:function(t){var r=this,o=r.options,s=o.accept,a=[];if(t)return i.isPlainObject(t)||(t={id:t}),i(t.id).each(function(){var l,c,u;u=e.Deferred(),l=i.extend({},t,{accept:i.isPlainObject(s)?[s]:s,swf:o.swf,runtimeOrder:o.runtimeOrder,id:this}),c=new n(l),c.once("ready",u.resolve),c.on("select",function(e){r.owner.request("add-file",[e])}),c.init(),r.pickers.push(c),a.push(u.promise())}),e.when.apply(e,a)},disable:function(){i.each(this.pickers,function(){this.disable()})},enable:function(){i.each(this.pickers,function(){this.enable()})},destroy:function(){i.each(this.pickers,function(){this.destroy()}),this.pickers=null}})}),t("lib/image",["base","runtime/client","lib/blob"],function(e,t,n){function i(e){this.options=r.extend({},i.options,e),t.call(this,"Image"),this.on("load",function(){this._info=this.exec("info"),this._meta=this.exec("meta")})}var r=e.$;return i.options={quality:90,crop:!1,preserveHeaders:!1,allowMagnify:!1},e.inherits(t,{constructor:i,info:function(e){return e?(this._info=e,this):this._info},meta:function(e){return e?(this._meta=e,this):this._meta},loadFromBlob:function(e){var t=this,n=e.getRuid();this.connectRuntime(n,function(){t.exec("init",t.options),t.exec("loadFromBlob",e)})},resize:function(){var t=e.slice(arguments);return this.exec.apply(this,["resize"].concat(t))},crop:function(){var t=e.slice(arguments);return this.exec.apply(this,["crop"].concat(t))},getAsDataUrl:function(e){return this.exec("getAsDataUrl",e)},getAsBlob:function(e){var t=this.exec("getAsBlob",e);return new n(this.getRuid(),t)}}),i}),t("widgets/image",["base","uploader","lib/image","widgets/widget"],function(e,t,n){var i,r=e.$;return i=function(e){var t=0,n=[],i=function(){for(var i;n.length&&t<e;)i=n.shift(),t+=i[0],i[1]()};return function(e,r,o){n.push([r,o]),e.once("destroy",function(){t-=r,setTimeout(i,1)}),setTimeout(i,1)}}(5242880),r.extend(t.options,{thumb:{width:110,height:110,quality:70,allowMagnify:!0,crop:!0,preserveHeaders:!1,type:"image/jpeg"},compress:{width:1600,height:1600,quality:90,allowMagnify:!1,crop:!1,preserveHeaders:!0}}),t.register({name:"image",makeThumb:function(e,t,o,s){var a,l;return e=this.request("get-file",e),e.type.match(/^image/)?(a=r.extend({},this.options.thumb),r.isPlainObject(o)&&(a=r.extend(a,o),o=null),o=o||a.width,s=s||a.height,l=new n(a),l.once("load",function(){e._info=e._info||l.info(),e._meta=e._meta||l.meta(),o<=1&&o>0&&(o=e._info.width*o),s<=1&&s>0&&(s=e._info.height*s),l.resize(o,s)}),l.once("complete",function(){t(!1,l.getAsDataUrl(a.type)),l.destroy()}),l.once("error",function(e){t(e||!0),l.destroy()}),void i(l,e.source.size,function(){e._info&&l.info(e._info),e._meta&&l.meta(e._meta),l.loadFromBlob(e.source)})):void t(!0)},beforeSendFile:function(t){var i,o,s=this.options.compress||this.options.resize,a=s&&s.compressSize||0,l=s&&s.noCompressIfLarger||!1;if(t=this.request("get-file",t),s&&~"image/jpeg,image/jpg".indexOf(t.type)&&!(t.size<a)&&!t._compressed)return s=r.extend({},s),o=e.Deferred(),i=new n(s),o.always(function(){i.destroy(),i=null}),i.once("error",o.reject),i.once("load",function(){var e=s.width,n=s.height;t._info=t._info||i.info(),t._meta=t._meta||i.meta(),e<=1&&e>0&&(e=t._info.width*e),n<=1&&n>0&&(n=t._info.height*n),i.resize(e,n)}),i.once("complete",function(){var e,n;try{e=i.getAsBlob(s.type),n=t.size,(!l||e.size<n)&&(t.source=e,t.size=e.size,t.trigger("resize",e.size,n)),t._compressed=!0,o.resolve()}catch(r){o.resolve()}}),t._info&&i.info(t._info),t._meta&&i.meta(t._meta),i.loadFromBlob(t.source),o.promise()}})}),t("file",["base","mediator"],function(e,t){function n(){return o+s++}function i(e){this.name=e.name||"Untitled",this.size=e.size||0,this.type=e.type||"application/octet-stream",this.lastModifiedDate=e.lastModifiedDate||1*new Date,this.id=n(),this.ext=a.exec(this.name)?RegExp.$1:"",this.statusText="",l[this.id]=i.Status.INITED,this.source=e,this.loaded=0,this.on("error",function(e){this.setStatus(i.Status.ERROR,e)})}var r=e.$,o="WU_FILE_",s=0,a=/\.([^.]+)$/,l={};return r.extend(i.prototype,{setStatus:function(e,t){var n=l[this.id];"undefined"!=typeof t&&(this.statusText=t),e!==n&&(l[this.id]=e,this.trigger("statuschange",e,n))},getStatus:function(){return l[this.id]},getSource:function(){return this.source},destroy:function(){this.off(),delete l[this.id]}}),t.installTo(i.prototype),i.Status={INITED:"inited",QUEUED:"queued",PROGRESS:"progress",ERROR:"error",COMPLETE:"complete",CANCELLED:"cancelled",INTERRUPT:"interrupt",INVALID:"invalid"},i}),t("queue",["base","mediator","file"],function(e,t,n){function i(){this.stats={numOfQueue:0,numOfSuccess:0,numOfCancel:0,numOfProgress:0,numOfUploadFailed:0,numOfInvalid:0,numofDeleted:0,numofInterrupt:0},this._queue=[],this._map={}}var r=e.$,o=n.Status;return r.extend(i.prototype,{append:function(e){return this._queue.push(e),this._fileAdded(e),this},prepend:function(e){return this._queue.unshift(e),this._fileAdded(e),this},getFile:function(e){return"string"!=typeof e?e:this._map[e]},fetch:function(e){var t,n,i=this._queue.length;for(e=e||o.QUEUED,t=0;t<i;t++)if(n=this._queue[t],e===n.getStatus())return n;return null},sort:function(e){"function"==typeof e&&this._queue.sort(e)},getFiles:function(){for(var e,t=[].slice.call(arguments,0),n=[],i=0,o=this._queue.length;i<o;i++)e=this._queue[i],t.length&&!~r.inArray(e.getStatus(),t)||n.push(e);return n},removeFile:function(e){var t=this._map[e.id];t&&(delete this._map[e.id],e.destroy(),this.stats.numofDeleted++)},_fileAdded:function(e){var t=this,n=this._map[e.id];n||(this._map[e.id]=e,e.on("statuschange",function(e,n){t._onFileStatusChange(e,n)}))},_onFileStatusChange:function(e,t){var n=this.stats;switch(t){case o.PROGRESS:n.numOfProgress--;break;case o.QUEUED:n.numOfQueue--;break;case o.ERROR:n.numOfUploadFailed--;break;case o.INVALID:n.numOfInvalid--;break;case o.INTERRUPT:n.numofInterrupt--}switch(e){case o.QUEUED:n.numOfQueue++;break;case o.PROGRESS:n.numOfProgress++;break;case o.ERROR:n.numOfUploadFailed++;break;case o.COMPLETE:n.numOfSuccess++;break;case o.CANCELLED:n.numOfCancel++;break;case o.INVALID:n.numOfInvalid++;break;case o.INTERRUPT:n.numofInterrupt++}}}),t.installTo(i.prototype),i}),t("widgets/queue",["base","uploader","queue","file","lib/file","runtime/client","widgets/widget"],function(e,t,n,i,r,o){var s=e.$,a=/\.\w+$/,l=i.Status;return t.register({name:"queue",init:function(t){var i,r,a,l,c,u,h,f=this;if(s.isPlainObject(t.accept)&&(t.accept=[t.accept]),t.accept){for(c=[],a=0,r=t.accept.length;a<r;a++)l=t.accept[a].extensions,l&&c.push(l);c.length&&(u="\\."+c.join(",").replace(/,/g,"$|\\.").replace(/\*/g,".*")+"$"),f.accept=new RegExp(u,"i")}if(f.queue=new n,f.stats=f.queue.stats,"html5"===this.request("predict-runtime-type"))return i=e.Deferred(),this.placeholder=h=new o("Placeholder"),h.connectRuntime({runtimeOrder:"html5"},function(){f._ruid=h.getRuid(),i.resolve()}),i.promise()},_wrapFile:function(e){if(!(e instanceof i)){if(!(e instanceof r)){if(!this._ruid)throw new Error("Can't add external files.");e=new r(this._ruid,e)}e=new i(e)}return e},acceptFile:function(e){var t=!e||!e.size||this.accept&&a.exec(e.name)&&!this.accept.test(e.name);return!t},_addFile:function(e){var t=this;if(e=t._wrapFile(e),t.owner.trigger("beforeFileQueued",e))return t.acceptFile(e)?(t.queue.append(e),t.owner.trigger("fileQueued",e),e):void t.owner.trigger("error","Q_TYPE_DENIED",e)},getFile:function(e){return this.queue.getFile(e)},addFile:function(e){var t=this;e.length||(e=[e]),e=s.map(e,function(e){return t._addFile(e)}),t.owner.trigger("filesQueued",e),t.options.auto&&setTimeout(function(){t.request("start-upload")},20)},getStats:function(){return this.stats},removeFile:function(e,t){var n=this;e=e.id?e:n.queue.getFile(e),this.request("cancel-file",e),t&&this.queue.removeFile(e)},getFiles:function(){return this.queue.getFiles.apply(this.queue,arguments)},fetchFile:function(){return this.queue.fetch.apply(this.queue,arguments)},retry:function(e,t){var n,i,r,o=this;if(e)return e=e.id?e:o.queue.getFile(e),e.setStatus(l.QUEUED),void(t||o.request("start-upload"));for(n=o.queue.getFiles(l.ERROR),i=0,r=n.length;i<r;i++)e=n[i],e.setStatus(l.QUEUED);o.request("start-upload")},sortFiles:function(){return this.queue.sort.apply(this.queue,arguments)},reset:function(){this.owner.trigger("reset"),this.queue=new n,this.stats=this.queue.stats},destroy:function(){this.reset(),this.placeholder&&this.placeholder.destroy()}})}),t("widgets/runtime",["uploader","runtime/runtime","widgets/widget"],function(e,t){return e.support=function(){return t.hasRuntime.apply(t,arguments)},e.register({name:"runtime",init:function(){if(!this.predictRuntimeType())throw Error("Runtime Error")},predictRuntimeType:function(){var e,n,i=this.options.runtimeOrder||t.orders,r=this.type;if(!r)for(i=i.split(/\s*,\s*/g),e=0,n=i.length;e<n;e++)if(t.hasRuntime(i[e])){this.type=r=i[e];break}return r}})}),t("lib/transport",["base","runtime/client","mediator"],function(e,t,n){function i(e){var n=this;e=n.options=r.extend(!0,{},i.options,e||{}),t.call(this,"Transport"),this._blob=null,this._formData=e.formData||{},this._headers=e.headers||{},this.on("progress",this._timeout),this.on("load error",function(){n.trigger("progress",1),
clearTimeout(n._timer)})}var r=e.$;return i.options={server:"",method:"POST",withCredentials:!1,fileVal:"file",timeout:12e4,formData:{},headers:{},sendAsBinary:!1},r.extend(i.prototype,{appendBlob:function(e,t,n){var i=this,r=i.options;i.getRuid()&&i.disconnectRuntime(),i.connectRuntime(t.ruid,function(){i.exec("init")}),i._blob=t,r.fileVal=e||r.fileVal,r.filename=n||r.filename},append:function(e,t){"object"==typeof e?r.extend(this._formData,e):this._formData[e]=t},setRequestHeader:function(e,t){"object"==typeof e?r.extend(this._headers,e):this._headers[e]=t},send:function(e){this.exec("send",e),this._timeout()},abort:function(){return clearTimeout(this._timer),this.exec("abort")},destroy:function(){this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()},getResponse:function(){return this.exec("getResponse")},getResponseAsJson:function(){return this.exec("getResponseAsJson")},getStatus:function(){return this.exec("getStatus")},_timeout:function(){var e=this,t=e.options.timeout;t&&(clearTimeout(e._timer),e._timer=setTimeout(function(){e.abort(),e.trigger("error","timeout")},t))}}),n.installTo(i.prototype),i}),t("widgets/upload",["base","uploader","file","lib/transport","widgets/widget"],function(e,t,n,i){function r(e,t){var n,i,r=[],o=e.source,s=o.size,a=t?Math.ceil(s/t):1,l=0,c=0;for(i={file:e,has:function(){return!!r.length},shift:function(){return r.shift()},unshift:function(e){r.unshift(e)}};c<a;)n=Math.min(t,s-l),r.push({file:e,start:l,end:t?l+n:s,total:s,chunks:a,chunk:c++,cuted:i}),l+=n;return e.blocks=r.concat(),e.remaning=r.length,i}var o=e.$,s=e.isPromise,a=n.Status;o.extend(t.options,{prepareNextFile:!1,chunked:!1,chunkSize:5242880,chunkRetry:2,threads:3,formData:{}}),t.register({name:"upload",init:function(){var t=this.owner,n=this;this.runing=!1,this.progress=!1,t.on("startUpload",function(){n.progress=!0}).on("uploadFinished",function(){n.progress=!1}),this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this.__tick=e.bindFn(this._tick,this),t.on("uploadComplete",function(e){e.blocks&&o.each(e.blocks,function(e,t){t.transport&&(t.transport.abort(),t.transport.destroy()),delete t.transport}),delete e.blocks,delete e.remaning})},reset:function(){this.request("stop-upload",!0),this.runing=!1,this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this._trigged=!1,this._promise=null},startUpload:function(t){var n=this;if(o.each(n.request("get-files",a.INVALID),function(){n.request("remove-file",this)}),t)if(t=t.id?t:n.request("get-file",t),t.getStatus()===a.INTERRUPT)o.each(n.pool,function(e,n){n.file===t&&n.transport&&n.transport.send()}),t.setStatus(a.QUEUED);else{if(t.getStatus()===a.PROGRESS)return;t.setStatus(a.QUEUED)}else o.each(n.request("get-files",[a.INITED]),function(){this.setStatus(a.QUEUED)});if(!n.runing){n.runing=!0;var i=[];o.each(n.pool,function(e,t){var r=t.file;r.getStatus()===a.INTERRUPT&&(i.push(r),n._trigged=!1,t.transport&&t.transport.send())});for(var t;t=i.shift();)t.setStatus(a.PROGRESS);t||o.each(n.request("get-files",a.INTERRUPT),function(){this.setStatus(a.PROGRESS)}),n._trigged=!1,e.nextTick(n.__tick),n.owner.trigger("startUpload")}},stopUpload:function(t,n){var i=this;if(t===!0&&(n=t,t=null),i.runing!==!1){if(t){if(t=t.id?t:i.request("get-file",t),t.getStatus()!==a.PROGRESS&&t.getStatus()!==a.QUEUED)return;return t.setStatus(a.INTERRUPT),o.each(i.pool,function(e,n){n.file===t&&(n.transport&&n.transport.abort(),i._putback(n),i._popBlock(n))}),e.nextTick(i.__tick)}i.runing=!1,this._promise&&this._promise.file&&this._promise.file.setStatus(a.INTERRUPT),n&&o.each(i.pool,function(e,t){t.transport&&t.transport.abort(),t.file.setStatus(a.INTERRUPT)}),i.owner.trigger("stopUpload")}},cancelFile:function(e){e=e.id?e:this.request("get-file",e),e.blocks&&o.each(e.blocks,function(e,t){var n=t.transport;n&&(n.abort(),n.destroy(),delete t.transport)}),e.setStatus(a.CANCELLED),this.owner.trigger("fileDequeued",e)},isInProgress:function(){return!!this.progress},_getStats:function(){return this.request("get-stats")},skipFile:function(e,t){e=e.id?e:this.request("get-file",e),e.setStatus(t||a.COMPLETE),e.skipped=!0,e.blocks&&o.each(e.blocks,function(e,t){var n=t.transport;n&&(n.abort(),n.destroy(),delete t.transport)}),this.owner.trigger("uploadSkip",e)},_tick:function(){var t,n,i=this,r=i.options;return i._promise?i._promise.always(i.__tick):void(i.pool.length<r.threads&&(n=i._nextBlock())?(i._trigged=!1,t=function(t){i._promise=null,t&&t.file&&i._startSend(t),e.nextTick(i.__tick)},i._promise=s(n)?n.always(t):t(n)):i.remaning||i._getStats().numOfQueue||i._getStats().numofInterrupt||(i.runing=!1,i._trigged||e.nextTick(function(){i.owner.trigger("uploadFinished")}),i._trigged=!0))},_putback:function(e){var t;e.cuted.unshift(e),t=this.stack.indexOf(e.cuted),~t||this.stack.unshift(e.cuted)},_getStack:function(){for(var e,t=0;e=this.stack[t++];){if(e.has()&&e.file.getStatus()===a.PROGRESS)return e;(!e.has()||e.file.getStatus()!==a.PROGRESS&&e.file.getStatus()!==a.INTERRUPT)&&this.stack.splice(--t,1)}return null},_nextBlock:function(){var e,t,n,i,o=this,a=o.options;return(e=this._getStack())?(a.prepareNextFile&&!o.pending.length&&o._prepareNextFile(),e.shift()):o.runing?(!o.pending.length&&o._getStats().numOfQueue&&o._prepareNextFile(),t=o.pending.shift(),n=function(t){return t?(e=r(t,a.chunked?a.chunkSize:0),o.stack.push(e),e.shift()):null},s(t)?(i=t.file,t=t[t.pipe?"pipe":"then"](n),t.file=i,t):n(t)):void 0},_prepareNextFile:function(){var e,t=this,n=t.request("fetch-file"),i=t.pending;n&&(e=t.request("before-send-file",n,function(){return n.getStatus()===a.PROGRESS||n.getStatus()===a.INTERRUPT?n:t._finishFile(n)}),t.owner.trigger("uploadStart",n),n.setStatus(a.PROGRESS),e.file=n,e.done(function(){var t=o.inArray(e,i);~t&&i.splice(t,1,n)}),e.fail(function(e){n.setStatus(a.ERROR,e),t.owner.trigger("uploadError",n,e),t.owner.trigger("uploadComplete",n)}),i.push(e))},_popBlock:function(e){var t=o.inArray(e,this.pool);this.pool.splice(t,1),e.file.remaning--,this.remaning--},_startSend:function(t){var n,i=this,r=t.file;return r.getStatus()!==a.PROGRESS?void(r.getStatus()===a.INTERRUPT&&i._putback(t)):(i.pool.push(t),i.remaning++,t.blob=1===t.chunks?r.source:r.source.slice(t.start,t.end),n=i.request("before-send",t,function(){r.getStatus()===a.PROGRESS?i._doSend(t):(i._popBlock(t),e.nextTick(i.__tick))}),void n.fail(function(){1===r.remaning?i._finishFile(r).always(function(){t.percentage=1,i._popBlock(t),i.owner.trigger("uploadComplete",r),e.nextTick(i.__tick)}):(t.percentage=1,i.updateFileProgress(r),i._popBlock(t),e.nextTick(i.__tick))}))},_doSend:function(t){var n,r,s=this,l=s.owner,c=s.options,u=t.file,h=new i(c),f=o.extend({},c.formData),d=o.extend({},c.headers);t.transport=h,h.on("destroy",function(){delete t.transport,s._popBlock(t),e.nextTick(s.__tick)}),h.on("progress",function(e){t.percentage=e,s.updateFileProgress(u)}),n=function(e){var n;return r=h.getResponseAsJson()||{},r._raw=h.getResponse(),n=function(t){e=t},l.trigger("uploadAccept",t,r,n)||(e=e||"server"),e},h.on("error",function(e,i){t.retried=t.retried||0,t.chunks>1&&~"http,abort".indexOf(e)&&t.retried<c.chunkRetry?(t.retried++,h.send()):(i||"server"!==e||(e=n(e)),u.setStatus(a.ERROR,e),l.trigger("uploadError",u,e),l.trigger("uploadComplete",u))}),h.on("load",function(){var e;return(e=n())?void h.trigger("error",e,!0):void(1===u.remaning?s._finishFile(u,r):h.destroy())}),f=o.extend(f,{id:u.id,name:u.name,type:u.type,lastModifiedDate:u.lastModifiedDate,size:u.size}),t.chunks>1&&o.extend(f,{chunks:t.chunks,chunk:t.chunk}),l.trigger("uploadBeforeSend",t,f,d),h.appendBlob(c.fileVal,t.blob,u.name),h.append(f),h.setRequestHeader(d),h.send()},_finishFile:function(e,t,n){var i=this.owner;return i.request("after-send-file",arguments,function(){e.setStatus(a.COMPLETE),i.trigger("uploadSuccess",e,t,n)}).fail(function(t){e.getStatus()===a.PROGRESS&&e.setStatus(a.ERROR,t),i.trigger("uploadError",e,t)}).always(function(){i.trigger("uploadComplete",e)})},updateFileProgress:function(e){var t=0,n=0;e.blocks&&(o.each(e.blocks,function(e,t){n+=(t.percentage||0)*(t.end-t.start)}),t=n/e.size,this.owner.trigger("uploadProgress",e,t||0))}})}),t("widgets/validator",["base","uploader","file","widgets/widget"],function(e,t,n){var i,r=e.$,o={};return i={addValidator:function(e,t){o[e]=t},removeValidator:function(e){delete o[e]}},t.register({name:"validator",init:function(){var t=this;e.nextTick(function(){r.each(o,function(){this.call(t.owner)})})}}),i.addValidator("fileNumLimit",function(){var e=this,t=e.options,n=0,i=parseInt(t.fileNumLimit,10),r=!0;i&&(e.on("beforeFileQueued",function(e){return n>=i&&r&&(r=!1,this.trigger("error","Q_EXCEED_NUM_LIMIT",i,e),setTimeout(function(){r=!0},1)),!(n>=i)}),e.on("fileQueued",function(){n++}),e.on("fileDequeued",function(){n--}),e.on("reset",function(){n=0}))}),i.addValidator("fileSizeLimit",function(){var e=this,t=e.options,n=0,i=parseInt(t.fileSizeLimit,10),r=!0;i&&(e.on("beforeFileQueued",function(e){var t=n+e.size>i;return t&&r&&(r=!1,this.trigger("error","Q_EXCEED_SIZE_LIMIT",i,e),setTimeout(function(){r=!0},1)),!t}),e.on("fileQueued",function(e){n+=e.size}),e.on("fileDequeued",function(e){n-=e.size}),e.on("reset",function(){n=0}))}),i.addValidator("fileSingleSizeLimit",function(){var e=this,t=e.options,i=t.fileSingleSizeLimit;i&&e.on("beforeFileQueued",function(e){if(e.size>i)return e.setStatus(n.Status.INVALID,"exceed_size"),this.trigger("error","F_EXCEED_SIZE",i,e),!1})}),i.addValidator("duplicate",function(){function e(e){for(var t,n=0,i=0,r=e.length;i<r;i++)t=e.charCodeAt(i),n=t+(n<<6)+(n<<16)-n;return n}var t=this,n=t.options,i={};n.duplicate||(t.on("beforeFileQueued",function(t){var n=t.__hash||(t.__hash=e(t.name+t.size+t.lastModifiedDate));if(i[n])return this.trigger("error","F_DUPLICATE",t),!1}),t.on("fileQueued",function(e){var t=e.__hash;t&&(i[t]=!0)}),t.on("fileDequeued",function(e){var t=e.__hash;t&&delete i[t]}),t.on("reset",function(){i={}}))}),i}),t("lib/md5",["runtime/client","mediator"],function(e,t){function n(){e.call(this,"Md5")}return t.installTo(n.prototype),n.prototype.loadFromBlob=function(e){var t=this;t.getRuid()&&t.disconnectRuntime(),t.connectRuntime(e.ruid,function(){t.exec("init"),t.exec("loadFromBlob",e)})},n.prototype.getResult=function(){return this.exec("getResult")},n}),t("widgets/md5",["base","uploader","lib/md5","lib/blob","widgets/widget"],function(e,t,n,i){return t.register({name:"md5",md5File:function(t,r,o){var s=new n,a=e.Deferred(),l=t instanceof i?t:this.request("get-file",t).source;return s.on("progress load",function(e){e=e||{},a.notify(e.total?e.loaded/e.total:1)}),s.on("complete",function(){a.resolve(s.getResult())}),s.on("error",function(e){a.reject(e)}),arguments.length>1&&(r=r||0,o=o||0,r<0&&(r=l.size+r),o<0&&(o=l.size+o),o=Math.min(o,l.size),l=l.slice(r,o)),s.loadFromBlob(l),a.promise()}})}),t("runtime/compbase",[],function(){function e(e,t){this.owner=e,this.options=e.options,this.getRuntime=function(){return t},this.getRuid=function(){return t.uid},this.trigger=function(){return e.trigger.apply(e,arguments)}}return e}),t("runtime/html5/runtime",["base","runtime/runtime","runtime/compbase"],function(t,n,i){function r(){var e={},i=this,r=this.destroy;n.apply(i,arguments),i.type=o,i.exec=function(n,r){var o,a=this,l=a.uid,c=t.slice(arguments,2);if(s[n]&&(o=e[l]=e[l]||new s[n](a,i),o[r]))return o[r].apply(o,c)},i.destroy=function(){return r&&r.apply(this,arguments)}}var o="html5",s={};return t.inherits(n,{constructor:r,init:function(){var e=this;setTimeout(function(){e.trigger("ready")},1)}}),r.register=function(e,n){var r=s[e]=t.inherits(i,n);return r},e.Blob&&e.FileReader&&e.DataView&&n.addRuntime(o,r),r}),t("runtime/html5/blob",["runtime/html5/runtime","lib/blob"],function(e,t){return e.register("Blob",{slice:function(e,n){var i=this.owner.source,r=i.slice||i.webkitSlice||i.mozSlice;return i=r.call(i,e,n),new t(this.getRuid(),i)}})}),t("runtime/html5/dnd",["base","runtime/html5/runtime","lib/file"],function(e,t,n){var i=e.$,r="webuploader-dnd-";return t.register("DragAndDrop",{init:function(){var t=this.elem=this.options.container;this.dragEnterHandler=e.bindFn(this._dragEnterHandler,this),this.dragOverHandler=e.bindFn(this._dragOverHandler,this),this.dragLeaveHandler=e.bindFn(this._dragLeaveHandler,this),this.dropHandler=e.bindFn(this._dropHandler,this),this.dndOver=!1,t.on("dragenter",this.dragEnterHandler),t.on("dragover",this.dragOverHandler),t.on("dragleave",this.dragLeaveHandler),t.on("drop",this.dropHandler),this.options.disableGlobalDnd&&(i(document).on("dragover",this.dragOverHandler),i(document).on("drop",this.dropHandler))},_dragEnterHandler:function(e){var t,n=this,i=n._denied||!1;return e=e.originalEvent||e,n.dndOver||(n.dndOver=!0,t=e.dataTransfer.items,t&&t.length&&(n._denied=i=!n.trigger("accept",t)),n.elem.addClass(r+"over"),n.elem[i?"addClass":"removeClass"](r+"denied")),e.dataTransfer.dropEffect=i?"none":"copy",!1},_dragOverHandler:function(e){var t=this.elem.parent().get(0);return!(t&&!i.contains(t,e.currentTarget))&&(clearTimeout(this._leaveTimer),this._dragEnterHandler.call(this,e),!1)},_dragLeaveHandler:function(){var e,t=this;return e=function(){t.dndOver=!1,t.elem.removeClass(r+"over "+r+"denied")},clearTimeout(t._leaveTimer),t._leaveTimer=setTimeout(e,100),!1},_dropHandler:function(e){var t,o,s=this,a=s.getRuid(),l=s.elem.parent().get(0);if(l&&!i.contains(l,e.currentTarget))return!1;e=e.originalEvent||e,t=e.dataTransfer;try{o=t.getData("text/html")}catch(c){}return o?void 0:(s._getTansferFiles(t,function(e){s.trigger("drop",i.map(e,function(e){return new n(a,e)}))}),s.dndOver=!1,s.elem.removeClass(r+"over"),!1)},_getTansferFiles:function(t,n){var i,r,o,s,a,l,c,u=[],h=[];for(i=t.items,r=t.files,c=!(!i||!i[0].webkitGetAsEntry),a=0,l=r.length;a<l;a++)o=r[a],s=i&&i[a],c&&s.webkitGetAsEntry().isDirectory?h.push(this._traverseDirectoryTree(s.webkitGetAsEntry(),u)):u.push(o);e.when.apply(e,h).done(function(){u.length&&n(u)})},_traverseDirectoryTree:function(t,n){var i=e.Deferred(),r=this;return t.isFile?t.file(function(e){n.push(e),i.resolve()}):t.isDirectory&&t.createReader().readEntries(function(t){var o,s=t.length,a=[],l=[];for(o=0;o<s;o++)a.push(r._traverseDirectoryTree(t[o],l));e.when.apply(e,a).then(function(){n.push.apply(n,l),i.resolve()},i.reject)}),i.promise()},destroy:function(){var e=this.elem;e&&(e.off("dragenter",this.dragEnterHandler),e.off("dragover",this.dragOverHandler),e.off("dragleave",this.dragLeaveHandler),e.off("drop",this.dropHandler),this.options.disableGlobalDnd&&(i(document).off("dragover",this.dragOverHandler),i(document).off("drop",this.dropHandler)))}})}),t("runtime/html5/filepaste",["base","runtime/html5/runtime","lib/file"],function(e,t,n){return t.register("FilePaste",{init:function(){var t,n,i,r,o=this.options,s=this.elem=o.container,a=".*";if(o.accept){for(t=[],n=0,i=o.accept.length;n<i;n++)r=o.accept[n].mimeTypes,r&&t.push(r);t.length&&(a=t.join(","),a=a.replace(/,/g,"|").replace(/\*/g,".*"))}this.accept=a=new RegExp(a,"i"),this.hander=e.bindFn(this._pasteHander,this),s.on("paste",this.hander)},_pasteHander:function(e){var t,i,r,o,s,a=[],l=this.getRuid();for(e=e.originalEvent||e,t=e.clipboardData.items,o=0,s=t.length;o<s;o++)i=t[o],"file"===i.kind&&(r=i.getAsFile())&&a.push(new n(l,r));a.length&&(e.preventDefault(),e.stopPropagation(),this.trigger("paste",a))},destroy:function(){this.elem.off("paste",this.hander)}})}),t("runtime/html5/filepicker",["base","runtime/html5/runtime"],function(e,t){var n=e.$;return t.register("FilePicker",{init:function(){var e,t,i,r,o=this.getRuntime().getContainer(),s=this,a=s.owner,l=s.options,c=this.label=n(document.createElement("label")),u=this.input=n(document.createElement("input"));if(u.attr("type","file"),u.css({position:"absolute",clip:"rect(1px,1px,1px,1px)"}),u.attr("name",l.name),u.addClass("webuploader-element-invisible"),c.on("click",function(){u.trigger("click")}),c.css({opacity:0,width:"100%",height:"100%",display:"block",cursor:"pointer",background:"#ffffff"}),l.multiple&&u.attr("multiple","multiple"),l.accept&&l.accept.length>0){for(e=[],t=0,i=l.accept.length;t<i;t++)e.push(l.accept[t].mimeTypes);u.attr("accept",e.join(","))}o.append(u),o.append(c),r=function(e){a.trigger(e.type)},u.on("change",function(e){var t,i=arguments.callee;s.files=e.target.files,t=this.cloneNode(!0),t.value=null,this.parentNode.replaceChild(t,this),u.off(),u=n(t).on("change",i).on("mouseenter mouseleave",r),a.trigger("change")}),c.on("mouseenter mouseleave",r)},getFiles:function(){return this.files},destroy:function(){this.input.off(),this.label.off()}})}),t("runtime/html5/util",["base"],function(t){var n=e.createObjectURL&&e||e.URL&&URL.revokeObjectURL&&URL||e.webkitURL,i=t.noop,r=i;return n&&(i=function(){return n.createObjectURL.apply(n,arguments)},r=function(){return n.revokeObjectURL.apply(n,arguments)}),{createObjectURL:i,revokeObjectURL:r,dataURL2Blob:function(e){var t,n,i,r,o,s;for(s=e.split(","),t=~s[0].indexOf("base64")?atob(s[1]):decodeURIComponent(s[1]),i=new ArrayBuffer(t.length),n=new Uint8Array(i),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return o=s[0].split(":")[1].split(";")[0],this.arrayBufferToBlob(i,o)},dataURL2ArrayBuffer:function(e){var t,n,i,r;for(r=e.split(","),t=~r[0].indexOf("base64")?atob(r[1]):decodeURIComponent(r[1]),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n.buffer},arrayBufferToBlob:function(t,n){var i,r=e.BlobBuilder||e.WebKitBlobBuilder;return r?(i=new r,i.append(t),i.getBlob(n)):new Blob([t],n?{type:n}:{})},canvasToDataUrl:function(e,t,n){return e.toDataURL(t,n/100)},parseMeta:function(e,t){t(!1,{})},updateImageHead:function(e){return e}}}),t("runtime/html5/imagemeta",["runtime/html5/util"],function(e){var t;return t={parsers:{65505:[]},maxMetaDataSize:262144,parse:function(e,t){var n=this,i=new FileReader;i.onload=function(){t(!1,n._parse(this.result)),i=i.onload=i.onerror=null},i.onerror=function(e){t(e.message),i=i.onload=i.onerror=null},e=e.slice(0,n.maxMetaDataSize),i.readAsArrayBuffer(e.getSource())},_parse:function(e,n){if(!(e.byteLength<6)){var i,r,o,s,a=new DataView(e),l=2,c=a.byteLength-4,u=l,h={};if(65496===a.getUint16(0)){for(;l<c&&(i=a.getUint16(l),i>=65504&&i<=65519||65534===i)&&(r=a.getUint16(l+2)+2,!(l+r>a.byteLength));){if(o=t.parsers[i],!n&&o)for(s=0;s<o.length;s+=1)o[s].call(t,a,l,r,h);l+=r,u=l}u>6&&(e.slice?h.imageHead=e.slice(2,u):h.imageHead=new Uint8Array(e).subarray(2,u))}return h}},updateImageHead:function(e,t){var n,i,r,o=this._parse(e,!0);return r=2,o.imageHead&&(r=2+o.imageHead.byteLength),i=e.slice?e.slice(r):new Uint8Array(e).subarray(r),n=new Uint8Array(t.byteLength+2+i.byteLength),n[0]=255,n[1]=216,n.set(new Uint8Array(t),2),n.set(new Uint8Array(i),t.byteLength+2),n.buffer}},e.parseMeta=function(){return t.parse.apply(t,arguments)},e.updateImageHead=function(){return t.updateImageHead.apply(t,arguments)},t}),t("runtime/html5/imagemeta/exif",["base","runtime/html5/imagemeta"],function(e,t){var n={};return n.ExifMap=function(){return this},n.ExifMap.prototype.map={Orientation:274},n.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},n.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},n.exifTagTypes[7]=n.exifTagTypes[1],n.getExifValue=function(t,i,r,o,s,a){var l,c,u,h,f,d,p=n.exifTagTypes[o];if(!p)return void e.log("Invalid Exif data: Invalid tag type.");if(l=p.size*s,c=l>4?i+t.getUint32(r+8,a):r+8,c+l>t.byteLength)return void e.log("Invalid Exif data: Invalid data offset.");if(1===s)return p.getValue(t,c,a);for(u=[],h=0;h<s;h+=1)u[h]=p.getValue(t,c+h*p.size,a);if(p.ascii){for(f="",h=0;h<u.length&&(d=u[h],"\0"!==d);h+=1)f+=d;return f}return u},n.parseExifTag=function(e,t,i,r,o){var s=e.getUint16(i,r);o.exif[s]=n.getExifValue(e,t,i,e.getUint16(i+2,r),e.getUint32(i+4,r),r)},n.parseExifTags=function(t,n,i,r,o){var s,a,l;if(i+6>t.byteLength)return void e.log("Invalid Exif data: Invalid directory offset.");if(s=t.getUint16(i,r),a=i+2+12*s,a+4>t.byteLength)return void e.log("Invalid Exif data: Invalid directory size.");for(l=0;l<s;l+=1)this.parseExifTag(t,n,i+2+12*l,r,o);return t.getUint32(a,r)},n.parseExifData=function(t,i,r,o){var s,a,l=i+10;if(1165519206===t.getUint32(i+4)){if(l+8>t.byteLength)return void e.log("Invalid Exif data: Invalid segment size.");if(0!==t.getUint16(i+8))return void e.log("Invalid Exif data: Missing byte alignment offset.");switch(t.getUint16(l)){case 18761:s=!0;break;case 19789:s=!1;break;default:return void e.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==t.getUint16(l+2,s))return void e.log("Invalid Exif data: Missing TIFF marker.");a=t.getUint32(l+4,s),o.exif=new n.ExifMap,a=n.parseExifTags(t,l,l+a,s,o)}},t.parsers[65505].push(n.parseExifData),n}),t("runtime/html5/jpegencoder",[],function(e,t,n){function i(e){function t(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var i=k((t[n]*e+50)/100);i<1?i=1:i>255&&(i=255),E[M[n]]=i}for(var r=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var s=k((r[o]*e+50)/100);s<1?s=1:s>255&&(s=255),S[M[o]]=s}for(var a=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],l=0,c=0;c<8;c++)for(var u=0;u<8;u++)T[l]=1/(E[M[l]]*a[c]*a[u]*8),A[l]=1/(S[M[l]]*a[c]*a[u]*8),l++}function n(e,t){for(var n=0,i=0,r=new Array,o=1;o<=16;o++){for(var s=1;s<=e[o];s++)r[t[i]]=[],r[t[i]][0]=n,r[t[i]][1]=o,i++,n++;n*=2}return r}function i(){b=n(H,F),y=n(Y,X),w=n(W,q),x=n(V,Z)}function r(){for(var e=1,t=2,n=1;n<=15;n++){for(var i=e;i<t;i++)P[32767+i]=n,R[32767+i]=[],R[32767+i][1]=n,R[32767+i][0]=i;for(var r=-(t-1);r<=-e;r++)P[32767+r]=n,R[32767+r]=[],R[32767+r][1]=n,R[32767+r][0]=t-1+r;e<<=1,t<<=1}}function o(){for(var e=0;e<256;e++)U[e]=19595*e,U[e+256>>0]=38470*e,U[e+512>>0]=7471*e+32768,U[e+768>>0]=-11059*e,U[e+1024>>0]=-21709*e,U[e+1280>>0]=32768*e+8421375,U[e+1536>>0]=-27439*e,U[e+1792>>0]=-5329*e}function s(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(O|=1<<N),n--,N--,N<0&&(255==O?(a(255),a(0)):a(O),N=7,O=0)}function a(e){L.push(B[e])}function l(e){a(e>>8&255),a(255&e)}function c(e,t){var n,i,r,o,s,a,l,c,u,h=0,f=8,d=64;for(u=0;u<f;++u){n=e[h],i=e[h+1],r=e[h+2],o=e[h+3],s=e[h+4],a=e[h+5],l=e[h+6],c=e[h+7];var p=n+c,g=n-c,m=i+l,v=i-l,_=r+a,b=r-a,y=o+s,w=o-s,x=p+y,I=p-y,k=m+_,E=m-_;e[h]=x+k,e[h+4]=x-k;var S=.707106781*(E+I);e[h+2]=I+S,e[h+6]=I-S,x=w+b,k=b+v,E=v+g;var T=.382683433*(x-E),A=.5411961*x+T,R=1.306562965*E+T,P=.707106781*k,C=g+P,L=g-P;e[h+5]=L+A,e[h+3]=L-A,e[h+1]=C+R,e[h+7]=C-R,h+=8}for(h=0,u=0;u<f;++u){n=e[h],i=e[h+8],r=e[h+16],o=e[h+24],s=e[h+32],a=e[h+40],l=e[h+48],c=e[h+56];var O=n+c,N=n-c,z=i+l,$=i-l,j=r+a,B=r-a,U=o+s,M=o-s,H=O+U,F=O-U,W=z+j,q=z-j;e[h]=H+W,e[h+32]=H-W;var Y=.707106781*(q+F);e[h+16]=F+Y,e[h+48]=F-Y,H=M+B,W=B+$,q=$+N;var X=.382683433*(H-q),V=.5411961*H+X,Z=1.306562965*q+X,G=.707106781*W,Q=N+G,K=N-G;e[h+40]=K+V,e[h+24]=K-V,e[h+8]=Q+Z,e[h+56]=Q-Z,h++}var J;for(u=0;u<d;++u)J=e[u]*t[u],D[u]=J>0?J+.5|0:J-.5|0;return D}function u(){l(65504),l(16),a(74),a(70),a(73),a(70),a(0),a(1),a(1),a(0),l(1),l(1),a(0),a(0)}function h(e,t){l(65472),l(17),a(8),l(t),l(e),a(3),a(1),a(17),a(0),a(2),a(17),a(1),a(3),a(17),a(1)}function f(){l(65499),l(132),a(0);for(var e=0;e<64;e++)a(E[e]);a(1);for(var t=0;t<64;t++)a(S[t])}function d(){l(65476),l(418),a(0);for(var e=0;e<16;e++)a(H[e+1]);for(var t=0;t<=11;t++)a(F[t]);a(16);for(var n=0;n<16;n++)a(W[n+1]);for(var i=0;i<=161;i++)a(q[i]);a(1);for(var r=0;r<16;r++)a(Y[r+1]);for(var o=0;o<=11;o++)a(X[o]);a(17);for(var s=0;s<16;s++)a(V[s+1]);for(var c=0;c<=161;c++)a(Z[c])}function p(){l(65498),l(12),a(3),a(1),a(0),a(2),a(17),a(3),a(17),a(0),a(63),a(0)}function g(e,t,n,i,r){for(var o,a=r[0],l=r[240],u=16,h=63,f=64,d=c(e,t),p=0;p<f;++p)C[M[p]]=d[p];var g=C[0]-n;n=C[0],0==g?s(i[0]):(o=32767+g,s(i[P[o]]),s(R[o]));for(var m=63;m>0&&0==C[m];m--);if(0==m)return s(a),n;for(var v,_=1;_<=m;){for(var b=_;0==C[_]&&_<=m;++_);var y=_-b;if(y>=u){v=y>>4;for(var w=1;w<=v;++w)s(l);y=15&y}o=32767+C[_],s(r[(y<<4)+P[o]]),s(R[o]),_++}return m!=h&&s(a),n}function m(){for(var e=String.fromCharCode,t=0;t<256;t++)B[t]=e(t)}function v(e){if(e<=0&&(e=1),e>100&&(e=100),I!=e){var n=0;n=e<50?Math.floor(5e3/e):Math.floor(200-2*e),t(n),I=e}}function _(){e||(e=50),m(),i(),r(),o(),v(e)}var b,y,w,x,I,k=(Math.round,Math.floor),E=new Array(64),S=new Array(64),T=new Array(64),A=new Array(64),R=new Array(65535),P=new Array(65535),D=new Array(64),C=new Array(64),L=[],O=0,N=7,z=new Array(64),$=new Array(64),j=new Array(64),B=new Array(256),U=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],H=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Y=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(e,t){t&&v(t),L=new Array,O=0,N=7,l(65496),u(),f(),h(e.width,e.height),d(),p();var n=0,i=0,r=0;O=0,N=7,this.encode.displayName="_encode_";for(var o,a,c,m,_,I,k,E,S,R=e.data,P=e.width,D=e.height,C=4*P,B=0;B<D;){for(o=0;o<C;){for(_=C*B+o,I=_,k=-1,E=0,S=0;S<64;S++)E=S>>3,k=4*(7&S),I=_+E*C+k,B+E>=D&&(I-=C*(B+1+E-D)),o+k>=C&&(I-=o+k-C+4),a=R[I++],c=R[I++],m=R[I++],z[S]=(U[a]+U[c+256>>0]+U[m+512>>0]>>16)-128,$[S]=(U[a+768>>0]+U[c+1024>>0]+U[m+1280>>0]>>16)-128,j[S]=(U[a+1280>>0]+U[c+1536>>0]+U[m+1792>>0]>>16)-128;n=g(z,T,n,b,w),i=g($,A,i,y,x),r=g(j,A,r,y,x),o+=32}B+=8}if(N>=0){var M=[];M[1]=N+1,M[0]=(1<<N+1)-1,s(M)}l(65497);var H="data:image/jpeg;base64,"+btoa(L.join(""));return L=[],H},_()}return i.encode=function(e,t){var n=new i(t);return n.encode(e)},i}),t("runtime/html5/androidpatch",["runtime/html5/util","runtime/html5/jpegencoder","base"],function(e,t,n){var i,r=e.canvasToDataUrl;e.canvasToDataUrl=function(e,o,s){var a,l,c,u,h;return n.os.android?("image/jpeg"===o&&"undefined"==typeof i&&(u=r.apply(null,arguments),h=u.split(","),u=~h[0].indexOf("base64")?atob(h[1]):decodeURIComponent(h[1]),u=u.substring(0,2),i=255===u.charCodeAt(0)&&216===u.charCodeAt(1)),"image/jpeg"!==o||i?r.apply(null,arguments):(l=e.width,c=e.height,a=e.getContext("2d"),t.encode(a.getImageData(0,0,l,c),s))):r.apply(null,arguments)}}),t("runtime/html5/image",["base","runtime/html5/runtime","runtime/html5/util"],function(e,t,n){var i="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D";return t.register("Image",{modified:!1,init:function(){var e=this,t=new Image;t.onload=function(){e._info={type:e.type,width:this.width,height:this.height},e._metas||"image/jpeg"!==e.type?e.owner.trigger("load"):n.parseMeta(e._blob,function(t,n){e._metas=n,e.owner.trigger("load")})},t.onerror=function(){e.owner.trigger("error")},e._img=t},loadFromBlob:function(e){var t=this,i=t._img;t._blob=e,t.type=e.type,i.src=n.createObjectURL(e.getSource()),t.owner.once("load",function(){n.revokeObjectURL(i.src)})},resize:function(e,t){var n=this._canvas||(this._canvas=document.createElement("canvas"));this._resize(this._img,n,e,t),this._blob=null,this.modified=!0,this.owner.trigger("complete","resize")},crop:function(e,t,n,i,r){var o=this._canvas||(this._canvas=document.createElement("canvas")),s=this.options,a=this._img,l=a.naturalWidth,c=a.naturalHeight,u=this.getOrientation();r=r||1,o.width=n,o.height=i,s.preserveHeaders||this._rotate2Orientaion(o,u),this._renderImageToCanvas(o,a,-e,-t,l*r,c*r),this._blob=null,this.modified=!0,this.owner.trigger("complete","crop")},getAsBlob:function(e){var t,i=this._blob,r=this.options;if(e=e||this.type,this.modified||this.type!==e){if(t=this._canvas,"image/jpeg"===e){if(i=n.canvasToDataUrl(t,e,r.quality),r.preserveHeaders&&this._metas&&this._metas.imageHead)return i=n.dataURL2ArrayBuffer(i),i=n.updateImageHead(i,this._metas.imageHead),i=n.arrayBufferToBlob(i,e)}else i=n.canvasToDataUrl(t,e);i=n.dataURL2Blob(i)}return i},getAsDataUrl:function(e){var t=this.options;return e=e||this.type,"image/jpeg"===e?n.canvasToDataUrl(this._canvas,e,t.quality):this._canvas.toDataURL(e)},getOrientation:function(){return this._metas&&this._metas.exif&&this._metas.exif.get("Orientation")||1},info:function(e){return e?(this._info=e,this):this._info},meta:function(e){return e?(this._meta=e,this):this._meta},destroy:function(){var e=this._canvas;this._img.onload=null,e&&(e.getContext("2d").clearRect(0,0,e.width,e.height),e.width=e.height=0,this._canvas=null),this._img.src=i,this._img=this._blob=null},_resize:function(e,t,n,i){var r,o,s,a,l,c=this.options,u=e.width,h=e.height,f=this.getOrientation();~[5,6,7,8].indexOf(f)&&(n^=i,i^=n,n^=i),r=Math[c.crop?"max":"min"](n/u,i/h),c.allowMagnify||(r=Math.min(1,r)),o=u*r,s=h*r,c.crop?(t.width=n,t.height=i):(t.width=o,t.height=s),a=(t.width-o)/2,l=(t.height-s)/2,c.preserveHeaders||this._rotate2Orientaion(t,f),this._renderImageToCanvas(t,e,a,l,o,s)},_rotate2Orientaion:function(e,t){var n=e.width,i=e.height,r=e.getContext("2d");switch(t){case 5:case 6:case 7:case 8:e.width=i,e.height=n}switch(t){case 2:r.translate(n,0),r.scale(-1,1);break;case 3:r.translate(n,i),r.rotate(Math.PI);break;case 4:r.translate(0,i),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-i);break;case 7:r.rotate(.5*Math.PI),r.translate(n,-i),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-n,0)}},_renderImageToCanvas:function(){function t(e,t,n){var i,r,o,s=document.createElement("canvas"),a=s.getContext("2d"),l=0,c=n,u=n;for(s.width=1,s.height=n,a.drawImage(e,0,0),i=a.getImageData(0,0,1,n).data;u>l;)r=i[4*(u-1)+3],0===r?c=u:l=u,u=c+l>>1;return o=u/n,0===o?1:o}function n(e){var t,n,i=e.naturalWidth,r=e.naturalHeight;return i*r>1048576&&(t=document.createElement("canvas"),t.width=t.height=1,n=t.getContext("2d"),n.drawImage(e,-i+1,0),0===n.getImageData(0,0,1,1).data[3])}return e.os.ios?e.os.ios>=7?function(e,n,i,r,o,s){var a=n.naturalWidth,l=n.naturalHeight,c=t(n,a,l);return e.getContext("2d").drawImage(n,0,0,a*c,l*c,i,r,o,s)}:function(e,i,r,o,s,a){var l,c,u,h,f,d,p,g=i.naturalWidth,m=i.naturalHeight,v=e.getContext("2d"),_=n(i),b="image/jpeg"===this.type,y=1024,w=0,x=0;
for(_&&(g/=2,m/=2),v.save(),l=document.createElement("canvas"),l.width=l.height=y,c=l.getContext("2d"),u=b?t(i,g,m):1,h=Math.ceil(y*s/g),f=Math.ceil(y*a/m/u);w<m;){for(d=0,p=0;d<g;)c.clearRect(0,0,y,y),c.drawImage(i,-d,-w),v.drawImage(l,0,0,y,y,r+p,o+x,h,f),d+=y,p+=h;w+=y,x+=f}v.restore(),l=c=null}:function(t){var n=e.slice(arguments,1),i=t.getContext("2d");i.drawImage.apply(i,n)}}()})}),t("runtime/html5/transport",["base","runtime/html5/runtime"],function(e,t){var n=e.noop,i=e.$;return t.register("Transport",{init:function(){this._status=0,this._response=null},send:function(){var t,n,r,o=this.owner,s=this.options,a=this._initAjax(),l=o._blob,c=s.server;s.sendAsBinary?(c+=(/\?/.test(c)?"&":"?")+i.param(o._formData),n=l.getSource()):(t=new FormData,i.each(o._formData,function(e,n){t.append(e,n)}),t.append(s.fileVal,l.getSource(),s.filename||o._formData.name||"")),s.withCredentials&&"withCredentials"in a?(a.open(s.method,c,!0),a.withCredentials=!0):a.open(s.method,c),this._setRequestHeader(a,s.headers),n?(a.overrideMimeType&&a.overrideMimeType("application/octet-stream"),e.os.android?(r=new FileReader,r.onload=function(){a.send(this.result),r=r.onload=null},r.readAsArrayBuffer(n)):a.send(n)):a.send(t)},getResponse:function(){return this._response},getResponseAsJson:function(){return this._parseJson(this._response)},getStatus:function(){return this._status},abort:function(){var e=this._xhr;e&&(e.upload.onprogress=n,e.onreadystatechange=n,e.abort(),this._xhr=e=null)},destroy:function(){this.abort()},_initAjax:function(){var e=this,t=new XMLHttpRequest,i=this.options;return!i.withCredentials||"withCredentials"in t||"undefined"==typeof XDomainRequest||(t=new XDomainRequest),t.upload.onprogress=function(t){var n=0;return t.lengthComputable&&(n=t.loaded/t.total),e.trigger("progress",n)},t.onreadystatechange=function(){if(4===t.readyState)return t.upload.onprogress=n,t.onreadystatechange=n,e._xhr=null,e._status=t.status,t.status>=200&&t.status<300?(e._response=t.responseText,e.trigger("load")):t.status>=500&&t.status<600?(e._response=t.responseText,e.trigger("error","server")):e.trigger("error",e._status?"http":"abort")},e._xhr=t,t},_setRequestHeader:function(e,t){i.each(t,function(t,n){e.setRequestHeader(t,n)})},_parseJson:function(e){var t;try{t=JSON.parse(e)}catch(n){t={}}return t}})}),t("runtime/html5/md5",["runtime/html5/runtime"],function(e){var t=function(e,t){return e+t&4294967295},n=function(e,n,i,r,o,s){return n=t(t(n,e),t(r,s)),t(n<<o|n>>>32-o,i)},i=function(e,t,i,r,o,s,a){return n(t&i|~t&r,e,t,o,s,a)},r=function(e,t,i,r,o,s,a){return n(t&r|i&~r,e,t,o,s,a)},o=function(e,t,i,r,o,s,a){return n(t^i^r,e,t,o,s,a)},s=function(e,t,i,r,o,s,a){return n(i^(t|~r),e,t,o,s,a)},a=function(e,n){var a=e[0],l=e[1],c=e[2],u=e[3];a=i(a,l,c,u,n[0],7,-680876936),u=i(u,a,l,c,n[1],12,-389564586),c=i(c,u,a,l,n[2],17,606105819),l=i(l,c,u,a,n[3],22,-1044525330),a=i(a,l,c,u,n[4],7,-176418897),u=i(u,a,l,c,n[5],12,1200080426),c=i(c,u,a,l,n[6],17,-1473231341),l=i(l,c,u,a,n[7],22,-45705983),a=i(a,l,c,u,n[8],7,1770035416),u=i(u,a,l,c,n[9],12,-1958414417),c=i(c,u,a,l,n[10],17,-42063),l=i(l,c,u,a,n[11],22,-1990404162),a=i(a,l,c,u,n[12],7,1804603682),u=i(u,a,l,c,n[13],12,-40341101),c=i(c,u,a,l,n[14],17,-1502002290),l=i(l,c,u,a,n[15],22,1236535329),a=r(a,l,c,u,n[1],5,-165796510),u=r(u,a,l,c,n[6],9,-1069501632),c=r(c,u,a,l,n[11],14,643717713),l=r(l,c,u,a,n[0],20,-373897302),a=r(a,l,c,u,n[5],5,-701558691),u=r(u,a,l,c,n[10],9,38016083),c=r(c,u,a,l,n[15],14,-660478335),l=r(l,c,u,a,n[4],20,-405537848),a=r(a,l,c,u,n[9],5,568446438),u=r(u,a,l,c,n[14],9,-1019803690),c=r(c,u,a,l,n[3],14,-187363961),l=r(l,c,u,a,n[8],20,1163531501),a=r(a,l,c,u,n[13],5,-1444681467),u=r(u,a,l,c,n[2],9,-51403784),c=r(c,u,a,l,n[7],14,1735328473),l=r(l,c,u,a,n[12],20,-1926607734),a=o(a,l,c,u,n[5],4,-378558),u=o(u,a,l,c,n[8],11,-2022574463),c=o(c,u,a,l,n[11],16,1839030562),l=o(l,c,u,a,n[14],23,-35309556),a=o(a,l,c,u,n[1],4,-1530992060),u=o(u,a,l,c,n[4],11,1272893353),c=o(c,u,a,l,n[7],16,-155497632),l=o(l,c,u,a,n[10],23,-1094730640),a=o(a,l,c,u,n[13],4,681279174),u=o(u,a,l,c,n[0],11,-358537222),c=o(c,u,a,l,n[3],16,-722521979),l=o(l,c,u,a,n[6],23,76029189),a=o(a,l,c,u,n[9],4,-640364487),u=o(u,a,l,c,n[12],11,-421815835),c=o(c,u,a,l,n[15],16,530742520),l=o(l,c,u,a,n[2],23,-995338651),a=s(a,l,c,u,n[0],6,-198630844),u=s(u,a,l,c,n[7],10,1126891415),c=s(c,u,a,l,n[14],15,-1416354905),l=s(l,c,u,a,n[5],21,-57434055),a=s(a,l,c,u,n[12],6,1700485571),u=s(u,a,l,c,n[3],10,-1894986606),c=s(c,u,a,l,n[10],15,-1051523),l=s(l,c,u,a,n[1],21,-2054922799),a=s(a,l,c,u,n[8],6,1873313359),u=s(u,a,l,c,n[15],10,-30611744),c=s(c,u,a,l,n[6],15,-1560198380),l=s(l,c,u,a,n[13],21,1309151649),a=s(a,l,c,u,n[4],6,-145523070),u=s(u,a,l,c,n[11],10,-1120210379),c=s(c,u,a,l,n[2],15,718787259),l=s(l,c,u,a,n[9],21,-343485551),e[0]=t(a,e[0]),e[1]=t(l,e[1]),e[2]=t(c,e[2]),e[3]=t(u,e[3])},l=function(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n},c=function(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n},u=function(e){var t,n,i,r,o,s,c=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)a(u,l(e.substring(t-64,t)));for(e=e.substring(t-64),n=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(a(u,i),t=0;t<16;t+=1)i[t]=0;return r=8*c,r=r.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),s=parseInt(r[1],16)||0,i[14]=o,i[15]=s,a(u,i),u},h=function(e){var t,n,i,r,o,s,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)a(u,c(e.subarray(t-64,t)));for(e=t-64<l?e.subarray(t-64):new Uint8Array(0),n=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)i[t>>2]|=e[t]<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(a(u,i),t=0;t<16;t+=1)i[t]=0;return r=8*l,r=r.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),s=parseInt(r[1],16)||0,i[14]=o,i[15]=s,a(u,i),u},f=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],d=function(e){var t,n="";for(t=0;t<4;t+=1)n+=f[e>>8*t+4&15]+f[e>>8*t&15];return n},p=function(e){var t;for(t=0;t<e.length;t+=1)e[t]=d(e[t]);return e.join("")},g=function(e){return p(u(e))},m=function(){this.reset()};return"5d41402abc4b2a76b9719d911017c592"!==g("hello")&&(t=function(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}),m.prototype.append=function(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),this.appendBinary(e),this},m.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;t<=n;t+=64)a(this._state,l(this._buff.substring(t-64,t)));return this._buff=this._buff.substr(t-64),this},m.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(o,r),n=e?this._state:p(this._state),this.reset(),n},m.prototype._finish=function(e,t){var n,i,r,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(a(this._state,e),o=0;o<16;o+=1)e[o]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(n[2],16),r=parseInt(n[1],16)||0,e[14]=i,e[15]=r,a(this._state,e)},m.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},m.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},m.hash=function(e,t){/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e)));var n=u(e);return t?n:p(n)},m.hashBinary=function(e,t){var n=u(e);return t?n:p(n)},m.ArrayBuffer=function(){this.reset()},m.ArrayBuffer.prototype.append=function(e){var t,n=this._concatArrayBuffer(this._buff,e),i=n.length;for(this._length+=e.byteLength,t=64;t<=i;t+=64)a(this._state,c(n.subarray(t-64,t)));return this._buff=t-64<i?n.subarray(t-64):new Uint8Array(0),this},m.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i[t]<<(t%4<<3);return this._finish(o,r),n=e?this._state:p(this._state),this.reset(),n},m.ArrayBuffer.prototype._finish=m.prototype._finish,m.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},m.ArrayBuffer.prototype.destroy=m.prototype.destroy,m.ArrayBuffer.prototype._concatArrayBuffer=function(e,t){var n=e.length,i=new Uint8Array(n+t.byteLength);return i.set(e),i.set(new Uint8Array(t),n),i},m.ArrayBuffer.hash=function(e,t){var n=h(new Uint8Array(e));return t?n:p(n)},e.register("Md5",{init:function(){},loadFromBlob:function(e){var t,n,i=e.getSource(),r=2097152,o=Math.ceil(i.size/r),s=0,a=this.owner,l=new m.ArrayBuffer,c=this,u=i.mozSlice||i.webkitSlice||i.slice;n=new FileReader,(t=function(){var h,f;h=s*r,f=Math.min(h+r,i.size),n.onload=function(t){l.append(t.target.result),a.trigger("progress",{total:e.size,loaded:f})},n.onloadend=function(){n.onloadend=n.onload=null,++s<o?setTimeout(t,1):setTimeout(function(){a.trigger("load"),c.result=l.end(),t=e=i=l=null,a.trigger("complete")},50)},n.readAsArrayBuffer(u.call(i,h,f))})()},getResult:function(){return this.result}})}),t("runtime/flash/runtime",["base","runtime/runtime","runtime/compbase"],function(t,n,i){function r(){var e;try{e=navigator.plugins["Shockwave Flash"],e=e.description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(n){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1],10)}function o(){function i(e,t){var n,i,r=e.type||e;n=r.split("::"),i=n[0],r=n[1],"Ready"===r&&i===c.uid?c.trigger("ready"):o[i]&&o[i].trigger(r.toLowerCase(),e,t)}var r={},o={},s=this.destroy,c=this,u=t.guid("webuploader_");n.apply(c,arguments),c.type=a,c.exec=function(e,n){var i,s=this,a=s.uid,u=t.slice(arguments,2);return o[a]=s,l[e]&&(r[a]||(r[a]=new l[e](s,c)),i=r[a],i[n])?i[n].apply(i,u):c.flashExec.apply(s,arguments)},e[u]=function(){var e=arguments;setTimeout(function(){i.apply(null,e)},1)},this.jsreciver=u,this.destroy=function(){return s&&s.apply(this,arguments)},this.flashExec=function(e,n){var i=c.getFlash(),r=t.slice(arguments,2);return i.exec(this.uid,e,n,r)}}var s=t.$,a="flash",l={};return t.inherits(n,{constructor:o,init:function(){var e,n=this.getContainer(),i=this.options;n.css({position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),e='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+i.swf+'" ',t.browser.ie&&(e+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),e+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+i.swf+'" /><param name="flashvars" value="uid='+this.uid+"&jsreciver="+this.jsreciver+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',n.html(e)},getFlash:function(){return this._flash?this._flash:(this._flash=s("#"+this.uid).get(0),this._flash)}}),o.register=function(e,n){return n=l[e]=t.inherits(i,s.extend({flashExec:function(){var e=this.owner,t=this.getRuntime();return t.flashExec.apply(e,arguments)}},n))},r()>=11.4&&n.addRuntime(a,o),o}),t("runtime/flash/filepicker",["base","runtime/flash/runtime"],function(e,t){var n=e.$;return t.register("FilePicker",{init:function(e){var t,i,r=n.extend({},e);for(t=r.accept&&r.accept.length,i=0;i<t;i++)r.accept[i].title||(r.accept[i].title="Files");delete r.button,delete r.id,delete r.container,this.flashExec("FilePicker","init",r)},destroy:function(){this.flashExec("FilePicker","destroy")}})}),t("runtime/flash/image",["runtime/flash/runtime"],function(e){return e.register("Image",{loadFromBlob:function(e){var t=this.owner;t.info()&&this.flashExec("Image","info",t.info()),t.meta()&&this.flashExec("Image","meta",t.meta()),this.flashExec("Image","loadFromBlob",e.uid)}})}),t("runtime/flash/transport",["base","runtime/flash/runtime","runtime/client"],function(t,n,i){var r=t.$;return n.register("Transport",{init:function(){this._status=0,this._response=null,this._responseJson=null},send:function(){var e,t=this.owner,n=this.options,i=this._initAjax(),o=t._blob,s=n.server;i.connectRuntime(o.ruid),n.sendAsBinary?(s+=(/\?/.test(s)?"&":"?")+r.param(t._formData),e=o.uid):(r.each(t._formData,function(e,t){i.exec("append",e,t)}),i.exec("appendBlob",n.fileVal,o.uid,n.filename||t._formData.name||"")),this._setRequestHeader(i,n.headers),i.exec("send",{method:n.method,url:s,forceURLStream:n.forceURLStream,mimeType:"application/octet-stream"},e)},getStatus:function(){return this._status},getResponse:function(){return this._response||""},getResponseAsJson:function(){return this._responseJson},abort:function(){var e=this._xhr;e&&(e.exec("abort"),e.destroy(),this._xhr=e=null)},destroy:function(){this.abort()},_initAjax:function(){var t=this,n=new i("XMLHttpRequest");return n.on("uploadprogress progress",function(e){var n=e.loaded/e.total;return n=Math.min(1,Math.max(0,n)),t.trigger("progress",n)}),n.on("load",function(){var i,r=n.exec("getStatus"),o=!1,s="";return n.off(),t._xhr=null,r>=200&&r<300?o=!0:r>=500&&r<600?(o=!0,s="server"):s="http",o&&(t._response=n.exec("getResponse"),t._response=decodeURIComponent(t._response),i=e.JSON&&e.JSON.parse||function(e){try{return new Function("return "+e).call()}catch(t){return{}}},t._responseJson=t._response?i(t._response):{}),n.destroy(),n=null,s?t.trigger("error",s):t.trigger("load")}),n.on("error",function(){n.off(),t._xhr=null,t.trigger("error","http")}),t._xhr=n,n},_setRequestHeader:function(e,t){r.each(t,function(t,n){e.exec("setRequestHeader",t,n)})}})}),t("runtime/flash/blob",["runtime/flash/runtime","lib/blob"],function(e,t){return e.register("Blob",{slice:function(e,n){var i=this.flashExec("Blob","slice",e,n);return new t(i.uid,i)}})}),t("runtime/flash/md5",["runtime/flash/runtime"],function(e){return e.register("Md5",{init:function(){},loadFromBlob:function(e){return this.flashExec("Md5","loadFromBlob",e.uid)}})}),t("preset/all",["base","widgets/filednd","widgets/filepaste","widgets/filepicker","widgets/image","widgets/queue","widgets/runtime","widgets/upload","widgets/validator","widgets/md5","runtime/html5/blob","runtime/html5/dnd","runtime/html5/filepaste","runtime/html5/filepicker","runtime/html5/imagemeta/exif","runtime/html5/androidpatch","runtime/html5/image","runtime/html5/transport","runtime/html5/md5","runtime/flash/filepicker","runtime/flash/image","runtime/flash/transport","runtime/flash/blob","runtime/flash/md5"],function(e){return e}),t("widgets/log",["base","uploader","widgets/widget"],function(e,t){function n(e){var t=r.extend({},i,e),n=o.replace(/^(.*)\?/,"$1"+r.param(t)),s=new Image;s.src=n}var i,r=e.$,o=" http://static.tieba.baidu.com/tb/pms/img/st.gif??",s=(location.hostname||location.host||"protected").toLowerCase(),a=s&&/baidu/i.exec(s);if(a)return i={dv:3,master:"webuploader",online:/test/.exec(s)?0:1,module:"",product:s,type:0},t.register({name:"log",init:function(){var e=this.owner,t=0,i=0;e.on("error",function(e){n({type:2,c_error_code:e})}).on("uploadError",function(e,t){n({type:2,c_error_code:"UPLOAD_ERROR",c_reason:""+t})}).on("uploadComplete",function(e){t++,i+=e.size}).on("uploadFinished",function(){n({c_count:t,c_size:i}),t=i=0}),n({c_usage:1})}})}),t("webuploader",["preset/all","widgets/log"],function(e){return e}),n("webuploader")})},function(e,t,n){"use strict";function i(){var e;try{e=navigator.plugins["Shockwave Flash"],e=e.description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(n){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1],10)}function r(e){var t=$(e.pick.id||"#filePicker"),n=i();return!o.Uploader.support("flash")&&o.browser.ie?void(n?!function(t){window.expressinstallcallback=function(e){switch(e){case"Download.Cancelled":alert("您取消了更新！");break;case"Download.Failed":alert("安装失败");break;default:alert("安装已成功，请刷新！")}delete window.expressinstallcallback};var n=e.swf||"http://s1.pdim.gs/static/55803010f95d258a.swf",i='<object type="application/x-shockwave-flash" data="'+n+'" ';o.browser.ie&&(i+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),i+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+n+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',t.html(i)}(t):t.html('<a href="http://www.adobe.com/go/getflashplayer" target="_blank" border="0"><img alt="get flash player" src="https://www.adobe.com/macromedia/style_guide/images/160x41_Get_Flash_Player.jpg" /></a>')):o.Uploader.support()?void 0:void alert("Web Uploader 不支持您的浏览器！")}var o=n(118);e.exports={check:r}},,,,,function(e,t,n){"use strict";e.exports=n(125)},function(e,t,n){"use strict";function i(e){e.fn.perfectScrollbar=function(e){return this.each(function(){if("object"==typeof e||"undefined"==typeof e){var t=e;o.get(this)||r.initialize(this,t)}else{var n=e;"update"===n?r.update(this):"destroy"===n&&r.destroy(this)}})}}var r=n(126),o=n(131);e.exports=i},function(e,t,n){"use strict";var i=n(127),r=n(135),o=n(145);e.exports={initialize:r,update:o,destroy:i}},function(e,t,n){"use strict";var i=n(128),r=n(130),o=n(131);e.exports=function(e){var t=o.get(e);t&&(t.event.unbindAll(),r.remove(t.scrollbarX),r.remove(t.scrollbarY),r.remove(t.scrollbarXRail),r.remove(t.scrollbarYRail),i.removePsClasses(e),o.remove(e))}},function(e,t,n){"use strict";var i=n(129),r=n(130),o=t.toInt=function(e){return parseInt(e,10)||0},s=t.clone=function(e){if(e){if(e.constructor===Array)return e.map(s);if("object"==typeof e){var t={};for(var n in e)t[n]=s(e[n]);return t}return e}return null};t.extend=function(e,t){var n=s(e);for(var i in t)n[i]=s(t[i]);return n},t.isEditable=function(e){return r.matches(e,"input,[contenteditable]")||r.matches(e,"select,[contenteditable]")||r.matches(e,"textarea,[contenteditable]")||r.matches(e,"button,[contenteditable]")},t.removePsClasses=function(e){for(var t=i.list(e),n=0;n<t.length;n++){var r=t[n];0===r.indexOf("ps-")&&i.remove(e,r)}},t.outerWidth=function(e){return o(r.css(e,"width"))+o(r.css(e,"paddingLeft"))+o(r.css(e,"paddingRight"))+o(r.css(e,"borderLeftWidth"))+o(r.css(e,"borderRightWidth"))},t.startScrolling=function(e,t){i.add(e,"ps-in-scrolling"),"undefined"!=typeof t?i.add(e,"ps-"+t):(i.add(e,"ps-x"),i.add(e,"ps-y"))},t.stopScrolling=function(e,t){i.remove(e,"ps-in-scrolling"),"undefined"!=typeof t?i.remove(e,"ps-"+t):(i.remove(e,"ps-x"),i.remove(e,"ps-y"))},t.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},function(e,t){"use strict";function n(e,t){var n=e.className.split(" ");n.indexOf(t)<0&&n.push(t),e.className=n.join(" ")}function i(e,t){var n=e.className.split(" "),i=n.indexOf(t);i>=0&&n.splice(i,1),e.className=n.join(" ")}t.add=function(e,t){e.classList?e.classList.add(t):n(e,t)},t.remove=function(e,t){e.classList?e.classList.remove(t):i(e,t)},t.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},function(e,t){"use strict";function n(e,t){return window.getComputedStyle(e)[t]}function i(e,t,n){return"number"==typeof n&&(n=n.toString()+"px"),e.style[t]=n,e}function r(e,t){for(var n in t){var i=t[n];"number"==typeof i&&(i=i.toString()+"px"),e.style[n]=i}return e}var o={};o.e=function(e,t){var n=document.createElement(e);return n.className=t,n},o.appendTo=function(e,t){return t.appendChild(e),e},o.css=function(e,t,o){return"object"==typeof t?r(e,t):"undefined"==typeof o?n(e,t):i(e,t,o)},o.matches=function(e,t){return"undefined"!=typeof e.matches?e.matches(t):"undefined"!=typeof e.matchesSelector?e.matchesSelector(t):"undefined"!=typeof e.webkitMatchesSelector?e.webkitMatchesSelector(t):"undefined"!=typeof e.mozMatchesSelector?e.mozMatchesSelector(t):"undefined"!=typeof e.msMatchesSelector?e.msMatchesSelector(t):void 0},o.remove=function(e){"undefined"!=typeof e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},o.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return o.matches(e,t)})},e.exports=o},function(e,t,n){"use strict";function i(e){function t(){l.add(e,"ps-focus")}function n(){l.remove(e,"ps-focus")}var i=this;i.settings=a.clone(c),i.containerWidth=null,i.containerHeight=null,i.contentWidth=null,i.contentHeight=null,i.isRtl="rtl"===u.css(e,"direction"),i.isNegativeScroll=function(){var t=e.scrollLeft,n=null;return e.scrollLeft=-1,n=e.scrollLeft<0,e.scrollLeft=t,n}(),i.negativeScrollAdjustment=i.isNegativeScroll?e.scrollWidth-e.clientWidth:0,i.event=new h,i.ownerDocument=e.ownerDocument||document,i.scrollbarXRail=u.appendTo(u.e("div","ps-scrollbar-x-rail"),e),i.scrollbarX=u.appendTo(u.e("div","ps-scrollbar-x"),i.scrollbarXRail),i.scrollbarX.setAttribute("tabindex",0),i.event.bind(i.scrollbarX,"focus",t),i.event.bind(i.scrollbarX,"blur",n),i.scrollbarXActive=null,i.scrollbarXWidth=null,i.scrollbarXLeft=null,i.scrollbarXBottom=a.toInt(u.css(i.scrollbarXRail,"bottom")),i.isScrollbarXUsingBottom=i.scrollbarXBottom===i.scrollbarXBottom,i.scrollbarXTop=i.isScrollbarXUsingBottom?null:a.toInt(u.css(i.scrollbarXRail,"top")),i.railBorderXWidth=a.toInt(u.css(i.scrollbarXRail,"borderLeftWidth"))+a.toInt(u.css(i.scrollbarXRail,"borderRightWidth")),u.css(i.scrollbarXRail,"display","block"),i.railXMarginWidth=a.toInt(u.css(i.scrollbarXRail,"marginLeft"))+a.toInt(u.css(i.scrollbarXRail,"marginRight")),u.css(i.scrollbarXRail,"display",""),i.railXWidth=null,i.railXRatio=null,i.scrollbarYRail=u.appendTo(u.e("div","ps-scrollbar-y-rail"),e),i.scrollbarY=u.appendTo(u.e("div","ps-scrollbar-y"),i.scrollbarYRail),i.scrollbarY.setAttribute("tabindex",0),i.event.bind(i.scrollbarY,"focus",t),i.event.bind(i.scrollbarY,"blur",n),i.scrollbarYActive=null,i.scrollbarYHeight=null,i.scrollbarYTop=null,i.scrollbarYRight=a.toInt(u.css(i.scrollbarYRail,"right")),i.isScrollbarYUsingRight=i.scrollbarYRight===i.scrollbarYRight,i.scrollbarYLeft=i.isScrollbarYUsingRight?null:a.toInt(u.css(i.scrollbarYRail,"left")),i.scrollbarYOuterWidth=i.isRtl?a.outerWidth(i.scrollbarY):null,i.railBorderYWidth=a.toInt(u.css(i.scrollbarYRail,"borderTopWidth"))+a.toInt(u.css(i.scrollbarYRail,"borderBottomWidth")),u.css(i.scrollbarYRail,"display","block"),i.railYMarginHeight=a.toInt(u.css(i.scrollbarYRail,"marginTop"))+a.toInt(u.css(i.scrollbarYRail,"marginBottom")),u.css(i.scrollbarYRail,"display",""),i.railYHeight=null,i.railYRatio=null}function r(e){return e.getAttribute("data-ps-id")}function o(e,t){e.setAttribute("data-ps-id",t)}function s(e){e.removeAttribute("data-ps-id")}var a=n(128),l=n(129),c=n(132),u=n(130),h=n(133),f=n(134),d={};t.add=function(e){var t=f();return o(e,t),d[t]=new i(e),d[t]},t.remove=function(e){delete d[r(e)],s(e)},t.get=function(e){return d[r(e)]}},function(e,t){"use strict";e.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},function(e,t){"use strict";var n=function(e){this.element=e,this.events={}};n.prototype.bind=function(e,t){"undefined"==typeof this.events[e]&&(this.events[e]=[]),this.events[e].push(t),$(this.element).on(e,t)},n.prototype.unbind=function(e,t){var n="undefined"!=typeof t;this.events[e]=this.events[e].filter(function(i){return!(!n||i===t)||($(this.element).off(e,i),!1)},this)},n.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var i=function(){this.eventElements=[]};i.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return"undefined"==typeof t&&(t=new n(e),this.eventElements.push(t)),t},i.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},i.prototype.unbind=function(e,t,n){this.eventElement(e).unbind(t,n)},i.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},i.prototype.once=function(e,t,n){var i=this.eventElement(e),r=function(e){i.unbind(t,r),n(e)};i.bind(t,r)},e.exports=i},function(e,t){"use strict";e.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},function(e,t,n){"use strict";var i=n(128),r=n(129),o=n(131),s=n(136),a={"click-rail":n(138),"drag-scrollbar":n(139),keyboard:n(140),wheel:n(141),touch:n(142),selection:n(143)},l=n(144);e.exports=function(e,t){t="object"==typeof t?t:{},r.add(e,"ps-container");var n=o.add(e);n.settings=i.extend(n.settings,t),r.add(e,"ps-theme-"+n.settings.theme),n.settings.handlers.forEach(function(t){a[t](e)}),l(e),s(e)}},function(e,t,n){"use strict";function i(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function r(e,t){var n={width:t.railXWidth};t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft,t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-e.scrollTop:n.top=t.scrollbarXTop+e.scrollTop,a.css(t.scrollbarXRail,n);var i={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?i.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:i.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:i.left=t.scrollbarYLeft+e.scrollLeft,a.css(t.scrollbarYRail,i),a.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),a.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}var o=n(128),s=n(129),a=n(130),l=n(131),c=n(137);e.exports=function(e){var t=l.get(e);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight;var n;e.contains(t.scrollbarXRail)||(n=a.queryChildren(e,".ps-scrollbar-x-rail"),n.length>0&&n.forEach(function(e){a.remove(e)}),a.appendTo(t.scrollbarXRail,e)),e.contains(t.scrollbarYRail)||(n=a.queryChildren(e,".ps-scrollbar-y-rail"),n.length>0&&n.forEach(function(e){a.remove(e)}),a.appendTo(t.scrollbarYRail,e)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=i(t,o.toInt(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=o.toInt((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=i(t,o.toInt(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=o.toInt(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),r(e,t),t.scrollbarXActive?s.add(e,"ps-active-x"):(s.remove(e,"ps-active-x"),t.scrollbarXWidth=0,t.scrollbarXLeft=0,c(e,"left",0)),t.scrollbarYActive?s.add(e,"ps-active-y"):(s.remove(e,"ps-active-y"),t.scrollbarYHeight=0,t.scrollbarYTop=0,c(e,"top",0))}},function(e,t,n){"use strict";var i,r,o=n(131),s=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t};e.exports=function(e,t,n){if("undefined"==typeof e)throw"You must provide an element to the update-scroll function";if("undefined"==typeof t)throw"You must provide an axis to the update-scroll function";if("undefined"==typeof n)throw"You must provide a value to the update-scroll function";"top"===t&&n<=0&&(e.scrollTop=n=0,e.dispatchEvent(s("ps-y-reach-start"))),"left"===t&&n<=0&&(e.scrollLeft=n=0,e.dispatchEvent(s("ps-x-reach-start")));var a=o.get(e);"top"===t&&n>=a.contentHeight-a.containerHeight&&(n=a.contentHeight-a.containerHeight,n-e.scrollTop<=1?n=e.scrollTop:e.scrollTop=n,e.dispatchEvent(s("ps-y-reach-end"))),"left"===t&&n>=a.contentWidth-a.containerWidth&&(n=a.contentWidth-a.containerWidth,n-e.scrollLeft<=1?n=e.scrollLeft:e.scrollLeft=n,e.dispatchEvent(s("ps-x-reach-end"))),i||(i=e.scrollTop),r||(r=e.scrollLeft),"top"===t&&n<i&&e.dispatchEvent(s("ps-scroll-up")),"top"===t&&n>i&&e.dispatchEvent(s("ps-scroll-down")),"left"===t&&n<r&&e.dispatchEvent(s("ps-scroll-left")),"left"===t&&n>r&&e.dispatchEvent(s("ps-scroll-right")),"top"===t&&(e.scrollTop=i=n,e.dispatchEvent(s("ps-scroll-y"))),"left"===t&&(e.scrollLeft=r=n,e.dispatchEvent(s("ps-scroll-x")))}},function(e,t,n){"use strict";function i(e,t){function n(e){return e.getBoundingClientRect()}var i=function(e){e.stopPropagation()};t.event.bind(t.scrollbarY,"click",i),t.event.bind(t.scrollbarYRail,"click",function(i){var r=i.pageY-window.pageYOffset-n(t.scrollbarYRail).top,a=r>t.scrollbarYTop?1:-1;s(e,"top",e.scrollTop+a*t.containerHeight),o(e),i.stopPropagation()}),t.event.bind(t.scrollbarX,"click",i),t.event.bind(t.scrollbarXRail,"click",function(i){var r=i.pageX-window.pageXOffset-n(t.scrollbarXRail).left,a=r>t.scrollbarXLeft?1:-1;s(e,"left",e.scrollLeft+a*t.containerWidth),o(e),i.stopPropagation()})}var r=n(131),o=n(136),s=n(137);e.exports=function(e){var t=r.get(e);i(e,t)}},function(e,t,n){"use strict";function i(e,t){function n(n){var r=i+n*t.railXRatio,s=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);r<0?t.scrollbarXLeft=0:r>s?t.scrollbarXLeft=s:t.scrollbarXLeft=r;var a=o.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment;c(e,"left",a)}var i=null,r=null,a=function(t){n(t.pageX-r),l(e),t.stopPropagation(),t.preventDefault()},u=function(){o.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",a)};t.event.bind(t.scrollbarX,"mousedown",function(n){r=n.pageX,i=o.toInt(s.css(t.scrollbarX,"left"))*t.railXRatio,o.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",a),t.event.once(t.ownerDocument,"mouseup",u),n.stopPropagation(),n.preventDefault()})}function r(e,t){function n(n){var r=i+n*t.railYRatio,s=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);r<0?t.scrollbarYTop=0:r>s?t.scrollbarYTop=s:t.scrollbarYTop=r;var a=o.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight));c(e,"top",a)}var i=null,r=null,a=function(t){n(t.pageY-r),l(e),t.stopPropagation(),t.preventDefault()},u=function(){o.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",a)};t.event.bind(t.scrollbarY,"mousedown",function(n){r=n.pageY,i=o.toInt(s.css(t.scrollbarY,"top"))*t.railYRatio,o.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",a),t.event.once(t.ownerDocument,"mouseup",u),n.stopPropagation(),n.preventDefault()})}var o=n(128),s=n(130),a=n(131),l=n(136),c=n(137);e.exports=function(e){var t=a.get(e);i(e,t),r(e,t)}},function(e,t,n){"use strict";function i(e,t){function n(n,i){var r=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===r&&i>0||r>=t.contentHeight-t.containerHeight&&i<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===i){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}function i(e){switch(e.nodeName.toLowerCase()){case"select":
case"textarea":case"input":case"video":case"embed":case"object":return!1}return!0}var s=!1;t.event.bind(e,"mouseenter",function(){s=!0}),t.event.bind(e,"mouseleave",function(){s=!1});var c=!1;t.event.bind(t.ownerDocument,"keydown",function(u){if(!(u.isDefaultPrevented&&u.isDefaultPrevented()||u.defaultPrevented)){var h=o.matches(t.scrollbarX,":focus")||o.matches(t.scrollbarY,":focus");if(i(u.target)&&(s||h)){var f=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(f){if("IFRAME"===f.tagName)f=f.contentDocument.activeElement;else for(;f.shadowRoot;)f=f.shadowRoot.activeElement;if(r.isEditable(f))return}var d=0,p=0;switch(u.which){case 37:d=u.metaKey?-t.contentWidth:u.altKey?-t.containerWidth:-30;break;case 38:p=u.metaKey?t.contentHeight:u.altKey?t.containerHeight:30;break;case 39:d=u.metaKey?t.contentWidth:u.altKey?t.containerWidth:30;break;case 40:p=u.metaKey?-t.contentHeight:u.altKey?-t.containerHeight:-30;break;case 33:p=600;break;case 32:p=u.shiftKey?300:-300;break;case 34:p=-600;break;case 35:p=u.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:p=u.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}l(e,"top",e.scrollTop-p),l(e,"left",e.scrollLeft+d),a(e),c=n(d,p),c&&u.preventDefault()}}})}var r=n(128),o=n(130),s=n(131),a=n(136),l=n(137);e.exports=function(e){var t=s.get(e);i(e,t)}},function(e,t,n){"use strict";function i(e,t){function n(n,i){var r=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===r&&i>0||r>=t.contentHeight-t.containerHeight&&i<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===i){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}function i(e){var t=e.deltaX,n=-1*e.deltaY;return"undefined"!=typeof t&&"undefined"!=typeof n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!==t&&n!==n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}function r(t,n){var i=e.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(i){if(!window.getComputedStyle(i).overflow.match(/(scroll|auto)/))return!1;var r=i.scrollHeight-i.clientHeight;if(r>0&&!(0===i.scrollTop&&n>0||i.scrollTop===r&&n<0))return!0;var o=i.scrollLeft-i.clientWidth;if(o>0&&!(0===i.scrollLeft&&t<0||i.scrollLeft===o&&t>0))return!0}return!1}function a(a){a=a.originalEvent||a;var c=i(a),u=c[0],h=c[1];r(u,h)||(l=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(h?s(e,"top",e.scrollTop-h*t.settings.wheelSpeed):s(e,"top",e.scrollTop+u*t.settings.wheelSpeed),l=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(u?s(e,"left",e.scrollLeft+u*t.settings.wheelSpeed):s(e,"left",e.scrollLeft-h*t.settings.wheelSpeed),l=!0):(s(e,"top",e.scrollTop-h*t.settings.wheelSpeed),s(e,"left",e.scrollLeft+u*t.settings.wheelSpeed)),o(e),l=l||n(u,h),l&&(a.stopPropagation(),a.preventDefault()))}var l=!1;"undefined"!=typeof window.onwheel?t.event.bind(e,"wheel",a):"undefined"!=typeof window.onmousewheel?t.event.bind(e,"mousewheel",a):t.event.bind(e,"mousewheel",a)}var r=n(131),o=n(136),s=n(137);e.exports=function(e){var t=r.get(e);i(e,t)}},function(e,t,n){"use strict";function i(e,t,n,i){function r(n,i){var r=e.scrollTop,o=e.scrollLeft,s=Math.abs(n),a=Math.abs(i);if(a>s){if(i<0&&r===t.contentHeight-t.containerHeight||i>0&&0===r)return!t.settings.swipePropagation}else if(s>a&&(n<0&&o===t.contentWidth-t.containerWidth||n>0&&0===o))return!t.settings.swipePropagation;return!0}function l(t,n){a(e,"top",e.scrollTop-n),a(e,"left",e.scrollLeft-t),s(e)}function c(){y=!0}function u(){y=!1}function h(e){return e=e.originalEvent||e,e.targetTouches?e.targetTouches[0]:e}function f(e){return e=e.originalEvent||e,!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function d(e){if(f(e)){w=!0;var t=h(e);m.pageX=t.pageX,m.pageY=t.pageY,v=(new Date).getTime(),null!==b&&clearInterval(b),e.stopPropagation()}}function p(e){if(!w&&t.settings.swipePropagation&&d(e),!y&&w&&f(e)){var n=h(e),i={pageX:n.pageX,pageY:n.pageY},o=i.pageX-m.pageX,s=i.pageY-m.pageY;l(o,s),m=i;var a=(new Date).getTime(),c=a-v;c>0&&(_.x=o/c,_.y=s/c,v=a),r(o,s)&&(e.stopPropagation(),e.preventDefault())}}function g(){!y&&w&&(w=!1,clearInterval(b),b=setInterval(function(){return o.get(e)&&(_.x||_.y)?Math.abs(_.x)<.01&&Math.abs(_.y)<.01?void clearInterval(b):(l(30*_.x,30*_.y),_.x*=.8,void(_.y*=.8)):void clearInterval(b)},10))}var m={},v=0,_={},b=null,y=!1,w=!1;n?(t.event.bind(window,"touchstart",c),t.event.bind(window,"touchend",u),t.event.bind(e,"touchstart",d),t.event.bind(e,"touchmove",p),t.event.bind(e,"touchend",g)):i&&(window.PointerEvent?(t.event.bind(window,"pointerdown",c),t.event.bind(window,"pointerup",u),t.event.bind(e,"pointerdown",d),t.event.bind(e,"pointermove",p),t.event.bind(e,"pointerup",g)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",c),t.event.bind(window,"MSPointerUp",u),t.event.bind(e,"MSPointerDown",d),t.event.bind(e,"MSPointerMove",p),t.event.bind(e,"MSPointerUp",g)))}var r=n(128),o=n(131),s=n(136),a=n(137);e.exports=function(e){if(r.env.supportsTouch||r.env.supportsIePointer){var t=o.get(e);i(e,t,r.env.supportsTouch,r.env.supportsIePointer)}}},function(e,t,n){"use strict";function i(e,t){function n(){var e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===e.toString().length?null:e.getRangeAt(0).commonAncestorContainer}function i(){c||(c=setInterval(function(){return o.get(e)?(a(e,"top",e.scrollTop+u.top),a(e,"left",e.scrollLeft+u.left),void s(e)):void clearInterval(c)},50))}function l(){c&&(clearInterval(c),c=null),r.stopScrolling(e)}var c=null,u={top:0,left:0},h=!1;t.event.bind(t.ownerDocument,"selectionchange",function(){e.contains(n())?h=!0:(h=!1,l())}),t.event.bind(window,"mouseup",function(){h&&(h=!1,l())}),t.event.bind(window,"keyup",function(){h&&(h=!1,l())}),t.event.bind(window,"mousemove",function(t){if(h){var n={x:t.pageX,y:t.pageY},o={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};n.x<o.left+3?(u.left=-5,r.startScrolling(e,"x")):n.x>o.right-3?(u.left=5,r.startScrolling(e,"x")):u.left=0,n.y<o.top+3?(o.top+3-n.y<5?u.top=-5:u.top=-20,r.startScrolling(e,"y")):n.y>o.bottom-3?(n.y-o.bottom+3<5?u.top=5:u.top=20,r.startScrolling(e,"y")):u.top=0,0===u.top&&0===u.left?l():i()}})}var r=n(128),o=n(131),s=n(136),a=n(137);e.exports=function(e){var t=o.get(e);i(e,t)}},function(e,t,n){"use strict";function i(e,t){t.event.bind(e,"scroll",function(){o(e)})}var r=n(131),o=n(136);e.exports=function(e){var t=r.get(e);i(e,t)}},function(e,t,n){"use strict";var i=n(128),r=n(130),o=n(131),s=n(136),a=n(137);e.exports=function(e){var t=o.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,r.css(t.scrollbarXRail,"display","block"),r.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=i.toInt(r.css(t.scrollbarXRail,"marginLeft"))+i.toInt(r.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=i.toInt(r.css(t.scrollbarYRail,"marginTop"))+i.toInt(r.css(t.scrollbarYRail,"marginBottom")),r.css(t.scrollbarXRail,"display","none"),r.css(t.scrollbarYRail,"display","none"),s(e),a(e,"top",e.scrollTop),a(e,"left",e.scrollLeft),r.css(t.scrollbarXRail,"display",""),r.css(t.scrollbarYRail,"display",""))}},,,,,function(e,t){e.exports={LIVE_PLAYING:2,LIVE_STOP:3,LIVE_BAN:4}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e,t,n,i){switch(t){case"==":return e==n?i.fn(this):i.inverse(this);case"!=":return e!=n?i.fn(this):i.inverse(this);case"===":return e===n?i.fn(this):i.inverse(this);case"!==":return e!==n?i.fn(this):i.inverse(this);case"<":return e<n?i.fn(this):i.inverse(this);case">":return e>n?i.fn(this):i.inverse(this);case">=":return e>=n?i.fn(this):i.inverse(this);case"<=":return e<=n?i.fn(this):i.inverse(this);case"&&":return e&&n?i.fn(this):i.inverse(this);case"||":return e||n?i.fn(this):i.inverse(this);default:return i.inverse(this)}}},,,function(e,t){"use strict";function n(e,t){t=t||{},this.$box=i(e),this.initEvent(),this.beforePageUpdate=t.beforePageUpdate||function(){},this.onPageUpdate=t.onPageUpdate||function(){},this.data={totalPage:t.totalPage||0,current:t.current||0,total:t.total||0},this.data.totalPage>0&&this.setHtml()}var i=jQuery,r=n.prototype;r.initEvent=function(){var e=this;e.$box.on("click","a",function(t){t.preventDefault();var n=i(t.target);if(!n.is(".disabled")&&!n.is(".selected"))return n.is(".j-page-prev")?(e.update({current:e.data.current-1}),"prev"):n.is(".j-page-next")?(e.update({current:e.data.current+1}),"next"):n.is(".page-component-submit")?(e.goPage(),"custom"):void e.update({current:n.html()})})},r.getHtml=function(){var e={},t=this.data,n='<div class="page-component-container">';if(t.totalPage<=1)return n+"</div>";n+='<div class="page-component">',e.start=t.current-2,e.start<=3&&(e.start=1),e.end=t.current+2,1===e.start&&t.current<4&&(e.end=e.start+4),e.end>=t.totalPage-2&&(e.end=t.totalPage),5<t.totalPage&&4>e.end-e.start&&(e.start=e.end-4),4>e.start&&(e.start=1),n+=t.current>1?'<a href="#" class="j-page-prev">上一页</a>':'<a href="#" class="j-page-prev disabled">上一页</a>',e.start>3&&(n+='<a href="#">1</a><b>…</b>');for(var i=e.start;i<=e.end;i++)n+=i===t.current?'<a href="#" class="selected">'+i+"</a>":'<a href="#">'+i+"</a>";return 2<=t.totalPage-e.end&&(n+='<b>…</b><a href="#">'+t.totalPage+"</a>"),n+=t.current<t.totalPage?'<a href="#" class="j-page-next">下一页</a>':'<a href="#" class="j-page-next disabled">下一页</a>',n+='<span class="page-component-jumppage">跳转到：</span><input type="text" class="page-component-jumptxt"><a href="#" class="page-component-submit">GO</a>',n+="</div></div>"},r.setHtml=function(){var e=this;i(".page-component-jumptxt",e.$box).off(),e.$box.html(e.getHtml()),i(".page-component-jumptxt",e.$box).on("keydown",function(t){13===t.which&&e.goPage()})},r.updateData=function(e){e=e||{},e.current&&(e.current=e.current-0),e.total&&(e.total=e.total-0),e.totalPage&&(e.totalPage=e.totalPage-0),i.extend(this.data,e)},r.update=function(e){this.beforePageUpdate&&this.beforePageUpdate(e)===!1||(this.updateData(e),this.setHtml(),this.onPageUpdate&&this.onPageUpdate(this.data))},r.goPage=function(){var e=i.trim(this.$box.find(".page-component-jumptxt").val());e&&(e=parseInt(e,10)||1,e<1?e=1:this.data.totalPage>0&&e>this.data.totalPage&&(e=this.data.totalPage),this.update({current:e}))},e.exports={init:function(e,t){return new n(e,t)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i="https://i.h2.pdim.gs/ae367bf95661b4723ba68069955e06c2.jpg",r=n(210),o=window.PDR&&PDR.getStaticSslUrl?PDR.getStaticSslUrl:function(e){return PDR.ssl&&e?e.replace(/^http:\/\/(i|s)([0-9])\.pdim\.gs/,function(e,t,n){return"i"===t?n>4?"https://i.h2.pdim.gs":"https://p.ssl.qhimg.com":"https://s.h2.pdim.gs"}):e},s=window.PDR&&PDR.parseUrl?function(e){var t=PDR.parseUrl(e);return t.path="/dmfd/200_200_100"+("/"===t.path[0]?t.path:"/"+t.path),PDR.formatUrl(t)}:function(e){var t=document.createElement("a");return t.href=e,t.protocol+"//"+t.hostname+"/dmfd/200_200_100"+("/"===t.pathname[0]?t.pathname:"/"+t.pathname)};e.exports=function(e){return e=e||i,e.indexOf("/dmfd/")===-1&&("http://i3.pdim.gs/t01d6c1f188a949e62f.jpg"===e&&(e=i),e=s(e)),e=o(e),e=r(e)}},function(e,t){"use strict";function n(e){var t=/^(https?:\/\/i[5-9]?\.((h2|ssl)\.)?pdim.gs\/[^.]*)\.(jpg|jpeg|png)$/i;return e.replace(t,"$1.webp")}e.exports=function(e){return PDR.isSupportWebp&&e?n(e):e}},,,,,,,,,,,,,,,function(e,t){e.exports=function(e,t){return e+t}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(210);e.exports=function(e){var t=PDR.ssl&&e?PDR.getStaticSslUrl(e):e;return i(t)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(){p.init("#side-tools-bar"),h.initialize({api:function(){return u?"/ajax_sort":"/live_lists?status=2&order=person_num"},ajaxData:function(){return{classification:u}}}),g.initialize({ulList:"video-list"}),$("#main-container").css("visibility","visible"),f.on("sidebar-collapsed",function(){$(".pd-sc-container").removeClass("open-state").addClass("close-state"),g.refresh()}),f.on("sidebar-expanded",function(){$(".pd-sc-container").removeClass("close-state").addClass("open-state"),g.refresh()}),s();var e=$("#later-play-list").data("total");c=m.init("#pages-container",{totalPage:Math.ceil(e/h.getPageNum()),total:e,current:1,beforePageUpdate:function(){return!h.isLoading()},onPageUpdate:function(e){h.loadPage(e.current,r,o),b.pageUpdate(e.current)}}),g.refresh(),a(),l(),b.init($("#later-play-list"),1)}function r(e,t){if(u&&e.items&&e.items.length>0)for(var n=e.items,i=0;i<n.length;i++)n[i].top_icon=0;h.setTotal(e.total),t!==!1&&$(window).scrollTop(0),e.hideTag=!0,$.each(e.items,function(){this.tag&&(2!=this.tag_switch&&4!=this.tag_switch||(this.isShowTag=!0)),this.ticket_rank_info&&this.ticket_rank_info.rank&&this.ticket_rank_info.rank>-1&&this.ticket_rank_info.rank<20&&(this.showTicketInfo=!0)}),e.cateslider&&(e.cateslider=[]),e.sliderdata&&(e.sliderdata=[]);var r=d(e);$("#later-play-list").html(r),g.refresh(),s(),c.updateData({totalPage:Math.ceil(e.total/h.getPageNum()),total:e.total,current:h.getCurrent()}),c.setHtml()}function o(e){}function s(){$("#main-container .video-img-lazy").lazyload({placeholder_real_img:"https://i.h2.pdim.gs/fb1ce048735c6a85ef7954af26e90e81.gif",effect:"fadeIn",container:$("#main-container")})}function a(){var e=$(".later-play-container .list-header-hots");e.on("click","a",function(t){var n=$(t.currentTarget),i=n.data("cate");i&&(t.preventDefault(),n.hasClass("selected")||(e.find(".selected").removeClass("selected"),n.addClass("selected"),u="__all__"===i?"":i,h.loadPage(1,function(e){r(e,!1)},o),b.pageUpdate(1)))})}function l(){_.init(y).done(function(e){e.L01&&e.L01.content&&($(".alllives-plouto").html(v(e.L01)).show(),_.log(["L01"]))})}var c,u,h=n(466),f=n(13),d=n(467),p=n(469),g=n(491),m=n(177),v=n(492),_=n(493),b=n(495),y={ids:["L01"]},w=$('<div style="display:none;"></div>');$(function(){$("body").append(w)}),i()},function(e,t){"use strict";function n(e){return"[object Function]"===Object.prototype.toString.call(e)}function i(){return f}function r(){return d}function o(){return p}function s(e){p=parseInt(e,10),g=Math.ceil(p/d)}function a(){return v}function l(e,t,i){v||(v=!0,e<1&&(e=1),null!==p&&p>0&&e>g&&(e=g),$.ajax({url:_&&n(_)?_():_,method:"GET",data:$.extend({pageno:e,pagenum:d},b&&n(b)?b():b),dataType:"json"}).done(function(n){f=e,t&&t(n&&n.data||{})}).fail(function(){i&&i()}).always(function(){v=!1}))}function c(e,t){l(f-1,e,t)}function u(e,t){l(f+1,e,t)}function h(e){_=e.api,f=e.currentPage||f,d=e.pagenum||d,p=e.total||p,b=e.ajaxData||b,m=e.errorCode||m}var f=1,d=120,p=null,g=null,m={EMPTY:1,SYSTEM:2},v=!1,_="",b={};e.exports={initialize:h,loadPage:l,prev:c,next:u,getCurrent:i,getPageNum:r,getTotal:o,setTotal:s,isLoading:a}},function(e,t,n){function i(e){return e&&(e.__esModule?e["default"]:e)}var r=n(28);e.exports=(r["default"]||r).template({1:function(e,t,n,i,r){var o;return'   <li class="video-list-item cate-slider-wrapper">\n      <ul class="cate-slider-container">\n'+(null!=(o=n.each.call(null!=t?t:{},null!=t?t.cateslider:t,{name:"each",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))?o:"")+"      </ul>\n   </li>\n"},2:function(e,t,r,o,s){var a=e.lambda,l=e.escapeExpression;return'          <li class="cate-slider-item">\n            <a href="'+l(a(null!=t?t.url:t,t))+'" target="_blank" data-toggle="panda-monitor" data-paew="pc_web-cateslider-'+l(a(null!=t?t.cate:t,t))+"_@index_"+l(a(null!=t?t.recordtime:t,t))+'">\n            <img src="'+l(i(n(252)).call(null!=t?t:{},null!=t?t.pic:t,{name:"convertPic2Https",hash:{},data:s}))+'">\n            <div class="cate-silder-cover"></div>\n            </a>\n          </li>\n'},4:function(e,t,r,o,s,a,l){var c,u=null!=t?t:{},h=e.lambda,f=e.escapeExpression;return'  <li class="video-list-item '+(null!=(c=r["if"].call(u,null!=l[1]?l[1].hideTag:l[1],{name:"if",hash:{},fn:e.program(5,s,0,a,l),inverse:e.noop,data:s}))?c:"")+" "+(null!=(c=r["if"].call(u,null!=l[1]?l[1].hideCate:l[1],{name:"if",hash:{},fn:e.program(7,s,0,a,l),inverse:e.noop,data:s}))?c:"")+" "+(null!=(c=r["if"].call(u,null!=t?t.showhighlight:t,{name:"if",hash:{},fn:e.program(9,s,0,a,l),inverse:e.noop,data:s}))?c:"")+'" data-id="'+f(h(null!=t?t.id:t,t))+'">\n    <a href="/'+f(h(null!=t?t.id:t,t))+'" class="video-list-item-wrap" data-id="'+f(h(null!=t?t.id:t,t))+'">\n'+(null!=(c=r.unless.call(u,null!=t?t.isShowTag:t,{name:"unless",hash:{},fn:e.program(11,s,0,a,l),inverse:e.noop,data:s}))?c:"")+'      <div class="video-cover">\n        <img class="video-img video-img-lazy" data-original="'+f(i(n(252)).call(u,null!=(c=null!=t?t.pictures:t)?c.img:c,{name:"convertPic2Https",hash:{},data:s}))+'" alt="'+f(h(null!=t?t.name:t,t))+'">\n        <div class="video-overlay"></div>\n        <div class="video-play"></div>\n'+(null!=(c=r["if"].call(u,null!=t?t.isShowTag:t,{name:"if",hash:{},fn:e.program(17,s,0,a,l),inverse:e.noop,data:s}))?c:"")+(null!=(c=i(n(174)).call(u,null!=t?t.top_icon:t,"==",1,{name:"ifcond",hash:{},fn:e.program(19,s,0,a,l),inverse:e.noop,data:s}))?c:"")+'      </div>\n      <div class="video-info">\n        <span class="video-title" title="'+f(h(null!=t?t.name:t,t))+'">'+f(h(null!=t?t.name:t,t))+"</span>\n"+(null!=(c=r.unless.call(u,null!=t?t.showhighlight:t,{name:"unless",hash:{},fn:e.program(21,s,0,a,l),inverse:e.noop,data:s}))?c:"")+'        <span class="video-number">'+f(i(n(468)).call(u,null!=t?t.person_num:t,{name:"convert10ThousandNum",hash:{},data:s}))+'</span>\n          <span class="video-station-info">\n            <i class="video-station-num">'+f(h(null!=(c=null!=t?t.ticket_rank_info:t)?c.score:c,t))+"人</i>\n            "+(null!=(c=r["if"].call(u,null!=t?t.showTicketInfo:t,{name:"if",hash:{},fn:e.program(27,s,0,a,l),inverse:e.noop,data:s}))?c:"")+"\n          </span>\n      </div>\n    </a>\n"+(null!=(c=r["if"].call(u,null!=t?t.showhighlight:t,{name:"if",hash:{},fn:e.program(29,s,0,a,l),inverse:e.noop,data:s}))?c:"")+'    <div class="video-label">\n      <div class="video-label-content">\n        <a class="video-label-item label-color-0" href="/cate/'+f(h(null!=(c=null!=t?t.classification:t)?c.ename:c,t))+'">'+f(h(null!=(c=null!=t?t.classification:t)?c.cname:c,t))+"</a>\n"+(null!=(c=r.each.call(u,null!=t?t.label:t,{name:"each",hash:{},fn:e.program(35,s,0,a,l),inverse:e.noop,data:s}))?c:"")+"      </div>\n    </div>\n  </li>\n"},5:function(e,t,n,i,r){return"video-no-tag"},7:function(e,t,n,i,r){return"video-no-cate"},9:function(e,t,n,i,r){return"video-highlight"},11:function(e,t,n,i,r,o,s){var a;return null!=(a=n.unless.call(null!=t?t:{},null!=s[1]?s[1].hideTag:s[1],{name:"unless",hash:{},fn:e.program(12,r,0,o,s),inverse:e.noop,data:r}))?a:""},12:function(e,t,r,o,s){var a,l=null!=t?t:{};return(null!=(a=i(n(174)).call(l,null!=t?t.status:t,"==",2,{name:"ifcond",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?a:"")+(null!=(a=i(n(174)).call(l,null!=t?t.status:t,"==",3,{name:"ifcond",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s}))?a:"")},13:function(e,t,n,i,r){return'            <span class="video-tag video-tag-online">直播中</span>\n'},15:function(e,t,n,i,r){return'            <span class="video-tag video-tag-rest">休息</span>\n'},17:function(e,t,n,i,r){var o=e.lambda,s=e.escapeExpression;return'          <div class="hot-tips hot'+s(o(null!=t?t.tag_color:t,t))+'">'+s(o(null!=t?t.tag:t,t))+"</div>\n"},19:function(e,t,n,i,r){return'          <img class="video-icon-fu" src="https://i.h2.pdim.gs/4e853162ebc83e06ba689786093018dc.png">\n'},21:function(e,t,n,i,r){var o,s=e.lambda,a=e.escapeExpression;return'        <span class="video-nickname" title="'+a(s(null!=(o=null!=t?t.userinfo:t)?o.nickName:o,t))+'">\n'+(null!=(o=n["if"].call(null!=t?t:{},null!=t?t.host_level_info:t,{name:"if",hash:{},fn:e.program(22,r,0),inverse:e.noop,data:r}))?o:"")+"          "+a(s(null!=(o=null!=t?t.userinfo:t)?o.nickName:o,t))+"\n        </span>\n"},22:function(e,t,r,o,s){var a;return null!=(a=i(n(174)).call(null!=t?t:{},null!=(a=null!=t?t.host_level_info:t)?a.vip:a,"==",1,{name:"ifcond",hash:{},fn:e.program(23,s,0),inverse:e.program(25,s,0),data:s}))?a:""},23:function(e,t,n,i,r){return'                  <i class="icon-host-level icon-host-level-vip"></i>\n'},25:function(e,t,n,i,r){var o,s=e.lambda,a=e.escapeExpression;return'                  <i class="icon-host-level icon-host-level-'+a(s(null!=(o=null!=t?t.host_level_info:t)?o.c_lv:o,t))+'" data-level="'+a(s(null!=(o=null!=t?t.host_level_info:t)?o.c_lv:o,t))+'"></i>\n'},27:function(e,t,r,o,s){var a;return'<i class="video-station-rank">| 排名'+e.escapeExpression(i(n(225)).call(null!=t?t:{},null!=(a=null!=t?t.ticket_rank_info:t)?a.rank:a,1,{name:"add",hash:{},data:s}))+"</i>"},29:function(e,t,r,o,s){var a,l=null!=t?t:{},c=e.escapeExpression,u=e.lambda;return'       <div class="user-info">\n        <img class="userinfo-avatar" src="'+c(i(n(209)).call(l,null!=(a=null!=t?t.userinfo:t)?a.avatar:a,{name:"convertAvatar",hash:{},data:s}))+'">\n        <div class="userinfo-desc">\n          <span class="userinfo-nickname">'+c(u(null!=(a=null!=t?t.userinfo:t)?a.nickName:a,t))+"\n"+(null!=(a=r["if"].call(l,null!=t?t.host_level_info:t,{name:"if",hash:{},fn:e.program(30,s,0),inverse:e.noop,data:s}))?a:"")+'          </span>\n          <span class="userinfo-sub-desc" title="'+c(u(null!=t?t.top_description:t,t))+'">'+c(u(null!=t?t.top_description:t,t))+"</span>\n        </div>\n       </div>\n"},30:function(e,t,r,o,s){var a;return null!=(a=i(n(174)).call(null!=t?t:{},null!=(a=null!=t?t.host_level_info:t)?a.vip:a,"==",1,{name:"ifcond",hash:{},fn:e.program(31,s,0),inverse:e.program(33,s,0),data:s}))?a:""},31:function(e,t,n,i,r){return'              <i class="icon-host-level icon-host-level-vip"></i>\n'},33:function(e,t,n,i,r){var o,s=e.lambda,a=e.escapeExpression;return'              <i class="icon-host-level icon-host-level-'+a(s(null!=(o=null!=t?t.host_level_info:t)?o.c_lv:o,t))+'" data-level="'+a(s(null!=(o=null!=t?t.host_level_info:t)?o.c_lv:o,t))+'"></i>\n'},35:function(e,t,n,i,r){var o=e.lambda,s=e.escapeExpression;return'          <a class="video-label-item label-color-'+s(o(null!=t?t.color:t,t))+'" href="/label/'+s(o(null!=t?t.ename:t,t))+'">'+s(o(null!=t?t.cname:t,t))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,o,s){var a,l=null!=t?t:{};return(null!=(a=n["if"].call(l,null!=t?t.cateslider:t,{name:"if",hash:{},fn:e.program(1,r,0,o,s),inverse:e.noop,data:r}))?a:"")+(null!=(a=n.each.call(l,null!=t?t.items:t,{name:"each",hash:{},fn:e.program(4,r,0,o,s),inverse:e.noop,data:r}))?a:"")},useData:!0,useDepths:!0})},function(e,t){e.exports=function(e){return parseInt(e)>9999&&(e=(e/1e4).toFixed(1)+"万"),e}},function(e,t,n){"use strict";function i(){var e=location.pathname||"";return"/myfollow"===e?"follow":"/rank"===e?"rank":""}function r(e,t){PSBar.ob=d;var n=g({page:m.getCurrentPage(),events:p.SIDEBAR_EVENTS}),r={tpl:n,data:p.SIDEBAR_EVENTS||{}};return h=$.extend({},{current:i(),headerEventsPlugins:r,functionalPlugins:m.functionalArray,functionalsmPlugins:m.functionalsmPlugins,chargeDsp:p.CHARGE_DESCRIPTION},t),o(),PSBar.init(e,h)}function o(){d.on("sidebar-init",s)}function s(e){e=e||{};var t=e.ct;t.on("click",".sidebar-functional-item.multiscreen",a),f.restoreStatus()}function a(e){e.preventDefault(),f.show(),PANDA_MONITOR.nlog({pae:"click",paew:"multi_screen-show-click"})}function l(){PSBar.expand()}function c(){PSBar.collapse()}function u(e,t){return PSBar.userinfoInit(e,t)}n(124)(window.jQuery);var h,f=n(470),d=n(13),p=n(78),g=n(483),m=n(484);e.exports={init:r,expand:l,collapse:c,userinfoInit:u}},function(e,t,n){"use strict";function i(e,t){return I=t||{},x=$(e||"body"),x.append(T()),k=x.find(".multi-screen"),E=k.find(".multi-screen-error-msg"),I.hideFriendlyNotice||C.init(x.find(".multi-screen-friendly-notice"),$.extend({},I)),P.init(k,I),D.init(),$.when(L.init()).then(r).then(o).then(s)}function r(e){var t=$(".multi-screen-item-add");return $.each(e,function(e,n){t.before(n.$el)}),e}function o(){var e=A.get("boxStyle");e&&k.attr("style",e),P.resize(),k.find(".multi-screen-list").fadeIn(),v()}function s(){k.draggable({containment:"window",scroll:!1,stop:a}),k.resizable({stop:a}),k.on("click",".multi-screen-close",c),k.on("click",".multi-screen-video-close",u),k.on("click",".icon-multi-screen-add-room",h),k.on("click",".multi-screen-add-room-cancel",f),k.on("submit",".multi-screen-add-room",d)}function a(){k.css({height:"auto"}),P.resize(),l()}function l(){var e=k.attr("style");e&&A.set("boxStyle",e)}function c(e){e.preventDefault(),_()}function u(e){e.preventDefault(),L.remove($(this).closest(".multi-screen-item").data("id")),P.resize()}function h(e){e.preventDefault(),k.find(".multi-screen-add-room-input").val(""),k.find(".multi-screen-item-add").addClass("multi-screen-add-room-submit")}function f(e){e.preventDefault(),k.find(".multi-screen-item-add").removeClass("multi-screen-add-room-submit")}function d(e){e.preventDefault();var t=$.trim(k.find(".multi-screen-add-room-input").val()),n=/^[1-9]\d*$/g,i=A.get("rooms");return t?n.test(t)?$.inArray(t,i)>-1?(m("roomInList"),!1):void(O||(O=!0,L.add(t).then(r).then(p).fail(g).always(function(){k.find(".multi-screen-add-room-input").blur(),O=!1}))):(m("roomInvalid"),!1):(m("roomEmpty"),!1)}function p(e){if(e&&e.length){if(P.resize(),l(),!I.hideFriendlyNotice){var t=k.find(".multi-screen-item").not(".multi-screen-item-add").length;C.check(t)}}else m("roomAddFail");k.find(".multi-screen-add-room-cancel").click()}function g(){m("roomAddFail")}function m(e){S&&clearTimeout(S),E.text(R[e]?R[e]:"哎呀，出错了").show(),S=setTimeout(function(){E.hide()},2e3)}function v(e){k?k.is(":hidden")&&(b(),k.fadeIn("fast",function(){e&&e(),P.resize(),l()})):i()}function _(e){k&&k.is(":visible")&&(y(),k.fadeOut("fast",function(){e&&e(),l()}))}function b(){L.restoreAllPlayStatus()}function y(){L.pauseAllPlayStatus()}function w(){var e=A.get("boxStyle");e&&e.indexOf("block")>-1&&i()}n(471);var x,I,k,E,S,T=n(472),A=n(473),R=n(474),P=n(475),D=n(476),C=n(481),L=n(478),O=!1;e.exports={init:i,restoreStatus:w,show:v,hide:_}},function(e,t){!function(e){e(jQuery)}(function(e){function t(t,i){var r,o,s,a=t.nodeName.toLowerCase();return"area"===a?(r=t.parentNode,o=r.name,!(!t.href||!o||"map"!==r.nodeName.toLowerCase())&&(s=e("img[usemap='#"+o+"']")[0],!!s&&n(s))):(/^(input|select|textarea|button|object)$/.test(a)?!t.disabled:"a"===a?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),i="absolute"===n,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return(!i||"static"!==t.css("position"))&&r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var i=e.attr(n,"tabindex"),r=isNaN(i);return(r||i>=0)&&t(n,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function i(t,n,i,o){return e.each(r,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?s["inner"+n].call(this):this.each(function(){e(this).css(o,i(this,t)+"px")})},e.fn["outer"+n]=function(t,r){return"number"!=typeof t?s["outer"+n].call(this,t):this.each(function(){e(this).css(o,i(this,t,!0,r)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,i,r=e(this[0]);r.length&&r[0]!==document;){if(n=r.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0}}),e.ui.plugin={add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(e,t,n,i){var r,o=e.plugins[t];if(o&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)e.options[o[r][0]]&&o[r][1].apply(e.element,n)}};var i=0,r=Array.prototype.slice;e.cleanData=function(t){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=e._data(r,"events"),i&&i.remove&&e(r).triggerHandler("remove")}catch(s){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var r,o,s,a,l={},c=t.split(".")[0];return t=t.split(".")[1],r=c+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[c]=e[c]||{},o=e[c][t],s=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),a=new n,a.options=e.widget.extend({},a.options),e.each(i,function(t,i){return e.isFunction(i)?void(l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=o,t}}()):void(l[t]=i)}),s.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||t:t},l,{constructor:s,namespace:c,widgetName:t,widgetFullName:r}),o?(e.each(o._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var n,i,o=r.call(arguments,1),s=0,a=o.length;s<a;s++)for(n in o[s])i=o[s][n],o[s].hasOwnProperty(n)&&void 0!==i&&(e.isPlainObject(i)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],i):e.widget.extend({},i):t[n]=i);return t},e.widget.bridge=function(t,n){var i=n.prototype.widgetFullName||t;e.fn[t]=function(o){var s="string"==typeof o,a=r.call(arguments,1),l=this;return s?this.each(function(){var n,r=e.data(this,i);return"instance"===o?(l=r,!1):r?e.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,a),
n!==r&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):(a.length&&(o=e.widget.extend.apply(null,[o].concat(a))),this.each(function(){var t=e.data(this,i);t?(t.option(o||{}),t._init&&t._init()):e.data(this,i,new n(o,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,r,o,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},i=t.split("."),t=i.shift(),i.length){for(r=s[t]=e.widget.extend({},this.options[t]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(t=i.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=n}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,i){var r,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,s){function a(){if(t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.delegate(u,c,a):n.bind(c,a)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,s=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),s=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&e.effects&&e.effects.effect[a]?i[t](r):a!==t&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}});var o=(e.widget,!1);e(document).mouseup(function(){o=!1});e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,i=1===t.which,r=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),o=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),o=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return this._blurActiveElement(t),!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=this.document[0];if(this.handleElement.is(t.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&e(n.activeElement).blur()}catch(i){}},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper),r=i?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=e(r.containment),i=n[0],void(i&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,i){var r=e.extend({},n,{item:i.element});i.sortables=[],e(i.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,r))})},stop:function(t,n,i){var r=e.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,e.each(i.sortables,function(){var e=this;e.isOver?(e.isOver=0,i.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,r))})},drag:function(t,n,i){e.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,e.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",t),i.dropped=o.element,e.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(t),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(t),n.position=i._generatePosition(t,!0),i._trigger("fromSortable",t),i.dropped=!1,e.each(i.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,i){var r=e("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(t,n,i){var r=i.options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,i){var r=e(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(t,n,i){var r=i.options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,i){var r=i.options,o=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-t.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:t.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-t.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:t.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(t.pageY-e(a).scrollTop()<r.scrollSensitivity?o=e(a).scrollTop(e(a).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<r.scrollSensitivity&&(o=e(a).scrollTop(e(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(t.pageX-e(a).scrollLeft()<r.scrollSensitivity?o=e(a).scrollLeft(e(a).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<r.scrollSensitivity&&(o=e(a).scrollLeft(e(a).scrollLeft()+r.scrollSpeed)))),o!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,i){var r=i.options;i.snapElements=[],e(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var t=e(this),n=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,i){var r,o,s,a,l,c,u,h,f,d,p=i.options,g=p.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,_=n.offset.top,b=_+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)l=i.snapElements[f].left-i.margins.left,c=l+i.snapElements[f].width,u=i.snapElements[f].top-i.margins.top,h=u+i.snapElements[f].height,v<l-g||m>c+g||b<u-g||_>h+g||!e.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==p.snapMode&&(r=Math.abs(u-b)<=g,o=Math.abs(h-_)<=g,s=Math.abs(l-v)<=g,a=Math.abs(c-m)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),d=r||o||s||a,"outer"!==p.snapMode&&(r=Math.abs(u-_)<=g,o=Math.abs(h-b)<=g,s=Math.abs(l-m)<=g,a=Math.abs(c-v)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(r||o||s||a||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=r||o||s||a||d)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,i){var r,o=i.options,s=e.makeArray(e(o.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});s.length&&(r=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each(function(t){e(this).css("zIndex",r+t)}),this.css("zIndex",r+s.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,i){var r=e(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(t,n,i){var r=i.options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}});e.ui.draggable;e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0||(t[i]=1,r=t[i]>0,t[i]=0,r)},_create:function(){var t,n,i,r,o,s=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;n<t.length;n++)i=e.trim(t[n]),o="ui-resizable-"+i,r=e("<div class='ui-resizable-handle "+o+"'></div>"),r.css({zIndex:a.zIndex}),"se"===i&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(r);this._renderAxis=function(t){var n,i,r,o;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=e(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=r&&r[1]?r[1]:"se")}),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(e(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,i,r=!1;for(n in this.handles)i=e(this.handles[n])[0],(i===t.target||e.contains(i,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(t){var n,i,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=e(o.containment).scrollLeft()||0,i+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===r?this.axis+"-resize":r),s.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,i,r=this.originalMousePosition,o=this.axis,s=t.pageX-r.left||0,a=t.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[t,s,a]),this._updateVirtualBoundaries(t.shiftKey),
(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var n,i,r,o,s,a,l,c=this.options,u=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,o=i?0:u.sizeDiff.width,s={width:u.helper.width()-o,height:u.helper.height()-r},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),s&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),o&&c&&(e.left=a-t.minWidth),i&&c&&(e.left=a-t.maxWidth),s&&u&&(e.top=l-t.minHeight),r&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseInt(i[t],10)||0,n[t]+=parseInt(r[t],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,i=this.originalPosition;return{left:i.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,i,r,o,s,a,l=e(this).resizable("instance"),c=l.options,u=l.element,h=c.containment,f=h instanceof e?h.get(0):/parent/.test(h)?u.parent().get(0):h;f&&(l.containerElement=e(f),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(f),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,i){n[e]=l._num(t.css("padding"+i))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(f,"left")?f.scrollWidth:o,a=l._hasScroll(f)?f.scrollHeight:r,l.parentData={element:f,left:i.left,top:i.top,width:s,height:a}))},resize:function(t){var n,i,r,o,s=e(this).resizable("instance"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||t.shiftKey,h={top:0,left:0},f=s.containerElement,d=!0;f[0]!==document&&/static/.test(f.css("position"))&&(h=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-h.left),u&&(s.size.height=s.size.width/s.aspectRatio,d=!1),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio,d=!1),s.position.top=s._helper?l.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-h.left:s.offset.left-l.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-h.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,u&&(s.size.height=s.size.width/s.aspectRatio,d=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,u&&(s.size.width=s.size.height*s.aspectRatio,d=!1)),d||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,i=t.containerOffset,r=t.containerPosition,o=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width,c=s.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:a.left-r.left-i.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:a.left-r.left-i.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),n=t.options;e(n.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,n){var i=e(this).resizable("instance"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0};e(r.alsoResize).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),r={},o=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(a[t]||0);n&&n>=0&&(r[t]=n||null)}),t.css(r)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,h=Math.round((r.width-o.width)/c)*c,f=Math.round((r.height-o.height)/u)*u,d=o.width+h,p=o.height+f,g=i.maxWidth&&i.maxWidth<d,m=i.maxHeight&&i.maxHeight<p,v=i.minWidth&&i.minWidth>d,_=i.minHeight&&i.minHeight>p;i.grid=l,v&&(d+=c),_&&(p+=u),g&&(d-=c),m&&(p-=u),/^(se|s|e)$/.test(a)?(n.size.width=d,n.size.height=p):/^(ne)$/.test(a)?(n.size.width=d,n.size.height=p,n.position.top=s.top-f):/^(sw)$/.test(a)?(n.size.width=d,n.size.height=p,n.position.left=s.left-h):((p-u<=0||d-c<=0)&&(t=n._getPaddingPlusBorderDimensions(this)),p-u>0?(n.size.height=p,n.position.top=s.top-f):(p=u-t.height,n.size.height=p,n.position.top=s.top+o.height-p),d-c>0?(n.size.width=d,n.position.left=s.left-h):(d=c-t.width,n.size.width=d,n.position.left=s.left+o.width-d))}});e.ui.resizable,e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,o.widgetName+"-item")===o)return i=e(this),!1}),e.data(t.target,o.widgetName+"-item")===o&&(i=e(t.target)),!!i&&(!(this.options.handle&&!n&&(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),t.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),a!==!1&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||e.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,s=o+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||i+c>a&&i+c<l,f="y"===this.options.axis||t+u>o&&t+u<s,d=h&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?d:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=t&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!i&&(this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){a.push(this)}var i,r,o,s,a=[],l=[],c=this._connectWith();if(c&&t)for(i=c.length-1;i>=0;i--)for(o=e(c[i],this.document[0]),r=o.length-1;r>=0;r--)s=e.data(o[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,c,u=this.items,h=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(n=f.length-1;n>=0;n--)for(r=e(f[n],this.document[0]),i=r.length-1;i>=0;i--)o=e.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(h.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(s=h[n][1],a=h[n][0],i=0,c=a.length;i<c;i++)l=e(a[i]),l.data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+i+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===i?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(r)):"tr"===i?t._createTrPlaceholder(t.currentItem,r):"img"===i&&r.attr("src",t.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(e,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var i=this;t.children().each(function(){e("<td>&#160;</td>",i.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(t){var n,i,r,o,s,a,l,c,u,h,f=null,d=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&e.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],d=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",t,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(r=1e4,o=null,u=f.floating||this._isFloating(this.currentItem),s=u?"left":"top",a=u?"width":"height",h=u?"clientX":"clientY",i=this.items.length-1;i>=0;i--)e.contains(this.containers[d].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],c=!1,t[h]-l>this.items[i][a]/2&&(c=!0),Math.abs(t[h]-l)<r&&(r=Math.abs(t[h]-l),o=this.items[i],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return void(this.currentContainer.containerCache.over||(this.containers[d]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[d].element,!0),this._trigger("change",t,this._uiHash()),this.containers[d]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",t,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],n=e(r.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);
return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,o=t.pageX,s=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){function n(e,t,n){return function(i){n._trigger(e,i,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<r.length;i++)r[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})})},function(e,t,n){var i=n(28);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="multi-screen">\n  <div class="multi-screen-hd">\n    <i class="icon-multi-screen-hd"></i>一屏多看\n    <a class="multi-screen-close" href="javascript:;">&times;</a>\n  </div>\n  <div class="multi-screen-list clearfix">\n    <div class="multi-screen-item multi-screen-item-add">\n      <div class="multi-screen-item-wrap">\n        <div class="icon-multi-screen-add-room-wrap">\n          <a href="javascript:;" class="icon-multi-screen-add-room"></a>\n        </div>\n        <div class="multi-screen-add-room-wrap">\n          <form action="/" method="get" target="_top" class="multi-screen-add-room">\n            <input type="text" class="multi-screen-add-room-input" autocomplete="off" placeholder="请输入房间号">\n            <input type="submit" class="multi-screen-add-room-ok" value="添加">\n            <a href="javascript:;" class="multi-screen-add-room-cancel">取消</a>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="multi-screen-error-msg"></div>\n  <div class="multi-screen-friendly-notice"></div>\n</div>\n'},useData:!0})},function(e,t,n){"user strict";function i(){try{s=a.get(l),s=s?JSON.parse(s):{}}catch(e){s={}}}function r(e,t){s[e]=t,a.set(l,JSON.stringify(s))}function o(e,t){return t&&i(),e?s[e]:$.extend({},s)}n(106);var s,a=window.LS,l="panda.tv/user/multiscreen";i(),e.exports={set:r,get:o}},function(e,t){"use strict";e.exports={roomEmpty:"房间号码不能为空",roomInvalid:"房间号码不合法",roomInList:"您已经添加过此房间",roomNotExits:"Oh NO, 该房间不存在",tooManyRequest:"正在处理，请稍等",roomAddFail:"房间添加失败"}},function(e,t,n){"use strict";function i(e,t){a=$(e),l=t||{},r()}function r(){$(window).on("resize",o)}function o(){s();var e=a.offset(),t=a.width(),n=a.height(),i=$(window),r=i.width(),o=i.height(),l=i.scrollLeft(),c=i.scrollTop();t<r?(e.left<l&&a.css({left:"0px",right:"auto"}),e.left+t>l+r&&a.css({left:"auto",right:"0px"})):a.css({left:"0",right:"auto"}),n<o?(e.top<c&&a.css({top:"0px",bottom:"auto"}),e.top+n>c+o&&a.css({top:"auto",bottom:"0px"})):a.css({top:"0px",bottom:"auto"})}function s(){var e=a.find(".multi-screen-item").not(".multi-screen-item-add").length;0==e?(a.removeClass("multi-screen-line-2-items multi-screen-line-3-items multi-screen-line-4-items"),a.css("width","auto"),c.set("boxStyle",a.attr("style"))):e<4?(a.removeClass("multi-screen-line-3-items multi-screen-line-4-items"),a.addClass("multi-screen-line-2-items")):e<9?(a.removeClass("multi-screen-line-2-items multi-screen-line-4-items"),a.addClass("multi-screen-line-3-items")):(a.removeClass("multi-screen-line-2-items multi-screen-line-3-items"),a.addClass("multi-screen-line-4-items")),e>=12?a.find(".multi-screen-item-add").hide():a.find(".multi-screen-item-add").show()}var a,l,c=n(473);e.exports={init:i,resize:o,resizeColume:s}},function(e,t,n){"use strict";function i(){r(),a()}function r(){c&&(clearTimeout(c),c=null),c=setTimeout(function(){o(),r()},p)}function o(){var e=f.get("rooms",!0),t=f.get("updatetime",!0),n=+new Date;if(e&&n-(t||n)>p){var i=e.join(",");i&&h.getRoomsInfo(i).done(function(e){if(e&&e.length){var t=[];t=$.map(e,function(e,t){return e.id}),s(t),f.set("updatetime",+new Date)}})}}function s(e){var t=f.get("rooms"),n=f.get("status"),i=!1;$.each(t,function(r,o){$.inArray(o,e)==-1&&(t.splice(r,1),n.splice(r,1),i=!0)}),i&&(f.set("rooms",t),f.set("status",n))}function a(){u&&(clearTimeout(u),u=null),u=setTimeout(function(){l(),a()},g)}function l(){var e=f.get("rooms",!0)||[];d.getItems().then(function(t){$.each(t,function(t,n){$.inArray(n.roomId,e)==-1&&d.remove(n.roomId)})})}var c,u,h=n(477),f=n(473),d=n(478),p=3e5,g=1e4;e.exports={init:i}},function(e,t){"use strict";function n(e,t,n){return t=t||{},n=n||{},PDR.ajax(e,$.extend({},n,{data:t,dataType:"json"}))}function i(){var e=$.Deferred();return n("/ajax_get_cconfig",{key:"multiscreen_rooms"}).then(function(t){0==t.errno&&t.data&&t.data.length>0?e.resolve(t.data.join(",")):e.resolve(null)}).fail(function(){e.reject(null)}),e.promise()}function r(e){var t=$.Deferred();return e?n("/api_rooms_videoinfo",{roomids:e}).then(function(e){0==e.errno&&e.data?t.resolve(e.data):t.resolve([])}).fail(function(){t.resolve([])}):t.resolve([]),t.promise()}e.exports={getDefaultRooms:i,getRoomsInfo:r}},function(e,t,n){"use strict";function i(){if(!w)return $.when(o()).then(m.getRoomsInfo).then(s).then(a)}function r(){v.on("multiscreen-video-play-changed",l),v.on("multiscreen-video-volume-changed",l)}function o(){var e=_.get("rooms");return e?e.join(","):""}function s(e){var t=e.length,n=_.get("rooms"),i=_.get("status");return $.each(e,function(e,r){if(r.id){var o=$.inArray(r.id,n);y.push(new b($.extend(r,{status:o>-1&&i[o]?i[o]:{}})))}else t--}),t>0?y.slice(-t):[]}function a(){return r(),g(),_.set("updatetime",+new Date),w=!0,y}function l(e){var t=_.get("rooms"),n=_.get("status");if(e.updateCache&&e.roomId&&t){var i=$.inArray(e.roomId,t);i>-1&&(n[i][e.type]=e.value,_.set("status",n))}}function c(){return w?$.when(y):i()}function u(e){return m.getRoomsInfo(e).then(s).then(h)}function h(e){return e&&e.length?(g(),e):[]}function f(e){var t=!1;$.each(y,function(n,i){if(i.roomId==e)return i.destroy(),y.splice(n,1),t=!0,!1}),t&&g()}function d(){var e=_.get("rooms"),t=_.get("status");$.each(y,function(n,i){var r=$.inArray(i.roomId,e);r>-1&&t[r]&&t[r].play&&i.play()})}function p(){$.each(y,function(e,t){t.pause()})}function g(){var e=[],t=[];$.each(y,function(n,i){e.push(i.roomId),t.push({play:i.isPlaying(),volume:!i.isMuted()})}),_.set("rooms",e),_.set("status",t)}var m=n(477),v=n(13),_=n(473),b=n(479),y=[],w=!1;e.exports={init:i,getItems:c,add:u,remove:f,restoreAllPlayStatus:d,pauseAllPlayStatus:p}},function(e,t,n){"use strict";function i(e){this.roomId=e.id,this.level=e.level,this.roomKey=e.room_key,this.plFlag=e.videoinfo.plflag,this.livePlaying=e.videoinfo.status==s.LIVE_PLAYING,this.playStatus=e.status.play!==!1,this.hlsType=this.level>l?"_mid":"",this.hlsUrl=PDR.getProtocol()+"//pl-hls"+this.plFlag.split("_")[1]+".live.panda.tv/live_panda/"+this.roomKey+this.hlsType+".m3u8"+r(e.videoinfo.plflag_list),this.$el=$(a($.extend(e,{playStatus:this.playStatus,livePlaying:this.livePlaying}))),this.$video=this.$el.find("video"),this.videoInited=!1,this.$play=this.$el.find(".multi-screen-video-play"),this.$volume=this.$el.find(".multi-screen-video-volume"),this.hls=this._loadHls(),this._initEvents()}function r(e){if(!e)return"";var t=JSON.parse(e),n=t.auth&&t.auth.sign,i=t.auth&&t.auth.rid,r=t.auth&&t.auth.time;return i?"?sign="+n+"&ts="+r+"&rid="+i:""}var o=n(13),s=n(150),a=n(480),l=5,c=window.Hls&&window.Hls.isSupported();i.prototype._loadHls=function(){if(c&&this.livePlaying){var e=new Hls,t=this;return e.loadSource(this.hlsUrl),e.attachMedia(this.$video[0]),e.on(Hls.Events.MANIFEST_PARSED,function(){t.videoInited=!0,t.$play.addClass("multi-screen-video-pause")}),e}},i.prototype._initEvents=function(){var e=this;this.$el.on("click",".multi-screen-video-play",function(){e._playClickHandler()}),this.$el.on("click",".multi-screen-video-volume",function(){e._volumeClickHandler()})},i.prototype.play=function(e){this.videoInited&&this.livePlaying&&(this.$video[0]&&this.$video[0].play(),this.$play.addClass("multi-screen-video-pause"),this.playStatus=!0,this.hls.destroy(),this.videoInited=!1,this.hls=this._loadHls(),o.triggerEvent("multiscreen-video-play-changed",{type:"play",roomId:this.roomId,value:this.playStatus,updateCache:e}))},i.prototype.pause=function(e){this.videoInited&&(this.$video[0]&&this.$video[0].pause(),this.$play.removeClass("multi-screen-video-pause"),this.playStatus=!1,this._hlsStopLoad(),o.triggerEvent("multiscreen-video-play-changed",{type:"play",roomId:this.roomId,value:this.playStatus,updateCache:e}))},i.prototype._hlsStartLoad=function(){this.hls&&this.hls.startLoad()},i.prototype._hlsStopLoad=function(){this.hls&&this.hls.stopLoad()},i.prototype._openVolume=function(e){this.$video[0]&&(this.$video[0].muted=!1),this.$volume.removeClass("multi-screen-video-no-volume"),o.triggerEvent("multiscreen-video-volume-changed",{type:"volume",roomId:this.roomId,value:!0,updateCache:e})},i.prototype._closeVolume=function(e){this.$video[0]&&(this.$video[0].muted=!0),this.$volume.addClass("multi-screen-video-no-volume"),o.triggerEvent("multiscreen-video-volume-changed",{type:"volume",roomId:this.roomId,value:!1,updateCache:e})},i.prototype._playClickHandler=function(){this.$play.hasClass("multi-screen-video-pause")?this.pause(!0):this.play(!0)},i.prototype._volumeClickHandler=function(){this.$volume.hasClass("multi-screen-video-no-volume")?this._openVolume(!0):this._closeVolume(!0)},i.prototype.isPlaying=function(){return this.playStatus},i.prototype.isMuted=function(){return this.$volume.hasClass("multi-screen-video-no-volume")},i.prototype.destroy=function(){this.hls&&this.hls.destroy(),this.$el.off(),this.$el.remove()},e.exports=i},function(e,t,n){function i(e){return e&&(e.__esModule?e["default"]:e)}var r=n(28);e.exports=(r["default"]||r).template({1:function(e,t,r,o,s){var a,l=null!=t?t:{};return"    <video "+(null!=(a=i(n(174)).call(l,null!=(a=null!=t?t.status:t)?a.volume:a,"===",!1,{name:"ifcond",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?a:"")+" "+(null!=(a=r["if"].call(l,null!=t?t.playStatus:t,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?a:"")+' class="multi-screen-item-video" width=100% height=100%></video>\n'},2:function(e,t,n,i,r){return"muted"},4:function(e,t,n,i,r){return"autoplay"},6:function(e,t,n,i,r){return'    <span class="multi-screen-item-tag multi-screen-item-tag-playing">直播</span>\n'},8:function(e,t,n,i,r){return'    <span class="multi-screen-item-tag">休息</span>\n'},10:function(e,t,n,i,r){return"multi-screen-video-no-volume"},compiler:[7,">= 4.0.0"],main:function(e,t,r,o,s){var a,l=e.lambda,c=e.escapeExpression,u=null!=t?t:{};return'<div class="multi-screen-item" data-id="'+c(l(null!=t?t.id:t,t))+'">\n  <div class="multi-screen-item-wrap">\n    <span class="multi-screen-video-close">&times;</span>\n    <div class="multi-screen-img"><img src="'+c(i(n(252)).call(u,null!=(a=null!=t?t.pictures:t)?a.img:a,{name:"convertPic2Https",hash:{},data:s}))+'" alt="'+c(l(null!=t?t.name:t,t))+'"></div>\n'+(null!=(a=r["if"].call(u,null!=t?t.livePlaying:t,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?a:"")+(null!=(a=r["if"].call(u,null!=t?t.livePlaying:t,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.program(8,s,0),data:s}))?a:"")+'    <a class="multi-screen-video-enter" href="/'+c(l(null!=t?t.id:t,t))+'">进入直播间</a>\n    <div class="multi-screen-video-controller">\n      <span class="multi-screen-video-icon multi-screen-video-volume '+(null!=(a=i(n(174)).call(u,null!=(a=null!=t?t.status:t)?a.volume:a,"===",!1,{name:"ifcond",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?a:"")+'"></span>\n      <span class="multi-screen-video-icon multi-screen-video-play"></span>\n    </div>\n  </div>\n</div>'},useData:!0})},function(e,t,n){"use strict";function i(e,t){c=$(e),u=t||{},c.html(h()),r()}function r(){c.on("click",".friendly-notice-btn-ok",o)}function o(e){e.preventDefault(),l()}function s(e){e==f&&a()}function a(){c.is(":hidden")&&c.fadeIn()}function l(){c.is(":visible")&&c.fadeOut()}var c,u,h=n(482),f=4;e.exports={init:i,check:s,show:a,hide:l}},function(e,t,n){var i=n(28);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<p>为了观看流畅</p>\n<p>可根据自己的网络情况进行房间添加哦！</p>\n<a href="javascript:;" class="friendly-notice-btn-ok">朕知道啦</a>'},useData:!0})},function(e,t,n){var i=n(28);e.exports=(i["default"]||i).template({1:function(e,t,n,i,r,o,s){var a,l=e.escapeExpression,c=null!=t?t:{},u=n.helperMissing,h="function";return'<a target="_blank" data-toggle="panda-monitor" data-paew="pc_web-'+l(e.lambda(null!=s[1]?s[1].page:s[1],t))+'-sidebar_event" class="sidebar-events-item '+l((a=null!=(a=n.colornew||(null!=t?t.colornew:t))?a:u,typeof a===h?a.call(c,{name:"colornew",hash:{},data:r}):a))+'" href="'+l((a=null!=(a=n.link||(null!=t?t.link:t))?a:u,typeof a===h?a.call(c,{name:"link",hash:{},data:r}):a))+'">\n<span class="tag">'+l((a=null!=(a=n.tag||(null!=t?t.tag:t))?a:u,typeof a===h?a.call(c,{name:"tag",hash:{},data:r}):a))+'</span>\n  <span class="event-name">'+l((a=null!=(a=n.name||(null!=t?t.name:t))?a:u,typeof a===h?a.call(c,{name:"name",hash:{},data:r}):a))+"</span>\n</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r,o,s){var a;return null!=(a=n.each.call(null!=t?t:{},null!=t?t.events:t,{name:"each",hash:{},fn:e.program(1,r,0,o,s),inverse:e.noop,data:r}))?a:""},useData:!0,useDepths:!0})},function(e,t,n){"use strict";function i(){var e=location.pathname||"",t="";return PDR.getRoomId()?"room_"+PDR.getRoomId():(t=e.match(/^\/cate\/(\w+)$/))?"cate_"+t[1]:e.replace("/","")}var r=n(485),o=i(),s=[{name:"一屏多看",className:"multiscreen",href:"javascript:;",paew:"pc_web-"+o+"-sidebar_ypdk"},{name:"主播地图",className:"map",href:"/ditu",target:"_top",paew:"pc_web-"+o+"-sidebar_ditu"}],a={op3:{name:"反馈",className:"sidebar-feedback",href:"javascript:;",clickFunction:function(){r.show()}}};e.exports={getCurrentPage:i,functionalsmPlugins:a,functionalArray:s}},function(e,t,n){"use strict";function i(){return j?$.when(this):E.selfInfoInterface.getSelfInfo().then(function(e){e.rid>0&&(y=e.rid),j=!0})}function r(){return j?void(y>0?(_=R.show({title:"问题反馈",content:P(),modalClassName:"feedback-modal"}),b=_.find(".feedback-form"),_.on("submit","form",function(e){return!1}).on("click",".feedback-submit-btn",s),w=_.find("#feedback_start_time").val(),x=_.find("#feedback_end_time").val(),l(),g(),m(),v(),a()):S.login()):void i().then(r)}function o(){_&&(_.modal("hide"),_=null)}function s(e){e.preventDefault();var t=_.find(".feedback-submit-btn");_.find("input[name=roomId]").val(N),_.find("[name=rid]").val(y),t.hasClass("disabled")||c().then(function(){return T.init({scene:"other"})}).then(u).done(h).fail(f).always(p)}function a(){var e=($("#filePicker"),_.find("input[name=screenshotUrl]")),t=_.find(".feedback-form-screenshot-notice");e.val(""),t.html("未上传文件");var n=A.init({pick:{id:"#filePicker",multiple:!1},server:(PDR.host?PDR.getProtocol()+"//"+PDR.host:"")+"/ajax_upload_img"});n.on("uploadSuccess",function(e,n){n.data?(n.data=PDR.getStaticSslUrl(n.data),z[e.__hash]=n.data,$(".feedback-form input[name=screenshotUrl]").val(n.data),t.html("图片已上传")):t.html("图片上传失败")}),n.on("error",function(n,i){var r="出错了";if("F_DUPLICATE"==n)return $(".feedback-form input[name=screenshotUrl]").val(z[i.__hash]),void t.html("图片已上传");switch(n){case"F_EXCEED_SIZE":case"Q_EXCEED_SIZE_LIMIT":r="亲，照片请小于5M";break;default:r="上传失败"}t.html(r),e.val("")}),n.on("uploadError",function(n,i){t.html("图片上传失败"),e.val("")})}function l(){var e=5184e6,t=new Date((new Date).getTime()-e);$("#feedback_start_time").pdatetimepicker({startDate:t,endDate:new Date,viewMode:"yyyy-MM-dd HH:mm:ss",onDateUpdate:function(){}}),$("#feedback_end_time").pdatetimepicker({startDate:t,endDate:new Date,viewMode:"yyyy-MM-dd HH:mm:ss",onDateUpdate:function(){}})}function c(e){var t,n=_.find("[name=model]").val(),i=_.find("#feedback_start_time").val(),r=_.find("#feedback_end_time").val(),o=_.find("[name=feedbackDetail]").val(),s=_.find("[name=feedbackerqq]").val();return t=_.find(".feedback-form-browser [name=model]").length>0?"browser":"model",L.checkMode(t,n).then(function(){return L.checkRegexTime(w,i,x,r)}).then(function(){return L.checkDetail(o)}).then(function(){return L.checkQQ(s)})}function u(e){var t={};d(),$.each(b.serializeArray(),function(){$.trim(this.value)&&(t[this.name]=this.value)});var n=$.Deferred();return E.ajax.postData(I+"/feedback/add",$.extend({},t,e)).done(function(e){e&&0==e.errno?n.resolve(e):n.reject(e.errmsg)}).fail(function(){n.reject("问题反馈失败，请稍后重试~")}),n.promise()}function h(){k.popup("反馈成功",{delayClose:1e3}),o()}function f(e){e&&"close"==e.type||k.popup(e,{delayClose:1e3})}function d(){var e=$(".feedback-form .feedback-submit-btn");e.addClass("disabled").text("处理中...")}function p(){var e=$(".feedback-form .feedback-submit-btn");e.removeClass("disabled").text("确定")}function g(){for(var e=[],t=0;t<O.length;t++){var n=O[t].provinceId,i=O[t].provinceName;e.push({id:n,name:i})}$("#s_province").html(D({lists:e})),$("#s_city").html(D({lists:[{id:11e4,name:"北京"}]}))}function m(){$("#s_province").on("change",function(){for(var e=$(this).get(0).selectedIndex,t=$(this.children),n=t.eq(e),i=Number(n.attr("value")),r=0;r<O.length;r++)if(i===O[r].provinceId)return void $("#s_city").html(D({lists:O[r].cityList}))})}function v(){$("#selectQuestion").on("change",function(){"2"===$(this.children).eq($(this).get(0).selectedIndex).attr("value")?$(".change-platform").html(C({platform:"platform"})):$(".change-platform").html(C())})}var _,b,y,w,x,I="//api.feedback.panda.tv",k=n(53),E=n(3),S=n(66),T=n(112),A=n(117),R=n(48),P=n(486),D=n(487),C=n(488),L=n(489),O=n(490),N=PDR.getRoomId(),z={},j=!1;e.exports={init:i,show:r,hide:o}},function(e,t,n){var i=n(28);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<form class="feedback-form" action="/">\n  <div class="feedback-form-item feedback-form-question">\n    <label class="feedback-form-item-title"><i class="star">*</i>问题分类：</label>\n    <select id="selectQuestion" class="selectQuestion" name="questioncategory">\n      <option value="1">网站问题</option>\n      <option value="2">APP问题</option>\n      <option value="3">账号问题</option>\n      <option value="4">竹子礼物</option>\n      <option value="5">主播问题</option>\n      <option value="6">直播工具</option>\n      <option value="7">活动问题</option>\n      <option value="8">建议意见</option>\n      <option value="9">其它</option>\n    </select>\n  </div>\n  <div class="feedback-form-item change-platform">\n    <div class="feedback-form-system">\n      <label class="feedback-form-item-title"><i class="star">*</i>电脑系统：</label>\n      <select class="selectSystem" name="operatingSystem">\n        <option value="1">WIN10</option>\n        <option value="2">WIN8</option>\n        <option value="3">WIN7</option>\n        <option value="4">WIN XP</option>\n        <option value="5">MAC OS X</option>\n        <option value="6">其它</option>\n      </select>\n    </div>\n    <div class="feedback-form-browser">\n      <label class="feedback-form-item-title"><i class="star">*</i>使用浏览器：</label>\n      <input class="input" type="text" name="model">\n    </div>\n  </div>\n  <div class="feedback-form-item">\n    <div class="feedback-form-area">\n      <label class="feedback-form-item-title"><i class="star">*</i>所在地区：</label>\n      <div class="selectArea">\n        <select id="s_province" class="province" name="province"></select>\n        <select id="s_city" class="city" name="city"></select>\n      </div>\n    </div>\n    <div class="feedback-form-network">\n      <label class="feedback-form-item-title"><i class="star">*</i>网络运营商：</label>\n      <select class="selectNetwork" name="network">\n        <option value="1">中国电信</option>\n        <option value="2">中国联通</option>\n        <option value="3">中国移动</option>\n        <option value="4">中国铁通</option>\n        <option value="5">长城宽带</option>\n        <option value="6">其它</option>\n      </select>\n    </div>\n  </div>\n  <div class="feedback-form-item">\n    <div class="query-date">\n      <label class="feedback-form-item-title"><i class="star">*</i>问题时间：</label>\n      <input type="text" name="starttime" class="time-input" id="feedback_start_time" readonly="readonly" value="开始时间" /> 至\n      <input type="text" name="endtime" class="time-input" id="feedback_end_time" readonly="readonly"  value="结束时间"/>\n      <div class="datetimepicker"></div>\n    </div>\n  </div>\n  <div class="feedback-form-item">\n    <label class="feedback-form-item-title"><i class="star">*</i>详细说明：</label>\n    <textarea name="feedbackDetail" maxlength="200" placeholder="详细描述问题的发生环境、房间号、发生频率等相关信息"></textarea>\n  </div>\n  <div class="feedback-form-item">\n    <label class="feedback-form-item-title"><i class="star">*</i>联系QQ：</label>\n    <input class="input" type="text" name="feedbackerqq">\n  </div>\n  <div class="feedback-form-item clearfix">\n    <div class="feedback-form-uploading">\n      <label class="feedback-form-item-title">截图上传：</label>\n      <div id="filePicker" class="feedback-form-screenshot-upload">上传图片</div>\n      <input type="hidden" name="screenshotUrl">\n      <span class="feedback-form-screenshot-notice">未上传图片</span>\n    </div>\n    <p class="tips">支持jpg、png格式文件， 须小于5M</p>\n  </div>\n  <input type="hidden" name="rid">\n  <input type="hidden" name="roomId">\n  <div class="feedback-form-btns">\n    <a class="feedback-submit-btn" href="javascript:;">确定</a>\n  </div>\n</form>\n'},useData:!0})},function(e,t,n){var i=n(28);e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){var o,s=null!=t?t:{},a=n.helperMissing,l="function",c=e.escapeExpression;return'\t<option value="'+c((o=null!=(o=n.id||(null!=t?t.id:t))?o:a,typeof o===l?o.call(s,{name:"id",hash:{},data:r}):o))+'">'+c((o=null!=(o=n.name||(null!=t?t.name:t))?o:a,typeof o===l?o.call(s,{name:"name",hash:{},data:r}):o))+"</option>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o;return null!=(o=n.each.call(null!=t?t:{},null!=t?t.lists:t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?o:""},useData:!0})},function(e,t,n){var i=n(28);e.exports=(i["default"]||i).template({1:function(e,t,n,i,r){return'<div class="feedback-form-system">\r\n  <label class="feedback-form-item-title"><i class="star">*</i>手机系统：</label>\r\n  <select class="selectModel" name="operatingSystem">\r\n    <option value="1">Android</option>\r\n    <option value="2">IOS</option>\r\n    <option value="3">其它</option>\r\n  </select>\r\n</div>\r\n<div class="feedback-form-model">\r\n  <label class="feedback-form-item-title"><i class="star">*</i>手机型号：</label>\r\n  <input class="input" type="text" name="model">\r\n</div>\r\n'},3:function(e,t,n,i,r){return'<div class="feedback-form-system">\r\n  <label class="feedback-form-item-title"><i class="star">*</i>电脑系统：</label>\r\n  <select class="selectSystem" name="operatingSystem">\r\n    <option value="1">WIN10</option>\r\n    <option value="2">WIN8</option>\r\n    <option value="3">WIN7</option>\r\n    <option value="4">WIN XP</option>\r\n    <option value="5">MAC OS X</option>\r\n    <option value="6">其它</option>\r\n  </select>\r\n</div>\r\n<div class="feedback-form-browser">\r\n  <label class="feedback-form-item-title"><i class="star">*</i>使用浏览器：</label>\r\n  <input class="input" type="text" name="model">\r\n</div>\r\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o;return null!=(o=n["if"].call(null!=t?t:{},null!=t?t.platform:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))?o:""},useData:!0})},function(e,t){"use strict";function n(e){return""==$.trim(e)}function i(e){return+new Date(e)/1e3}function r(e,t){return e.length>t}function o(e,t){var i=$.Deferred();return n(t)?"browser"===e?i.reject(c.empty.browser.msg):i.reject(c.empty.mode.msg):r(t,10)?"browser"===e?i.reject(c.regex.browser.msg):i.reject(c.regex.mode.msg):i.resolve(null),i.promise()}function s(e,t,r,o){var s=$.Deferred();return e===t||n(t)?s.reject(c.regex.starttime.msg):r===o||n(o)?s.reject(c.regex.endtime.msg):i(o)<i(t)?s.reject(c.regex.regextime.msg):s.resolve(null),s.promise()}function a(e){var t=$.Deferred(),i=/^[1-9][0-9]{4,9}$/;return n(e)?t.reject(c.empty.qqNull.msg):i.test(e)?t.resolve(null):t.reject(c.regex.qqInvalid.msg),t.promise()}function l(e){var t=$.Deferred();return n(e)?t.reject(c.empty.detailNull.msg):r(e,200)?t.reject(c.regex.detail.msg):t.resolve(null),t.promise()}var c={regex:{qqInvalid:{msg:"举报人QQ号码不合法"},starttime:{msg:"请选择开始时间"},endtime:{msg:"请输入结束时间"},regextime:{msg:"结束时间早于开始时间，请重新选择"},detail:{msg:"详细说明超过了200字"},browser:{msg:"浏览器说明不能超过10字"},mode:{msg:"手机型号说明不能超过10字"}},empty:{browser:{msg:"请输入使用浏览器"},mode:{msg:"请输入您的手机型号"},detailNull:{msg:"详细说明不能为空"},qqNull:{msg:"举报人QQ号码不能为空"}}};e.exports={checkMode:o,checkRegexTime:s,checkQQ:a,checkEmpty:n,checkDetail:l}},function(e,t){e.exports=[{provinceId:11e4,provinceName:"北京",cityList:[{id:11e4,name:"北京"}]},{provinceId:12e4,provinceName:"天津",cityList:[{id:12e4,name:"天津",parentId:-1}]},{provinceId:13e4,provinceName:"河北省",cityList:[{id:130100,name:"石家庄",parentId:13e4},{id:130200,name:"唐山",parentId:13e4},{id:130300,name:"秦皇岛",parentId:13e4},{id:130400,name:"邯郸",parentId:13e4},{id:130500,name:"邢台",parentId:13e4},{id:130600,name:"保定",parentId:13e4},{id:130700,name:"张家口",parentId:13e4},{id:130800,name:"承德市",parentId:13e4},{id:130900,name:"沧州",parentId:13e4,pinyin:"cangzhou"},{id:131e3,name:"廊坊",parentId:13e4},{id:131100,name:"衡水",parentId:13e4}]},{provinceId:14e4,provinceName:"山西省",cityList:[{id:140100,name:"太原",parentId:14e4},{id:140200,name:"大同",parentId:14e4},{id:140300,name:"阳泉",parentId:14e4},{id:140400,name:"长治",parentId:14e4},{id:140500,name:"晋城",parentId:14e4},{id:140600,name:"朔州",parentId:14e4},{id:140700,name:"晋中",parentId:14e4},{id:140800,name:"运城",parentId:14e4},{id:140900,name:"忻州",parentId:14e4},{id:141e3,name:"临汾",parentId:14e4},{id:141100,name:"吕梁",parentId:14e4}]},{provinceId:15e4,provinceName:"内蒙古",cityList:[{id:150100,name:"呼和浩特",parentId:15e4},{id:150200,name:"包头",parentId:15e4},{id:150300,name:"乌海",parentId:15e4},{id:150400,name:"赤峰",parentId:15e4},{id:150500,name:"通辽",parentId:15e4},{id:150600,name:"鄂尔多斯",parentId:15e4},{id:150700,name:"呼伦贝尔",parentId:15e4},{id:150800,name:"巴彦淖尔",parentId:15e4},{id:150900,name:"乌兰察布",parentId:15e4,pinyin:"wulanchabu"},{id:152200,name:"兴安盟",parentId:15e4},{id:152500,name:"锡林郭勒盟",parentId:15e4},{id:152900,name:"阿拉善盟",parentId:15e4}]},{provinceId:21e4,provinceName:"辽宁省",cityList:[{id:210100,name:"沈阳",parentId:21e4},{id:210200,name:"大连",parentId:21e4},{id:210300,name:"鞍山",parentId:21e4},{id:210400,name:"抚顺",parentId:21e4},{id:210500,name:"本溪",parentId:21e4,pinyin:"benxi"},{id:210600,name:"丹东",parentId:21e4},{id:210700,name:"锦州",parentId:21e4},{id:210800,name:"营口",parentId:21e4},{id:210900,name:"阜新",parentId:21e4},{id:211e3,name:"辽阳",parentId:21e4},{id:211100,name:"盘锦",parentId:21e4},{id:211200,name:"铁岭",parentId:21e4},{id:211300,name:"朝阳",parentId:21e4},{id:211400,name:"葫芦岛",parentId:21e4}]},{provinceId:22e4,provinceName:"吉林省",cityList:[{id:220100,name:"长春",parentId:22e4},{id:220200,name:"吉林",parentId:22e4},{id:220300,name:"四平",parentId:22e4},{id:220400,name:"辽源",parentId:22e4},{id:220500,name:"通化",parentId:22e4},{id:220600,name:"白山",parentId:22e4},{id:220700,name:"松原",parentId:22e4},{id:220800,name:"白城",parentId:22e4},{id:222400,name:"延边",parentId:22e4}]},{provinceId:23e4,provinceName:"黑龙江省",cityList:[{id:230100,name:"哈尔滨",parentId:23e4},{id:230200,name:"齐齐哈尔",parentId:23e4},{id:230300,name:"鸡西",parentId:23e4},{id:230400,name:"鹤岗",parentId:23e4},{id:230500,name:"双鸭山",parentId:23e4},{id:230600,name:"大庆",parentId:23e4},{id:230700,name:"伊春",parentId:23e4},{id:230800,name:"佳木斯",parentId:23e4},{id:230900,name:"七台河",parentId:23e4},{id:231e3,name:"牡丹江",parentId:23e4},{id:231100,name:"黑河",parentId:23e4},{id:231200,name:"绥化",parentId:23e4},{id:232700,name:"大兴安岭",parentId:23e4}]},{provinceId:31e4,provinceName:"上海",cityList:[{id:31e4,name:"上海",parentId:-1}]},{provinceId:32e4,provinceName:"江苏省",cityList:[{id:320100,name:"南京",parentId:32e4},{id:320200,name:"无锡",
parentId:32e4},{id:320300,name:"徐州",parentId:32e4},{id:320400,name:"常州",parentId:32e4},{id:320500,name:"苏州",parentId:32e4},{id:320600,name:"南通",parentId:32e4,pinyin:"nantong"},{id:320700,name:"连云港",parentId:32e4},{id:320800,name:"淮安",parentId:32e4},{id:320900,name:"盐城",parentId:32e4},{id:321e3,name:"扬州",parentId:32e4},{id:321100,name:"镇江",parentId:32e4},{id:321200,name:"泰州",parentId:32e4},{id:321300,name:"宿迁",parentId:32e4}]},{provinceId:33e4,provinceName:"浙江省",cityList:[{id:330100,name:"杭州",parentId:33e4},{id:330200,name:"宁波",parentId:33e4},{id:330300,name:"温州",parentId:33e4},{id:330400,name:"嘉兴",parentId:33e4},{id:330500,name:"湖州",parentId:33e4},{id:330600,name:"绍兴",parentId:33e4},{id:330700,name:"金华",parentId:33e4},{id:330800,name:"衢州",parentId:33e4},{id:330900,name:"舟山",parentId:33e4,pinyin:"zhoushan"},{id:331e3,name:"台州",parentId:33e4},{id:331100,name:"丽水",parentId:33e4}]},{provinceId:34e4,provinceName:"安徽省",cityList:[{id:340100,name:"合肥",parentId:34e4},{id:340200,name:"芜湖",parentId:34e4},{id:340300,name:"蚌埠",parentId:34e4},{id:340400,name:"淮南",parentId:34e4},{id:340500,name:"马鞍山",parentId:34e4},{id:340600,name:"淮北",parentId:34e4},{id:340700,name:"铜陵",parentId:34e4},{id:340800,name:"安庆",parentId:34e4},{id:341e3,name:"黄山",parentId:34e4},{id:341100,name:"滁州",parentId:34e4},{id:341200,name:"阜阳",parentId:34e4},{id:341300,name:"宿州",parentId:34e4},{id:341400,name:"巢湖",parentId:34e4},{id:341500,name:"六安",parentId:34e4},{id:341600,name:"亳州",parentId:34e4},{id:341700,name:"池州",parentId:34e4},{id:341800,name:"宣城",parentId:34e4}]},{provinceId:35e4,provinceName:"福建省",cityList:[{id:350100,name:"福州",parentId:35e4},{id:350200,name:"厦门",parentId:35e4},{id:350300,name:"莆田",parentId:35e4},{id:350400,name:"三明",parentId:35e4},{id:350500,name:"泉州",parentId:35e4},{id:350600,name:"漳州",parentId:35e4},{id:350700,name:"南平",parentId:35e4,pinyin:"nanping"},{id:350800,name:"龙岩",parentId:35e4},{id:350900,name:"宁德",parentId:35e4}]},{provinceId:36e4,provinceName:"江西省",cityList:[{id:360100,name:"南昌",parentId:36e4},{id:360200,name:"景德镇",parentId:36e4},{id:360300,name:"萍乡",parentId:36e4},{id:360400,name:"九江",parentId:36e4},{id:360500,name:"新余",parentId:36e4},{id:360600,name:"鹰潭",parentId:36e4},{id:360700,name:"赣州",parentId:36e4,pinyin:"ganzhou"},{id:360800,name:"吉安",parentId:36e4},{id:360900,name:"宜春",parentId:36e4},{id:361e3,name:"抚州",parentId:36e4},{id:361100,name:"上饶",parentId:36e4}]},{provinceId:37e4,provinceName:"山东省",cityList:[{id:370100,name:"济南",parentId:37e4},{id:370200,name:"青岛",parentId:37e4},{id:370300,name:"淄博",parentId:37e4},{id:370400,name:"枣庄",parentId:37e4},{id:370500,name:"东营",parentId:37e4},{id:370600,name:"烟台",parentId:37e4},{id:370700,name:"潍坊",parentId:37e4,pinyin:"weifang"},{id:370800,name:"济宁",parentId:37e4},{id:370900,name:"泰安",parentId:37e4},{id:371e3,name:"威海",parentId:37e4},{id:371100,name:"日照",parentId:37e4},{id:371200,name:"莱芜",parentId:37e4},{id:371300,name:"临沂",parentId:37e4},{id:371400,name:"德州",parentId:37e4},{id:371500,name:"聊城",parentId:37e4},{id:371600,name:"滨州",parentId:37e4},{id:371700,name:"菏泽",parentId:37e4}]},{provinceId:41e4,provinceName:"河南省",cityList:[{id:410100,name:"郑州",parentId:41e4},{id:410200,name:"开封",parentId:41e4},{id:410300,name:"洛阳",parentId:41e4},{id:410400,name:"平顶山",parentId:41e4},{id:410500,name:"安阳",parentId:41e4},{id:410600,name:"鹤壁",parentId:41e4},{id:410700,name:"新乡",parentId:41e4},{id:410800,name:"焦作",parentId:41e4},{id:410900,name:"濮阳",parentId:41e4},{id:411e3,name:"许昌",parentId:41e4},{id:411100,name:"漯河",parentId:41e4},{id:411200,name:"三门峡",parentId:41e4},{id:411300,name:"南阳",parentId:41e4},{id:411400,name:"商丘",parentId:41e4},{id:411500,name:"信阳",parentId:41e4},{id:411600,name:"周口",parentId:41e4},{id:411700,name:"驻马店",parentId:41e4}]},{provinceId:42e4,provinceName:"湖北省",cityList:[{id:420100,name:"武汉",parentId:42e4},{id:420200,name:"黄石",parentId:42e4},{id:420300,name:"十堰",parentId:42e4},{id:420500,name:"宜昌",parentId:42e4},{id:420600,name:"襄阳",parentId:42e4},{id:420700,name:"鄂州",parentId:42e4},{id:420800,name:"荆门",parentId:42e4},{id:420900,name:"孝感",parentId:42e4},{id:421e3,name:"荆州",parentId:42e4},{id:421100,name:"黄冈",parentId:42e4},{id:421200,name:"咸宁",parentId:42e4},{id:421300,name:"随州",parentId:42e4},{id:422800,name:"恩施",parentId:42e4}]},{provinceId:43e4,provinceName:"湖南省",cityList:[{id:430100,name:"长沙",parentId:43e4},{id:430200,name:"株洲",parentId:43e4},{id:430300,name:"湘潭",parentId:43e4},{id:430400,name:"衡阳",parentId:43e4},{id:430500,name:"邵阳",parentId:43e4},{id:430600,name:"岳阳",parentId:43e4},{id:430700,name:"常德",parentId:43e4},{id:430800,name:"张家界",parentId:43e4},{id:430900,name:"益阳",parentId:43e4},{id:431e3,name:"郴州",parentId:43e4},{id:431100,name:"永州",parentId:43e4},{id:431200,name:"怀化",parentId:43e4},{id:431300,name:"娄底",parentId:43e4},{id:433100,name:"湘西",parentId:43e4}]},{provinceId:44e4,provinceName:"广东省",cityList:[{id:440100,name:"广州",parentId:44e4},{id:440200,name:"韶关",parentId:44e4},{id:440300,name:"深圳",parentId:44e4},{id:440400,name:"珠海",parentId:44e4},{id:440500,name:"汕头",parentId:44e4},{id:440600,name:"佛山",parentId:44e4},{id:440700,name:"江门",parentId:44e4},{id:440800,name:"湛江",parentId:44e4},{id:440900,name:"茂名",parentId:44e4},{id:441200,name:"肇庆",parentId:44e4},{id:441300,name:"惠州",parentId:44e4},{id:441400,name:"梅州",parentId:44e4},{id:441500,name:"汕尾",parentId:44e4},{id:441600,name:"河源",parentId:44e4},{id:441700,name:"阳江",parentId:44e4},{id:441800,name:"清远",parentId:44e4,pinyin:"qingyuan"},{id:441900,name:"东莞",parentId:44e4},{id:442e3,name:"中山",parentId:44e4},{id:445100,name:"潮州",parentId:44e4},{id:445200,name:"揭阳",parentId:44e4},{id:445300,name:"云浮",parentId:44e4}]},{provinceId:45e4,provinceName:"广西",cityList:[{id:450100,name:"南宁",parentId:45e4},{id:450200,name:"柳州",parentId:45e4},{id:450300,name:"桂林",parentId:45e4},{id:450400,name:"梧州",parentId:45e4},{id:450500,name:"北海",parentId:45e4},{id:450600,name:"防城港",parentId:45e4},{id:450700,name:"钦州",parentId:45e4},{id:450800,name:"贵港",parentId:45e4},{id:450900,name:"玉林",parentId:45e4},{id:451e3,name:"百色",parentId:45e4},{id:451100,name:"贺州",parentId:45e4},{id:451200,name:"河池",parentId:45e4},{id:451300,name:"来宾",parentId:45e4,pinyin:"laibin"},{id:451400,name:"崇左",parentId:45e4}]},{provinceId:46e4,provinceName:"海南省",cityList:[{id:460100,name:"海口",parentId:46e4},{id:460200,name:"三亚",parentId:46e4},{id:469e3,name:"省直辖县级行政单位",parentId:46e4}]},{provinceId:5e5,provinceName:"重庆",cityList:[{id:5e5,name:"重庆",parentId:-1}]},{provinceId:51e4,provinceName:"四川省",cityList:[{id:510100,name:"成都",parentId:51e4},{id:510300,name:"自贡",parentId:51e4},{id:510400,name:"攀枝花",parentId:51e4},{id:510500,name:"泸州",parentId:51e4},{id:510600,name:"德阳",parentId:51e4},{id:510700,name:"绵阳",parentId:51e4},{id:510800,name:"广元",parentId:51e4},{id:510900,name:"遂宁",parentId:51e4},{id:511e3,name:"内江",parentId:51e4},{id:511100,name:"乐山",parentId:51e4},{id:511300,name:"南充",parentId:51e4},{id:511400,name:"眉山",parentId:51e4},{id:511500,name:"宜宾",parentId:51e4},{id:511600,name:"广安",parentId:51e4},{id:511700,name:"达州",parentId:51e4},{id:511800,name:"雅安",parentId:51e4},{id:511900,name:"巴中",parentId:51e4},{id:512e3,name:"资阳",parentId:51e4},{id:513200,name:"阿坝州",parentId:51e4},{id:513300,name:"甘孜州",parentId:51e4},{id:513400,name:"凉山州",parentId:51e4}]},{provinceId:52e4,provinceName:"贵州省",cityList:[{id:520100,name:"贵阳",parentId:52e4},{id:520200,name:"六盘水",parentId:52e4},{id:520300,name:"遵义",parentId:52e4},{id:520400,name:"安顺",parentId:52e4},{id:522200,name:"铜仁",parentId:52e4},{id:522300,name:"黔西南",parentId:52e4},{id:522400,name:"毕节",parentId:52e4},{id:522600,name:"黔东南",parentId:52e4},{id:522700,name:"黔南州",parentId:52e4}]},{provinceId:53e4,provinceName:"云南省",cityList:[{id:530100,name:"昆明",parentId:53e4},{id:530300,name:"曲靖",parentId:53e4},{id:530400,name:"玉溪",parentId:53e4},{id:530500,name:"保山",parentId:53e4},{id:530600,name:"昭通",parentId:53e4},{id:530700,name:"丽江",parentId:53e4},{id:530800,name:"思茅",parentId:53e4},{id:530900,name:"临沧",parentId:53e4},{id:532300,name:"楚雄",parentId:53e4},{id:532500,name:"红河",parentId:53e4},{id:532600,name:"文山",parentId:53e4},{id:532800,name:"西双版纳",parentId:53e4},{id:532900,name:"大理",parentId:53e4},{id:533100,name:"德宏",parentId:53e4},{id:533300,name:"怒江",parentId:53e4},{id:533400,name:"迪庆",parentId:53e4}]},{provinceId:54e4,provinceName:"西藏",cityList:[{id:540100,name:"拉萨",parentId:54e4},{id:542100,name:"昌都",parentId:54e4},{id:542200,name:"山南",parentId:54e4},{id:542300,name:"日喀则",parentId:54e4},{id:542400,name:"那曲",parentId:54e4},{id:542500,name:"阿里",parentId:54e4},{id:542600,name:"林芝",parentId:54e4}]},{provinceId:61e4,provinceName:"陕西省",cityList:[{id:610100,name:"西安",parentId:61e4},{id:610200,name:"铜川",parentId:61e4},{id:610300,name:"宝鸡",parentId:61e4},{id:610400,name:"咸阳",parentId:61e4},{id:610500,name:"渭南",parentId:61e4},{id:610600,name:"延安",parentId:61e4},{id:610700,name:"汉中",parentId:61e4},{id:610800,name:"榆林",parentId:61e4},{id:610900,name:"安康",parentId:61e4},{id:611e3,name:"商洛",parentId:61e4}]},{provinceId:62e4,provinceName:"甘肃省",cityList:[{id:620100,name:"兰州",parentId:62e4},{id:620200,name:"嘉峪关",parentId:62e4},{id:620300,name:"金昌",parentId:62e4},{id:620400,name:"白银",parentId:62e4},{id:620500,name:"天水",parentId:62e4},{id:620600,name:"武威",parentId:62e4},{id:620700,name:"张掖",parentId:62e4},{id:620800,name:"平凉",parentId:62e4},{id:620900,name:"酒泉",parentId:62e4},{id:621e3,name:"庆阳",parentId:62e4},{id:621100,name:"定西",parentId:62e4},{id:621200,name:"陇南",parentId:62e4},{id:622900,name:"临夏",parentId:62e4},{id:623e3,name:"甘南",parentId:62e4}]},{provinceId:63e4,provinceName:"青海省",cityList:[{id:630100,name:"西宁",parentId:63e4},{id:632100,name:"海东",parentId:63e4},{id:632200,name:"海北",parentId:63e4},{id:632300,name:"黄南",parentId:63e4},{id:632500,name:"海南",parentId:63e4},{id:632600,name:"果洛",parentId:63e4},{id:632700,name:"玉树",parentId:63e4},{id:632800,name:"海西",parentId:63e4}]},{provinceId:64e4,provinceName:"宁夏",cityList:[{id:640100,name:"银川",parentId:64e4},{id:640200,name:"石嘴山",parentId:64e4},{id:640300,name:"吴忠",parentId:64e4},{id:640400,name:"固原",parentId:64e4},{id:640500,name:"中卫",parentId:64e4}]},{provinceId:65e4,provinceName:"新疆",cityList:[{id:650100,name:"乌鲁木齐",parentId:65e4},{id:650200,name:"克拉玛依",parentId:65e4},{id:652100,name:"吐鲁番",parentId:65e4},{id:652200,name:"哈密",parentId:65e4},{id:652300,name:"昌吉",parentId:65e4},{id:652700,name:"博尔塔拉",parentId:65e4},{id:652800,name:"巴音郭楞",parentId:65e4},{id:652900,name:"阿克苏",parentId:65e4},{id:653e3,name:"克孜勒苏",parentId:65e4},{id:653100,name:"喀什",parentId:65e4},{id:653200,name:"和田",parentId:65e4},{id:654e3,name:"伊犁",parentId:65e4},{id:654200,name:"塔城",parentId:65e4},{id:654300,name:"阿勒泰",parentId:65e4},{id:659e3,name:"省直辖行政单位",parentId:65e4}]},{provinceId:71e4,provinceName:"台湾",cityList:[{id:71e4,name:"台湾"}]},{provinceId:81e4,provinceName:"香港",cityList:[{id:81e4,name:"香港"}]},{provinceId:82e4,provinceName:"澳门",cityList:[{id:82e4,name:"澳门"}]},{provinceId:9e5,provinceName:"海外",cityList:[{id:9e5,name:"海外"}]}]},function(e,t,n){function i(e){_=$.extend(e,{}),s=$("."+e.ulList||"video-list"),c=e.maxWidth||c,u=e.minWidth||u,m=e.ratio||m,l=e.maxNum||l,$(window).resize(r),r()}function r(){if(s){var e,t=s.width(),n=Math.min(Math.max(Math.ceil(t/c),1),l),i=h*n,r=Math.max(Math.min(Math.floor((t-i)/n),c),u),a=Math.floor((r-d)*m),_=2*r+h,b=2*(a+p)+f,y=b-g,w=2*r+h,x=a+p,I=Math.max(Math.floor(y*v),_);videoleft=Math.min(Math.floor(_/2-I/2),0),e={num:n,liWidth:r,imgHeight:a,highLiWith:_,highLiHeight:b,highImgHeight:y,sliderWidth:w,sliderHeight:x,videoWidth:I,videoleft:videoleft},o(e)}}function o(e){var t=".video-list-item { width:"+e.liWidth+"px !important; } .video-list-item .video-img { height:"+e.imgHeight+"px !important; } ",n=".video-highlight { width:"+e.highLiWith+"px !important; height:"+e.highLiHeight+"px !important; } .video-highlight .video-img { height:"+e.highImgHeight+"px !important; } ",i=".cate-slider-wrapper { width:"+e.sliderWidth+"px !important; height:"+e.sliderHeight+"px !important; } .bx-viewport { height:"+e.sliderHeight+"px !important;}",r=".video-highlight .video-hls{ width:"+e.videoWidth+"px !important; left:"+e.videoleft+"px !important;}",o=t+r;_.showHighlight&&(o+=n),_.showSlider&&(o+=i),b.html("<style>"+o+"</style>"),a.triggerEvent("listpage-resize",e)}var s,a=n(13),l=6,c=330,u=180,h=12,f=20,d=0,p=102,g=140,m=.5625,v=16/9,_={},b=$('<div style="display:none;"></div>');$(function(){$("body").append(b)}),e.exports.initialize=i,e.exports.refresh=r},function(e,t,n){function i(e){return e&&(e.__esModule?e["default"]:e)}var r=n(28);e.exports=(r["default"]||r).template({1:function(e,t,r,o,s){var a,l=e.lambda,c=e.escapeExpression;return'  <a target="_blank" href="'+c(l(null!=(a=null!=t?t.content:t)?a.link:a,t))+'" data-tfate-posid="'+c(l(null!=t?t.alias:t,t))+'" data-tfate-adid="'+c(l(null!=t?t.ad_id:t,t))+'" data-tfate-monitor-view="'+c(l(null!=t?t.view_m_link:t,t))+'" data-tfate-monitor-click="'+c(l(null!=t?t.click_m_link:t,t))+'">\n    <img class="thumb-img thumb-img-lazy" src="'+c(i(n(252)).call(null!=t?t:{},null!=(a=null!=t?t.content:t)?a.img:a,{name:"convertPic2Https",hash:{},data:s}))+'">\n  </a>\n'},3:function(e,t,r,o,s){var a;return'  <img class="thumb-img thumb-img-lazy" src="'+e.escapeExpression(i(n(252)).call(null!=t?t:{},null!=(a=null!=t?t.content:t)?a.img:a,{name:"convertPic2Https",hash:{},data:s}))+'">\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o;return null!=(o=n["if"].call(null!=t?t:{},null!=(o=null!=t?t.content:t)?o.link:o,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))?o:""},useData:!0})},function(e,t,n){"use strict";function i(e){return d=e||{},r()}function r(){return PDR.ajax("/ajax_tfate_getcards",{data:{ids:d.ids.join(",")},dataType:"json"}).then(function(e){return e&&0==e.errno&&$.each(e.data,function(e,t){t.ad_id&&(g[t.alias]=t)}),g})}function o(e){return e?g[e]:g}function s(e,t,n){switch(t){case"view":a(e,n);break;case"click":l(e,n);break;default:a(e,n),l(e,n)}}function a(e,t){if($.isArray(e))return void $.each(e,function(e,n){a(n,t)});t=t||{};var n=$("[data-tfate-posid="+e+"]");(t.allowRepeat||n.length&&!m[e])&&$(document).ready(function(i){m[e]?u(i.extend({},n.data(),t)):c(n,t),m[e]=!0})}function l(e,t){return $.isArray(e)?void $.each(e,function(e,t){l(t)}):(t=t||{},void $(document).on("click","[data-tfate-posid="+e+"]",function(e){var n=$(this),i=n.data("tfate-monitor-click");h($.extend({},n.data(),t)),i&&n.attr("href",i)}))}function c(e,t){e&&e.length&&p.run(e,function(e){u($.extend({},e.data(),t))},t)}function u(e){e&&(window.PANDA_MONITOR.nlog({pae:"ad_view",paew:"tfate_view-"+e.tfatePosid+"-"+e.tfateAdid}),e.tfateMonitorView&&f(e.tfateMonitorView))}function h(e){e&&window.PANDA_MONITOR.nlog({pae:"ad_click",paew:"tfate_click-"+e.tfatePosid+"-"+e.tfateAdid})}function f(e){var t="log_"+(new Date).getTime()+"_"+ ++_,n=v[t]=new Image;n.onload=n.onerror=function(){v[t]&&(v[t]=null,delete v[t])},n.src=e}var d,p=n(494),g={},m={},v={},_=0;e.exports={init:i,getPosInfo:o,log:s}},function(e,t){"use strict";function n(e,t){var n;return n=t&&t._$ct?t._$ct.offset().top+t._$ct.height():("innerHeight"in f?f.innerHeight:d.height())+d.scrollTop(),n<=e.offset().top-u}function i(e,t){var n;return n=t&&t._$ct?t._$ct.offset().left+t._$ct.width():d.width()+($.fn.scrollLeft?d.scrollLeft():f.pageXOffset),n<=e.offset().left-u}function r(e,t){var n;return n=t&&t._$ct?t._$ct.offset().top:d.scrollTop(),n>=e.offset().top+u+e.height()}function o(e,t){var n;return n=t&&t._$ct?t._$ct.offset().left:$.fn.scrollLeft?d.scrollLeft():f.pageXOffset,n>=e.offset().left+u+e.width()}function s(e,t){e.each(function(s,a){function l(){c.trigger("_lazyexecute_appear")}var c=e.eq(s);c.width()<=0&&c.height()<=0||"none"===c.css("display")||(h?r(c,t)||n(c,t)||l():r(c,t)||o(c,t)||n(c,t)||i(c,t)||l())})}function a(e,t){function n(){s=0,a=+new Date,o=e.apply(i,r),i=null,r=null}var i,r,o,s,a=0;return function(){i=this,r=arguments;var e=new Date-a;return s||(e>=t?n():s=setTimeout(n,t-e)),o}}function l(e,t,n){n=n||{};var i=a(s,c);e.each(function(n,i){var r=e.eq(n);r.one("_lazyexecute_appear",function(){t(r)})}),n._$ct&&n._$ct.length&&n._$ct.on("scroll",function(){i(e,n)}),d.on("resize load scroll",function(){i(e,n)}),$(function(){i(e,n)})}var c=300,u=5,h=!0,f=window,d=$(f);e.exports={run:l}},function(e,t,n){"use strict";function i(e,t){p=t,l=e,h.events()}function r(e){p=e}function o(e){var t=$(this),n=$(this).parents("li").index();f.isTargetDom(n)&&f.createVideoPlay(t)}function s(e){var t=$(this),n=$(this).parents("li").index();f.isTargetDom(n)&&f.videoPlayDestroy(t)}var a,l,c,u=n(496),h={},f={},d=5,p=0;h={events:function(){l.on("mouseenter",".video-list-item-wrap",o),l.on("mouseleave",".video-list-item-wrap",s)}},f={isTargetDom:function(e){return!!(window.GLOBAL_CONFIG.CARD_AUTO_VIDEO_PLAY.page&&p<=window.GLOBAL_CONFIG.CARD_AUTO_VIDEO_PLAY.page)||window.GLOBAL_CONFIG.CARD_AUTO_VIDEO_PLAY.page<1&&e<window.GLOBAL_CONFIG.CARD_AUTO_VIDEO_PLAY.num},createVideoPlay:function(e){var t=e.data("id");f.randerHlsPlayer(e,t)},randerHlsPlayer:function(e,t){clearInterval(a),a=setInterval(function(){f.randerVideoPlayer(e,t)},500)},videoPlayDestroy:function(e){clearInterval(a),e.removeClass("video-player-autoplay"),e.find(".video-autoplay-container").remove(),c&&c.destroy()},_getSignArgument:function(e){if(!e)return"";var t=JSON.parse(e),n=t.auth&&t.auth.sign,i=t.auth&&t.auth.rid,r=t.auth&&t.auth.time;return i?"?sign="+n+"&ts="+r+"&rid="+i:""},randerVideoPlayer:function(e,t){f.videoPlayDestroy($(".video-autoplay-container").parents(".video-list-item")),e.hasClass("video-player-autoplay")||0==e.find(".video-hls").length&&(e.addClass("video-player-autoplay"),f.getRoomsInfo(t).done(function(t){var n=t[0],i=n.level>d?"_mid":"";if(n){var r=n.videoinfo.plflag;r=r.split("_");var o=e.find(".video-cover").append(u()),s=PDR.getProtocol()+"//pl-hls"+r[1]+".live.panda.tv/live_panda/"+n.videoinfo.room_key+i+".m3u8"+f._getSignArgument(n.videoinfo.plflag_list);c=new Hls({manifestLoadingTimeOut:25e3,maxBufferLength:5,maxMaxBufferLength:100,manifestLoadingMaxRetry:10,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:1e5,maxBufferSize:1e6,startFragPrefech:!1}),c.loadSource(s),c.attachMedia(o.children(".video-autoplay-container").find("video")[0])}}))},getData:function(e,t,n){return t=t||{},n=n||{},PDR.ajax(e,$.extend({},n,{data:t,dataType:"json"}))},getRoomsInfo:function(e){var t=$.Deferred();return e?f.getData("/api_rooms_videoinfo",{roomids:e}).then(function(e){0==e.errno&&e.data?t.resolve(e.data):t.resolve([])}).fail(function(){t.resolve([])}):t.resolve([]),t.promise()}},e.exports={init:i,pageUpdate:r}},function(e,t,n){var i=n(28);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="video-autoplay-container">\n  <video muted autoplay width=100% height=100% class="video-hls"></video>\n</div>'},useData:!0})}]);